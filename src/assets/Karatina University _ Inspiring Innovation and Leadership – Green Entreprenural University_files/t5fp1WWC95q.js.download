;/*FB_PKG_DELIM*/

__d("DGWGlobalLogger",["gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=b.prototype;a.$1=function(a){if(window.BroadcastChannel!=null)return new BroadcastChannel(a);else return{onmessage:function(a){},postMessage:function(a){}}};function b(){var a=this;this.tabID=c("uuidv4")();this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={realtime:0,lightspeed:0};this.broadcastChannel=this.$1("DGWGlobalLogger");this.broadcastChannel.onmessage=function(b){b=JSON.parse(String(b.data));var c=!a.otherTabs.has(b.key);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$2())}}a.streamRequested=function(a){switch(a){case"realtime":this.thisTab.realtime++;break;case"lightspeed":this.thisTab.lightspeed++;break}this.$2()};a.streamClosed=function(a){switch(a){case"realtime":this.thisTab.realtime=Math.max(0,this.thisTab.realtime-1);break;case"lightspeed":this.thisTab.lightspeed=Math.max(0,this.thisTab.lightspeed-1);break}this.$2()};a.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.postMessage(JSON.stringify(a))};a.getGlobalState=function(){var a={realtime:this.thisTab.realtime,lightspeed:this.thisTab.lightspeed};this.otherTabs.forEach(function(b){a.realtime+=b.realtime,a.lightspeed+=b.lightspeed});return a};a.$2=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.postMessage(JSON.stringify(a))};return b}();var h=c("gkx")("4337")?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{realtime:-1,lightspeed:-1}}};b=function(){return h};g.getInstance=b}),98);
__d("QPLMarkerMap",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.size=0,this.$1=new Map()}var b=a.prototype;b.set=function(a,b,c){var d=this.$1.get(a);d===void 0&&(this.$1.set(a,new Map()),d=this.$1.get(a));a=(a=(a=d)==null?void 0:a.has(b))!=null?a:!1;(d=d)==null?void 0:d.set(b,c);a||this.size++};b["delete"]=function(a,b){var c=this.$1.get(a);if(c===void 0)return;if(!c.has(b))return;c["delete"](b);this.size--;c.size===0&&this.$1["delete"](a)};b.get=function(a,b){a=this.$1.get(a);return a===void 0?void 0:a.get(b)};b.has=function(a,b){a=this.$1.get(a);return a===void 0?!1:a.has(b)};b.forEach=function(a){this.$1.forEach(function(b,c){b.forEach(function(b,d){a(b,c,d)})})};return a}();f["default"]=a}),66);