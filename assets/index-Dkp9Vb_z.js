var eq=Object.defineProperty;var JC=e=>{throw TypeError(e)};var tq=(e,t,r)=>t in e?eq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ta=(e,t,r)=>tq(e,typeof t!="symbol"?t+"":t,r),ub=(e,t,r)=>t.has(e)||JC("Cannot "+r);var z=(e,t,r)=>(ub(e,t,"read from private field"),r?r.call(e):t.get(e)),Te=(e,t,r)=>t.has(e)?JC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),we=(e,t,r,n)=>(ub(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ge=(e,t,r)=>(ub(e,t,"access private method"),r);var Ep=(e,t,r,n)=>({set _(a){we(e,t,a,r)},get _(){return z(e,t,n)}});function rq(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nq(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var w5={exports:{}},oy={},j5={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im=Symbol.for("react.element"),sq=Symbol.for("react.portal"),aq=Symbol.for("react.fragment"),iq=Symbol.for("react.strict_mode"),oq=Symbol.for("react.profiler"),lq=Symbol.for("react.provider"),cq=Symbol.for("react.context"),uq=Symbol.for("react.forward_ref"),dq=Symbol.for("react.suspense"),hq=Symbol.for("react.memo"),fq=Symbol.for("react.lazy"),ZC=Symbol.iterator;function mq(e){return e===null||typeof e!="object"?null:(e=ZC&&e[ZC]||e["@@iterator"],typeof e=="function"?e:null)}var N5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_5=Object.assign,S5={};function jd(e,t,r){this.props=e,this.context=t,this.refs=S5,this.updater=r||N5}jd.prototype.isReactComponent={};jd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function k5(){}k5.prototype=jd.prototype;function z_(e,t,r){this.props=e,this.context=t,this.refs=S5,this.updater=r||N5}var V_=z_.prototype=new k5;V_.constructor=z_;_5(V_,jd.prototype);V_.isPureReactComponent=!0;var eP=Array.isArray,C5=Object.prototype.hasOwnProperty,q_={current:null},P5={key:!0,ref:!0,__self:!0,__source:!0};function A5(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)C5.call(t,n)&&!P5.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Im,type:e,key:i,ref:o,props:a,_owner:q_.current}}function pq(e,t){return{$$typeof:Im,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function W_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Im}function gq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tP=/\/+/g;function db(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gq(""+e.key):t.toString(36)}function Eg(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Im:case sq:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+db(o,0):n,eP(a)?(r="",e!=null&&(r=e.replace(tP,"$&/")+"/"),Eg(a,t,r,"",function(u){return u})):a!=null&&(W_(a)&&(a=pq(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(tP,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",eP(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+db(i,l);o+=Eg(i,t,r,c,a)}else if(c=mq(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+db(i,l++),o+=Eg(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Tp(e,t,r){if(e==null)return e;var n=[],a=0;return Eg(e,n,"","",function(i){return t.call(r,i,a++)}),n}function xq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hn={current:null},Tg={transition:null},vq={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:Tg,ReactCurrentOwner:q_};function E5(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:Tp,forEach:function(e,t,r){Tp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Tp(e,function(){t++}),t},toArray:function(e){return Tp(e,function(t){return t})||[]},only:function(e){if(!W_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=jd;Qe.Fragment=aq;Qe.Profiler=oq;Qe.PureComponent=z_;Qe.StrictMode=iq;Qe.Suspense=dq;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vq;Qe.act=E5;Qe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_5({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=q_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)C5.call(t,c)&&!P5.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Im,type:e.type,key:a,ref:i,props:n,_owner:o}};Qe.createContext=function(e){return e={$$typeof:cq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lq,_context:e},e.Consumer=e};Qe.createElement=A5;Qe.createFactory=function(e){var t=A5.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:uq,render:e}};Qe.isValidElement=W_;Qe.lazy=function(e){return{$$typeof:fq,_payload:{_status:-1,_result:e},_init:xq}};Qe.memo=function(e,t){return{$$typeof:hq,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=Tg.transition;Tg.transition={};try{e()}finally{Tg.transition=t}};Qe.unstable_act=E5;Qe.useCallback=function(e,t){return hn.current.useCallback(e,t)};Qe.useContext=function(e){return hn.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return hn.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return hn.current.useEffect(e,t)};Qe.useId=function(){return hn.current.useId()};Qe.useImperativeHandle=function(e,t,r){return hn.current.useImperativeHandle(e,t,r)};Qe.useInsertionEffect=function(e,t){return hn.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return hn.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return hn.current.useMemo(e,t)};Qe.useReducer=function(e,t,r){return hn.current.useReducer(e,t,r)};Qe.useRef=function(e){return hn.current.useRef(e)};Qe.useState=function(e){return hn.current.useState(e)};Qe.useSyncExternalStore=function(e,t,r){return hn.current.useSyncExternalStore(e,t,r)};Qe.useTransition=function(){return hn.current.useTransition()};Qe.version="18.3.1";j5.exports=Qe;var x=j5.exports;const O=ot(x),T5=rq({__proto__:null,default:O},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yq=x,bq=Symbol.for("react.element"),wq=Symbol.for("react.fragment"),jq=Object.prototype.hasOwnProperty,Nq=yq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_q={key:!0,ref:!0,__self:!0,__source:!0};function O5(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)jq.call(t,n)&&!_q.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:bq,type:e,key:i,ref:o,props:a,_owner:Nq.current}}oy.Fragment=wq;oy.jsx=O5;oy.jsxs=O5;w5.exports=oy;var s=w5.exports,M5={exports:{}},Wn={},R5={exports:{}},D5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,V){var Y=I.length;I.push(V);e:for(;0<Y;){var se=Y-1>>>1,ie=I[se];if(0<a(ie,V))I[se]=V,I[Y]=ie,Y=se;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var V=I[0],Y=I.pop();if(Y!==V){I[0]=Y;e:for(var se=0,ie=I.length,je=ie>>>1;se<je;){var Ee=2*(se+1)-1,at=I[Ee],et=Ee+1,pe=I[et];if(0>a(at,Y))et<ie&&0>a(pe,at)?(I[se]=pe,I[et]=Y,se=et):(I[se]=at,I[Ee]=Y,se=Ee);else if(et<ie&&0>a(pe,Y))I[se]=pe,I[et]=Y,se=et;else break e}}return V}function a(I,V){var Y=I.sortIndex-V.sortIndex;return Y!==0?Y:I.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=I)n(u),V.sortIndex=V.expirationTime,t(c,V);else break;V=r(u)}}function j(I){if(p=!1,w(I),!g)if(r(c)!==null)g=!0,U(N);else{var V=r(u);V!==null&&q(j,V.startTime-I)}}function N(I,V){g=!1,p&&(p=!1,b(k),k=-1),m=!0;var Y=f;try{for(w(V),h=r(c);h!==null&&(!(h.expirationTime>V)||I&&!E());){var se=h.callback;if(typeof se=="function"){h.callback=null,f=h.priorityLevel;var ie=se(h.expirationTime<=V);V=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===r(c)&&n(c),w(V)}else n(c);h=r(c)}if(h!==null)var je=!0;else{var Ee=r(u);Ee!==null&&q(j,Ee.startTime-V),je=!1}return je}finally{h=null,f=Y,m=!1}}var S=!1,_=null,k=-1,C=5,P=-1;function E(){return!(e.unstable_now()-P<C)}function T(){if(_!==null){var I=e.unstable_now();P=I;var V=!0;try{V=_(!0,I)}finally{V?F():(S=!1,_=null)}}else S=!1}var F;if(typeof v=="function")F=function(){v(T)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=T,F=function(){$.postMessage(null)}}else F=function(){y(T,0)};function U(I){_=I,S||(S=!0,F())}function q(I,V){k=y(function(){I(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,U(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var Y=f;f=V;try{return I()}finally{f=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,V){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Y=f;f=I;try{return V()}finally{f=Y}},e.unstable_scheduleCallback=function(I,V,Y){var se=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?se+Y:se):Y=se,I){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Y+ie,I={id:d++,callback:V,priorityLevel:I,startTime:Y,expirationTime:ie,sortIndex:-1},Y>se?(I.sortIndex=Y,t(u,I),r(c)===null&&I===r(u)&&(p?(b(k),k=-1):p=!0,q(j,Y-se))):(I.sortIndex=ie,t(c,I),g||m||(g=!0,U(N))),I},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(I){var V=f;return function(){var Y=f;f=V;try{return I.apply(this,arguments)}finally{f=Y}}}})(D5);R5.exports=D5;var Sq=R5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kq=x,Vn=Sq;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $5=new Set,xf={};function nc(e,t){Ru(e,t),Ru(e+"Capture",t)}function Ru(e,t){for(xf[e]=t,e=0;e<t.length;e++)$5.add(t[e])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aj=Object.prototype.hasOwnProperty,Cq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rP={},nP={};function Pq(e){return aj.call(nP,e)?!0:aj.call(rP,e)?!1:Cq.test(e)?nP[e]=!0:(rP[e]=!0,!1)}function Aq(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Eq(e,t,r,n){if(t===null||typeof t>"u"||Aq(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Br[e]=new fn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Br[t]=new fn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Br[e]=new fn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Br[e]=new fn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Br[e]=new fn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Br[e]=new fn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Br[e]=new fn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Br[e]=new fn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Br[e]=new fn(e,5,!1,e.toLowerCase(),null,!1,!1)});var H_=/[\-:]([a-z])/g;function K_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(H_,K_);Br[t]=new fn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(H_,K_);Br[t]=new fn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(H_,K_);Br[t]=new fn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Br[e]=new fn(e,1,!1,e.toLowerCase(),null,!1,!1)});Br.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Br[e]=new fn(e,1,!1,e.toLowerCase(),null,!0,!0)});function G_(e,t,r,n){var a=Br.hasOwnProperty(t)?Br[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Eq(t,r,a,n)&&(r=null),n||a===null?Pq(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var mi=kq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Op=Symbol.for("react.element"),Mc=Symbol.for("react.portal"),Rc=Symbol.for("react.fragment"),Y_=Symbol.for("react.strict_mode"),ij=Symbol.for("react.profiler"),I5=Symbol.for("react.provider"),L5=Symbol.for("react.context"),X_=Symbol.for("react.forward_ref"),oj=Symbol.for("react.suspense"),lj=Symbol.for("react.suspense_list"),Q_=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),F5=Symbol.for("react.offscreen"),sP=Symbol.iterator;function nh(e){return e===null||typeof e!="object"?null:(e=sP&&e[sP]||e["@@iterator"],typeof e=="function"?e:null)}var Gt=Object.assign,hb;function Th(e){if(hb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hb=t&&t[1]||""}return`
`+hb+e}var fb=!1;function mb(e,t){if(!e||fb)return"";fb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{fb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Th(e):""}function Tq(e){switch(e.tag){case 5:return Th(e.type);case 16:return Th("Lazy");case 13:return Th("Suspense");case 19:return Th("SuspenseList");case 0:case 2:case 15:return e=mb(e.type,!1),e;case 11:return e=mb(e.type.render,!1),e;case 1:return e=mb(e.type,!0),e;default:return""}}function cj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rc:return"Fragment";case Mc:return"Portal";case ij:return"Profiler";case Y_:return"StrictMode";case oj:return"Suspense";case lj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case L5:return(e.displayName||"Context")+".Consumer";case I5:return(e._context.displayName||"Context")+".Provider";case X_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q_:return t=e.displayName||null,t!==null?t:cj(e.type)||"Memo";case Mi:t=e._payload,e=e._init;try{return cj(e(t))}catch{}}return null}function Oq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cj(t);case 8:return t===Y_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function B5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mq(e){var t=B5(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mp(e){e._valueTracker||(e._valueTracker=Mq(e))}function U5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=B5(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ix(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uj(e,t){var r=t.checked;return Gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function aP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=mo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function z5(e,t){t=t.checked,t!=null&&G_(e,"checked",t,!1)}function dj(e,t){z5(e,t);var r=mo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hj(e,t.type,r):t.hasOwnProperty("defaultValue")&&hj(e,t.type,mo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hj(e,t,r){(t!=="number"||ix(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Oh=Array.isArray;function eu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+mo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function fj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return Gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(le(92));if(Oh(r)){if(1<r.length)throw Error(le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:mo(r)}}function V5(e,t){var r=mo(t.value),n=mo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rp,W5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rp=Rp||document.createElement("div"),Rp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rq=["Webkit","ms","Moz","O"];Object.keys(Vh).forEach(function(e){Rq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vh[t]=Vh[e]})});function H5(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vh.hasOwnProperty(e)&&Vh[e]?(""+t).trim():t+"px"}function K5(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=H5(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Dq=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pj(e,t){if(t){if(Dq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function gj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xj=null;function J_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vj=null,tu=null,ru=null;function cP(e){if(e=Bm(e)){if(typeof vj!="function")throw Error(le(280));var t=e.stateNode;t&&(t=hy(t),vj(e.stateNode,e.type,t))}}function G5(e){tu?ru?ru.push(e):ru=[e]:tu=e}function Y5(){if(tu){var e=tu,t=ru;if(ru=tu=null,cP(e),t)for(e=0;e<t.length;e++)cP(t[e])}}function X5(e,t){return e(t)}function Q5(){}var pb=!1;function J5(e,t,r){if(pb)return e(t,r);pb=!0;try{return X5(e,t,r)}finally{pb=!1,(tu!==null||ru!==null)&&(Q5(),Y5())}}function yf(e,t){var r=e.stateNode;if(r===null)return null;var n=hy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(le(231,t,typeof r));return r}var yj=!1;if(ei)try{var sh={};Object.defineProperty(sh,"passive",{get:function(){yj=!0}}),window.addEventListener("test",sh,sh),window.removeEventListener("test",sh,sh)}catch{yj=!1}function $q(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var qh=!1,ox=null,lx=!1,bj=null,Iq={onError:function(e){qh=!0,ox=e}};function Lq(e,t,r,n,a,i,o,l,c){qh=!1,ox=null,$q.apply(Iq,arguments)}function Fq(e,t,r,n,a,i,o,l,c){if(Lq.apply(this,arguments),qh){if(qh){var u=ox;qh=!1,ox=null}else throw Error(le(198));lx||(lx=!0,bj=u)}}function sc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Z5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uP(e){if(sc(e)!==e)throw Error(le(188))}function Bq(e){var t=e.alternate;if(!t){if(t=sc(e),t===null)throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return uP(a),e;if(i===n)return uP(a),t;i=i.sibling}throw Error(le(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?e:t}function eR(e){return e=Bq(e),e!==null?tR(e):null}function tR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tR(e);if(t!==null)return t;e=e.sibling}return null}var rR=Vn.unstable_scheduleCallback,dP=Vn.unstable_cancelCallback,Uq=Vn.unstable_shouldYield,zq=Vn.unstable_requestPaint,sr=Vn.unstable_now,Vq=Vn.unstable_getCurrentPriorityLevel,Z_=Vn.unstable_ImmediatePriority,nR=Vn.unstable_UserBlockingPriority,cx=Vn.unstable_NormalPriority,qq=Vn.unstable_LowPriority,sR=Vn.unstable_IdlePriority,ly=null,ua=null;function Wq(e){if(ua&&typeof ua.onCommitFiberRoot=="function")try{ua.onCommitFiberRoot(ly,e,void 0,(e.current.flags&128)===128)}catch{}}var $s=Math.clz32?Math.clz32:Gq,Hq=Math.log,Kq=Math.LN2;function Gq(e){return e>>>=0,e===0?32:31-(Hq(e)/Kq|0)|0}var Dp=64,$p=4194304;function Mh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ux(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Mh(l):(i&=o,i!==0&&(n=Mh(i)))}else o=r&~a,o!==0?n=Mh(o):i!==0&&(n=Mh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-$s(t),a=1<<r,n|=e[r],t&=~a;return n}function Yq(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xq(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-$s(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=Yq(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function wj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aR(){var e=Dp;return Dp<<=1,!(Dp&4194240)&&(Dp=64),e}function gb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Lm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$s(t),e[t]=r}function Qq(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-$s(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function e2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-$s(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var mt=0;function iR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var oR,t2,lR,cR,uR,jj=!1,Ip=[],ro=null,no=null,so=null,bf=new Map,wf=new Map,Ii=[],Jq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hP(e,t){switch(e){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":bf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wf.delete(t.pointerId)}}function ah(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Bm(t),t!==null&&t2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Zq(e,t,r,n,a){switch(t){case"focusin":return ro=ah(ro,e,t,r,n,a),!0;case"dragenter":return no=ah(no,e,t,r,n,a),!0;case"mouseover":return so=ah(so,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return bf.set(i,ah(bf.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,wf.set(i,ah(wf.get(i)||null,e,t,r,n,a)),!0}return!1}function dR(e){var t=ol(e.target);if(t!==null){var r=sc(t);if(r!==null){if(t=r.tag,t===13){if(t=Z5(r),t!==null){e.blockedOn=t,uR(e.priority,function(){lR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Og(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xj=n,r.target.dispatchEvent(n),xj=null}else return t=Bm(r),t!==null&&t2(t),e.blockedOn=r,!1;t.shift()}return!0}function fP(e,t,r){Og(e)&&r.delete(t)}function eW(){jj=!1,ro!==null&&Og(ro)&&(ro=null),no!==null&&Og(no)&&(no=null),so!==null&&Og(so)&&(so=null),bf.forEach(fP),wf.forEach(fP)}function ih(e,t){e.blockedOn===t&&(e.blockedOn=null,jj||(jj=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,eW)))}function jf(e){function t(a){return ih(a,e)}if(0<Ip.length){ih(Ip[0],e);for(var r=1;r<Ip.length;r++){var n=Ip[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ro!==null&&ih(ro,e),no!==null&&ih(no,e),so!==null&&ih(so,e),bf.forEach(t),wf.forEach(t),r=0;r<Ii.length;r++)n=Ii[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ii.length&&(r=Ii[0],r.blockedOn===null);)dR(r),r.blockedOn===null&&Ii.shift()}var nu=mi.ReactCurrentBatchConfig,dx=!0;function tW(e,t,r,n){var a=mt,i=nu.transition;nu.transition=null;try{mt=1,r2(e,t,r,n)}finally{mt=a,nu.transition=i}}function rW(e,t,r,n){var a=mt,i=nu.transition;nu.transition=null;try{mt=4,r2(e,t,r,n)}finally{mt=a,nu.transition=i}}function r2(e,t,r,n){if(dx){var a=Nj(e,t,r,n);if(a===null)kb(e,t,n,hx,r),hP(e,n);else if(Zq(a,e,t,r,n))n.stopPropagation();else if(hP(e,n),t&4&&-1<Jq.indexOf(e)){for(;a!==null;){var i=Bm(a);if(i!==null&&oR(i),i=Nj(e,t,r,n),i===null&&kb(e,t,n,hx,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else kb(e,t,n,null,r)}}var hx=null;function Nj(e,t,r,n){if(hx=null,e=J_(n),e=ol(e),e!==null)if(t=sc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Z5(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hx=e,null}function hR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vq()){case Z_:return 1;case nR:return 4;case cx:case qq:return 16;case sR:return 536870912;default:return 16}default:return 16}}var Qi=null,n2=null,Mg=null;function fR(){if(Mg)return Mg;var e,t=n2,r=t.length,n,a="value"in Qi?Qi.value:Qi.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Mg=a.slice(e,1<n?1-n:void 0)}function Rg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lp(){return!0}function mP(){return!1}function Hn(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lp:mP,this.isPropagationStopped=mP,this}return Gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lp)},persist:function(){},isPersistent:Lp}),t}var Nd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s2=Hn(Nd),Fm=Gt({},Nd,{view:0,detail:0}),nW=Hn(Fm),xb,vb,oh,cy=Gt({},Fm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oh&&(oh&&e.type==="mousemove"?(xb=e.screenX-oh.screenX,vb=e.screenY-oh.screenY):vb=xb=0,oh=e),xb)},movementY:function(e){return"movementY"in e?e.movementY:vb}}),pP=Hn(cy),sW=Gt({},cy,{dataTransfer:0}),aW=Hn(sW),iW=Gt({},Fm,{relatedTarget:0}),yb=Hn(iW),oW=Gt({},Nd,{animationName:0,elapsedTime:0,pseudoElement:0}),lW=Hn(oW),cW=Gt({},Nd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uW=Hn(cW),dW=Gt({},Nd,{data:0}),gP=Hn(dW),hW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mW[e])?!!t[e]:!1}function a2(){return pW}var gW=Gt({},Fm,{key:function(e){if(e.key){var t=hW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a2,charCode:function(e){return e.type==="keypress"?Rg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xW=Hn(gW),vW=Gt({},cy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xP=Hn(vW),yW=Gt({},Fm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a2}),bW=Hn(yW),wW=Gt({},Nd,{propertyName:0,elapsedTime:0,pseudoElement:0}),jW=Hn(wW),NW=Gt({},cy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_W=Hn(NW),SW=[9,13,27,32],i2=ei&&"CompositionEvent"in window,Wh=null;ei&&"documentMode"in document&&(Wh=document.documentMode);var kW=ei&&"TextEvent"in window&&!Wh,mR=ei&&(!i2||Wh&&8<Wh&&11>=Wh),vP=" ",yP=!1;function pR(e,t){switch(e){case"keyup":return SW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dc=!1;function CW(e,t){switch(e){case"compositionend":return gR(t);case"keypress":return t.which!==32?null:(yP=!0,vP);case"textInput":return e=t.data,e===vP&&yP?null:e;default:return null}}function PW(e,t){if(Dc)return e==="compositionend"||!i2&&pR(e,t)?(e=fR(),Mg=n2=Qi=null,Dc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mR&&t.locale!=="ko"?null:t.data;default:return null}}var AW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AW[e.type]:t==="textarea"}function xR(e,t,r,n){G5(n),t=fx(t,"onChange"),0<t.length&&(r=new s2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hh=null,Nf=null;function EW(e){PR(e,0)}function uy(e){var t=Lc(e);if(U5(t))return e}function TW(e,t){if(e==="change")return t}var vR=!1;if(ei){var bb;if(ei){var wb="oninput"in document;if(!wb){var wP=document.createElement("div");wP.setAttribute("oninput","return;"),wb=typeof wP.oninput=="function"}bb=wb}else bb=!1;vR=bb&&(!document.documentMode||9<document.documentMode)}function jP(){Hh&&(Hh.detachEvent("onpropertychange",yR),Nf=Hh=null)}function yR(e){if(e.propertyName==="value"&&uy(Nf)){var t=[];xR(t,Nf,e,J_(e)),J5(EW,t)}}function OW(e,t,r){e==="focusin"?(jP(),Hh=t,Nf=r,Hh.attachEvent("onpropertychange",yR)):e==="focusout"&&jP()}function MW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uy(Nf)}function RW(e,t){if(e==="click")return uy(t)}function DW(e,t){if(e==="input"||e==="change")return uy(t)}function $W(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Us=typeof Object.is=="function"?Object.is:$W;function _f(e,t){if(Us(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!aj.call(t,a)||!Us(e[a],t[a]))return!1}return!0}function NP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _P(e,t){var r=NP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=NP(r)}}function bR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wR(){for(var e=window,t=ix();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ix(e.document)}return t}function o2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IW(e){var t=wR(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bR(r.ownerDocument.documentElement,r)){if(n!==null&&o2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=_P(r,i);var o=_P(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LW=ei&&"documentMode"in document&&11>=document.documentMode,$c=null,_j=null,Kh=null,Sj=!1;function SP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sj||$c==null||$c!==ix(n)||(n=$c,"selectionStart"in n&&o2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kh&&_f(Kh,n)||(Kh=n,n=fx(_j,"onSelect"),0<n.length&&(t=new s2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=$c)))}function Fp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ic={animationend:Fp("Animation","AnimationEnd"),animationiteration:Fp("Animation","AnimationIteration"),animationstart:Fp("Animation","AnimationStart"),transitionend:Fp("Transition","TransitionEnd")},jb={},jR={};ei&&(jR=document.createElement("div").style,"AnimationEvent"in window||(delete Ic.animationend.animation,delete Ic.animationiteration.animation,delete Ic.animationstart.animation),"TransitionEvent"in window||delete Ic.transitionend.transition);function dy(e){if(jb[e])return jb[e];if(!Ic[e])return e;var t=Ic[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jR)return jb[e]=t[r];return e}var NR=dy("animationend"),_R=dy("animationiteration"),SR=dy("animationstart"),kR=dy("transitionend"),CR=new Map,kP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function So(e,t){CR.set(e,t),nc(t,[e])}for(var Nb=0;Nb<kP.length;Nb++){var _b=kP[Nb],FW=_b.toLowerCase(),BW=_b[0].toUpperCase()+_b.slice(1);So(FW,"on"+BW)}So(NR,"onAnimationEnd");So(_R,"onAnimationIteration");So(SR,"onAnimationStart");So("dblclick","onDoubleClick");So("focusin","onFocus");So("focusout","onBlur");So(kR,"onTransitionEnd");Ru("onMouseEnter",["mouseout","mouseover"]);Ru("onMouseLeave",["mouseout","mouseover"]);Ru("onPointerEnter",["pointerout","pointerover"]);Ru("onPointerLeave",["pointerout","pointerover"]);nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rh));function CP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Fq(n,t,void 0,e),e.currentTarget=null}function PR(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;CP(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;CP(a,l,u),i=c}}}if(lx)throw e=bj,lx=!1,bj=null,e}function Ot(e,t){var r=t[Ej];r===void 0&&(r=t[Ej]=new Set);var n=e+"__bubble";r.has(n)||(AR(t,e,2,!1),r.add(n))}function Sb(e,t,r){var n=0;t&&(n|=4),AR(r,e,n,t)}var Bp="_reactListening"+Math.random().toString(36).slice(2);function Sf(e){if(!e[Bp]){e[Bp]=!0,$5.forEach(function(r){r!=="selectionchange"&&(UW.has(r)||Sb(r,!1,e),Sb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bp]||(t[Bp]=!0,Sb("selectionchange",!1,t))}}function AR(e,t,r,n){switch(hR(t)){case 1:var a=tW;break;case 4:a=rW;break;default:a=r2}r=a.bind(null,t,r,e),a=void 0,!yj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function kb(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ol(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}J5(function(){var u=i,d=J_(r),h=[];e:{var f=CR.get(e);if(f!==void 0){var m=s2,g=e;switch(e){case"keypress":if(Rg(r)===0)break e;case"keydown":case"keyup":m=xW;break;case"focusin":g="focus",m=yb;break;case"focusout":g="blur",m=yb;break;case"beforeblur":case"afterblur":m=yb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=aW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=bW;break;case NR:case _R:case SR:m=lW;break;case kR:m=jW;break;case"scroll":m=nW;break;case"wheel":m=_W;break;case"copy":case"cut":case"paste":m=uW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=xP}var p=(t&4)!==0,y=!p&&e==="scroll",b=p?f!==null?f+"Capture":null:f;p=[];for(var v=u,w;v!==null;){w=v;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,b!==null&&(j=yf(v,b),j!=null&&p.push(kf(v,j,w)))),y)break;v=v.return}0<p.length&&(f=new m(f,g,null,r,d),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==xj&&(g=r.relatedTarget||r.fromElement)&&(ol(g)||g[ti]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?ol(g):null,g!==null&&(y=sc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=pP,j="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=xP,j="onPointerLeave",b="onPointerEnter",v="pointer"),y=m==null?f:Lc(m),w=g==null?f:Lc(g),f=new p(j,v+"leave",m,r,d),f.target=y,f.relatedTarget=w,j=null,ol(d)===u&&(p=new p(b,v+"enter",g,r,d),p.target=w,p.relatedTarget=y,j=p),y=j,m&&g)t:{for(p=m,b=g,v=0,w=p;w;w=vc(w))v++;for(w=0,j=b;j;j=vc(j))w++;for(;0<v-w;)p=vc(p),v--;for(;0<w-v;)b=vc(b),w--;for(;v--;){if(p===b||b!==null&&p===b.alternate)break t;p=vc(p),b=vc(b)}p=null}else p=null;m!==null&&PP(h,f,m,p,!1),g!==null&&y!==null&&PP(h,y,g,p,!0)}}e:{if(f=u?Lc(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=TW;else if(bP(f))if(vR)N=DW;else{N=MW;var S=OW}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=RW);if(N&&(N=N(e,u))){xR(h,N,r,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&hj(f,"number",f.value)}switch(S=u?Lc(u):window,e){case"focusin":(bP(S)||S.contentEditable==="true")&&($c=S,_j=u,Kh=null);break;case"focusout":Kh=_j=$c=null;break;case"mousedown":Sj=!0;break;case"contextmenu":case"mouseup":case"dragend":Sj=!1,SP(h,r,d);break;case"selectionchange":if(LW)break;case"keydown":case"keyup":SP(h,r,d)}var _;if(i2)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Dc?pR(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(mR&&r.locale!=="ko"&&(Dc||k!=="onCompositionStart"?k==="onCompositionEnd"&&Dc&&(_=fR()):(Qi=d,n2="value"in Qi?Qi.value:Qi.textContent,Dc=!0)),S=fx(u,k),0<S.length&&(k=new gP(k,e,null,r,d),h.push({event:k,listeners:S}),_?k.data=_:(_=gR(r),_!==null&&(k.data=_)))),(_=kW?CW(e,r):PW(e,r))&&(u=fx(u,"onBeforeInput"),0<u.length&&(d=new gP("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=_))}PR(h,t)})}function kf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fx(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=yf(e,r),i!=null&&n.unshift(kf(e,i,a)),i=yf(e,t),i!=null&&n.push(kf(e,i,a))),e=e.return}return n}function vc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function PP(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=yf(r,i),c!=null&&o.unshift(kf(r,c,l))):a||(c=yf(r,i),c!=null&&o.push(kf(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var zW=/\r\n?/g,VW=/\u0000|\uFFFD/g;function AP(e){return(typeof e=="string"?e:""+e).replace(zW,`
`).replace(VW,"")}function Up(e,t,r){if(t=AP(t),AP(e)!==t&&r)throw Error(le(425))}function mx(){}var kj=null,Cj=null;function Pj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Aj=typeof setTimeout=="function"?setTimeout:void 0,qW=typeof clearTimeout=="function"?clearTimeout:void 0,EP=typeof Promise=="function"?Promise:void 0,WW=typeof queueMicrotask=="function"?queueMicrotask:typeof EP<"u"?function(e){return EP.resolve(null).then(e).catch(HW)}:Aj;function HW(e){setTimeout(function(){throw e})}function Cb(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),jf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);jf(t)}function ao(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function TP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _d=Math.random().toString(36).slice(2),na="__reactFiber$"+_d,Cf="__reactProps$"+_d,ti="__reactContainer$"+_d,Ej="__reactEvents$"+_d,KW="__reactListeners$"+_d,GW="__reactHandles$"+_d;function ol(e){var t=e[na];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ti]||r[na]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=TP(e);e!==null;){if(r=e[na])return r;e=TP(e)}return t}e=r,r=e.parentNode}return null}function Bm(e){return e=e[na]||e[ti],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function hy(e){return e[Cf]||null}var Tj=[],Fc=-1;function ko(e){return{current:e}}function $t(e){0>Fc||(e.current=Tj[Fc],Tj[Fc]=null,Fc--)}function At(e,t){Fc++,Tj[Fc]=e.current,e.current=t}var po={},Zr=ko(po),Sn=ko(!1),Rl=po;function Du(e,t){var r=e.type.contextTypes;if(!r)return po;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function kn(e){return e=e.childContextTypes,e!=null}function px(){$t(Sn),$t(Zr)}function OP(e,t,r){if(Zr.current!==po)throw Error(le(168));At(Zr,t),At(Sn,r)}function ER(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(le(108,Oq(e)||"Unknown",a));return Gt({},r,n)}function gx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||po,Rl=Zr.current,At(Zr,e),At(Sn,Sn.current),!0}function MP(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=ER(e,t,Rl),n.__reactInternalMemoizedMergedChildContext=e,$t(Sn),$t(Zr),At(Zr,e)):$t(Sn),At(Sn,r)}var Fa=null,fy=!1,Pb=!1;function TR(e){Fa===null?Fa=[e]:Fa.push(e)}function YW(e){fy=!0,TR(e)}function Co(){if(!Pb&&Fa!==null){Pb=!0;var e=0,t=mt;try{var r=Fa;for(mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Fa=null,fy=!1}catch(a){throw Fa!==null&&(Fa=Fa.slice(e+1)),rR(Z_,Co),a}finally{mt=t,Pb=!1}}return null}var Bc=[],Uc=0,xx=null,vx=0,ns=[],ss=0,Dl=null,za=1,Va="";function Xo(e,t){Bc[Uc++]=vx,Bc[Uc++]=xx,xx=e,vx=t}function OR(e,t,r){ns[ss++]=za,ns[ss++]=Va,ns[ss++]=Dl,Dl=e;var n=za;e=Va;var a=32-$s(n)-1;n&=~(1<<a),r+=1;var i=32-$s(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,za=1<<32-$s(t)+a|r<<a|n,Va=i+e}else za=1<<i|r<<a|n,Va=e}function l2(e){e.return!==null&&(Xo(e,1),OR(e,1,0))}function c2(e){for(;e===xx;)xx=Bc[--Uc],Bc[Uc]=null,vx=Bc[--Uc],Bc[Uc]=null;for(;e===Dl;)Dl=ns[--ss],ns[ss]=null,Va=ns[--ss],ns[ss]=null,za=ns[--ss],ns[ss]=null}var Fn=null,Ln=null,It=!1,Es=null;function MR(e,t){var r=is(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function RP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fn=e,Ln=ao(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fn=e,Ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Dl!==null?{id:za,overflow:Va}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=is(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fn=e,Ln=null,!0):!1;default:return!1}}function Oj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mj(e){if(It){var t=Ln;if(t){var r=t;if(!RP(e,t)){if(Oj(e))throw Error(le(418));t=ao(r.nextSibling);var n=Fn;t&&RP(e,t)?MR(n,r):(e.flags=e.flags&-4097|2,It=!1,Fn=e)}}else{if(Oj(e))throw Error(le(418));e.flags=e.flags&-4097|2,It=!1,Fn=e}}}function DP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fn=e}function zp(e){if(e!==Fn)return!1;if(!It)return DP(e),It=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pj(e.type,e.memoizedProps)),t&&(t=Ln)){if(Oj(e))throw RR(),Error(le(418));for(;t;)MR(e,t),t=ao(t.nextSibling)}if(DP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ln=ao(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ln=null}}else Ln=Fn?ao(e.stateNode.nextSibling):null;return!0}function RR(){for(var e=Ln;e;)e=ao(e.nextSibling)}function $u(){Ln=Fn=null,It=!1}function u2(e){Es===null?Es=[e]:Es.push(e)}var XW=mi.ReactCurrentBatchConfig;function lh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function Vp(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $P(e){var t=e._init;return t(e._payload)}function DR(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function a(b,v){return b=co(b,v),b.index=0,b.sibling=null,b}function i(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=2,v):w):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,w,j){return v===null||v.tag!==6?(v=Db(w,b.mode,j),v.return=b,v):(v=a(v,w),v.return=b,v)}function c(b,v,w,j){var N=w.type;return N===Rc?d(b,v,w.props.children,j,w.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Mi&&$P(N)===v.type)?(j=a(v,w.props),j.ref=lh(b,v,w),j.return=b,j):(j=Ug(w.type,w.key,w.props,null,b.mode,j),j.ref=lh(b,v,w),j.return=b,j)}function u(b,v,w,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=$b(w,b.mode,j),v.return=b,v):(v=a(v,w.children||[]),v.return=b,v)}function d(b,v,w,j,N){return v===null||v.tag!==7?(v=Cl(w,b.mode,j,N),v.return=b,v):(v=a(v,w),v.return=b,v)}function h(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Db(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Op:return w=Ug(v.type,v.key,v.props,null,b.mode,w),w.ref=lh(b,null,v),w.return=b,w;case Mc:return v=$b(v,b.mode,w),v.return=b,v;case Mi:var j=v._init;return h(b,j(v._payload),w)}if(Oh(v)||nh(v))return v=Cl(v,b.mode,w,null),v.return=b,v;Vp(b,v)}return null}function f(b,v,w,j){var N=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(b,v,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Op:return w.key===N?c(b,v,w,j):null;case Mc:return w.key===N?u(b,v,w,j):null;case Mi:return N=w._init,f(b,v,N(w._payload),j)}if(Oh(w)||nh(w))return N!==null?null:d(b,v,w,j,null);Vp(b,w)}return null}function m(b,v,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(w)||null,l(v,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Op:return b=b.get(j.key===null?w:j.key)||null,c(v,b,j,N);case Mc:return b=b.get(j.key===null?w:j.key)||null,u(v,b,j,N);case Mi:var S=j._init;return m(b,v,w,S(j._payload),N)}if(Oh(j)||nh(j))return b=b.get(w)||null,d(v,b,j,N,null);Vp(v,j)}return null}function g(b,v,w,j){for(var N=null,S=null,_=v,k=v=0,C=null;_!==null&&k<w.length;k++){_.index>k?(C=_,_=null):C=_.sibling;var P=f(b,_,w[k],j);if(P===null){_===null&&(_=C);break}e&&_&&P.alternate===null&&t(b,_),v=i(P,v,k),S===null?N=P:S.sibling=P,S=P,_=C}if(k===w.length)return r(b,_),It&&Xo(b,k),N;if(_===null){for(;k<w.length;k++)_=h(b,w[k],j),_!==null&&(v=i(_,v,k),S===null?N=_:S.sibling=_,S=_);return It&&Xo(b,k),N}for(_=n(b,_);k<w.length;k++)C=m(_,b,k,w[k],j),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?k:C.key),v=i(C,v,k),S===null?N=C:S.sibling=C,S=C);return e&&_.forEach(function(E){return t(b,E)}),It&&Xo(b,k),N}function p(b,v,w,j){var N=nh(w);if(typeof N!="function")throw Error(le(150));if(w=N.call(w),w==null)throw Error(le(151));for(var S=N=null,_=v,k=v=0,C=null,P=w.next();_!==null&&!P.done;k++,P=w.next()){_.index>k?(C=_,_=null):C=_.sibling;var E=f(b,_,P.value,j);if(E===null){_===null&&(_=C);break}e&&_&&E.alternate===null&&t(b,_),v=i(E,v,k),S===null?N=E:S.sibling=E,S=E,_=C}if(P.done)return r(b,_),It&&Xo(b,k),N;if(_===null){for(;!P.done;k++,P=w.next())P=h(b,P.value,j),P!==null&&(v=i(P,v,k),S===null?N=P:S.sibling=P,S=P);return It&&Xo(b,k),N}for(_=n(b,_);!P.done;k++,P=w.next())P=m(_,b,k,P.value,j),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?k:P.key),v=i(P,v,k),S===null?N=P:S.sibling=P,S=P);return e&&_.forEach(function(T){return t(b,T)}),It&&Xo(b,k),N}function y(b,v,w,j){if(typeof w=="object"&&w!==null&&w.type===Rc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Op:e:{for(var N=w.key,S=v;S!==null;){if(S.key===N){if(N=w.type,N===Rc){if(S.tag===7){r(b,S.sibling),v=a(S,w.props.children),v.return=b,b=v;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Mi&&$P(N)===S.type){r(b,S.sibling),v=a(S,w.props),v.ref=lh(b,S,w),v.return=b,b=v;break e}r(b,S);break}else t(b,S);S=S.sibling}w.type===Rc?(v=Cl(w.props.children,b.mode,j,w.key),v.return=b,b=v):(j=Ug(w.type,w.key,w.props,null,b.mode,j),j.ref=lh(b,v,w),j.return=b,b=j)}return o(b);case Mc:e:{for(S=w.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(b,v.sibling),v=a(v,w.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else t(b,v);v=v.sibling}v=$b(w,b.mode,j),v.return=b,b=v}return o(b);case Mi:return S=w._init,y(b,v,S(w._payload),j)}if(Oh(w))return g(b,v,w,j);if(nh(w))return p(b,v,w,j);Vp(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(b,v.sibling),v=a(v,w),v.return=b,b=v):(r(b,v),v=Db(w,b.mode,j),v.return=b,b=v),o(b)):r(b,v)}return y}var Iu=DR(!0),$R=DR(!1),yx=ko(null),bx=null,zc=null,d2=null;function h2(){d2=zc=bx=null}function f2(e){var t=yx.current;$t(yx),e._currentValue=t}function Rj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function su(e,t){bx=e,d2=zc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jn=!0),e.firstContext=null)}function hs(e){var t=e._currentValue;if(d2!==e)if(e={context:e,memoizedValue:t,next:null},zc===null){if(bx===null)throw Error(le(308));zc=e,bx.dependencies={lanes:0,firstContext:e}}else zc=zc.next=e;return t}var ll=null;function m2(e){ll===null?ll=[e]:ll.push(e)}function IR(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,m2(t)):(r.next=a.next,a.next=r),t.interleaved=r,ri(e,n)}function ri(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ri=!1;function p2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ga(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function io(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,it&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ri(e,r)}return a=n.interleaved,a===null?(t.next=t,m2(n)):(t.next=a.next,a.next=t),n.interleaved=t,ri(e,r)}function Dg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,e2(e,r)}}function IP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wx(e,t,r,n){var a=e.updateQueue;Ri=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(f=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=Gt({},h,f);break e;case 2:Ri=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Il|=o,e.lanes=o,e.memoizedState=h}}function LP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(le(191,a));a.call(n)}}}var Um={},da=ko(Um),Pf=ko(Um),Af=ko(Um);function cl(e){if(e===Um)throw Error(le(174));return e}function g2(e,t){switch(At(Af,t),At(Pf,e),At(da,Um),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mj(t,e)}$t(da),At(da,t)}function Lu(){$t(da),$t(Pf),$t(Af)}function FR(e){cl(Af.current);var t=cl(da.current),r=mj(t,e.type);t!==r&&(At(Pf,e),At(da,r))}function x2(e){Pf.current===e&&($t(da),$t(Pf))}var Ut=ko(0);function jx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ab=[];function v2(){for(var e=0;e<Ab.length;e++)Ab[e]._workInProgressVersionPrimary=null;Ab.length=0}var $g=mi.ReactCurrentDispatcher,Eb=mi.ReactCurrentBatchConfig,$l=0,Vt=null,xr=null,Ar=null,Nx=!1,Gh=!1,Ef=0,QW=0;function zr(){throw Error(le(321))}function y2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Us(e[r],t[r]))return!1;return!0}function b2(e,t,r,n,a,i){if($l=i,Vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$g.current=e===null||e.memoizedState===null?tH:rH,e=r(n,a),Gh){i=0;do{if(Gh=!1,Ef=0,25<=i)throw Error(le(301));i+=1,Ar=xr=null,t.updateQueue=null,$g.current=nH,e=r(n,a)}while(Gh)}if($g.current=_x,t=xr!==null&&xr.next!==null,$l=0,Ar=xr=Vt=null,Nx=!1,t)throw Error(le(300));return e}function w2(){var e=Ef!==0;return Ef=0,e}function Xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Vt.memoizedState=Ar=e:Ar=Ar.next=e,Ar}function fs(){if(xr===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=xr.next;var t=Ar===null?Vt.memoizedState:Ar.next;if(t!==null)Ar=t,xr=e;else{if(e===null)throw Error(le(310));xr=e,e={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},Ar===null?Vt.memoizedState=Ar=e:Ar=Ar.next=e}return Ar}function Tf(e,t){return typeof t=="function"?t(e):t}function Tb(e){var t=fs(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=xr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if(($l&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Vt.lanes|=d,Il|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Us(n,t.memoizedState)||(jn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Vt.lanes|=i,Il|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ob(e){var t=fs(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Us(i,t.memoizedState)||(jn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function BR(){}function UR(e,t){var r=Vt,n=fs(),a=t(),i=!Us(n.memoizedState,a);if(i&&(n.memoizedState=a,jn=!0),n=n.queue,j2(qR.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ar!==null&&Ar.memoizedState.tag&1){if(r.flags|=2048,Of(9,VR.bind(null,r,n,a,t),void 0,null),Tr===null)throw Error(le(349));$l&30||zR(r,t,a)}return a}function zR(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function VR(e,t,r,n){t.value=r,t.getSnapshot=n,WR(t)&&HR(e)}function qR(e,t,r){return r(function(){WR(t)&&HR(e)})}function WR(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Us(e,r)}catch{return!0}}function HR(e){var t=ri(e,1);t!==null&&Is(t,e,1,-1)}function FP(e){var t=Xs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tf,lastRenderedState:e},t.queue=e,e=e.dispatch=eH.bind(null,Vt,e),[t.memoizedState,e]}function Of(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function KR(){return fs().memoizedState}function Ig(e,t,r,n){var a=Xs();Vt.flags|=e,a.memoizedState=Of(1|t,r,void 0,n===void 0?null:n)}function my(e,t,r,n){var a=fs();n=n===void 0?null:n;var i=void 0;if(xr!==null){var o=xr.memoizedState;if(i=o.destroy,n!==null&&y2(n,o.deps)){a.memoizedState=Of(t,r,i,n);return}}Vt.flags|=e,a.memoizedState=Of(1|t,r,i,n)}function BP(e,t){return Ig(8390656,8,e,t)}function j2(e,t){return my(2048,8,e,t)}function GR(e,t){return my(4,2,e,t)}function YR(e,t){return my(4,4,e,t)}function XR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function QR(e,t,r){return r=r!=null?r.concat([e]):null,my(4,4,XR.bind(null,t,e),r)}function N2(){}function JR(e,t){var r=fs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&y2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ZR(e,t){var r=fs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&y2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function eD(e,t,r){return $l&21?(Us(r,t)||(r=aR(),Vt.lanes|=r,Il|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jn=!0),e.memoizedState=r)}function JW(e,t){var r=mt;mt=r!==0&&4>r?r:4,e(!0);var n=Eb.transition;Eb.transition={};try{e(!1),t()}finally{mt=r,Eb.transition=n}}function tD(){return fs().memoizedState}function ZW(e,t,r){var n=lo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rD(e))nD(t,r);else if(r=IR(e,t,r,n),r!==null){var a=dn();Is(r,e,n,a),sD(r,t,n)}}function eH(e,t,r){var n=lo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rD(e))nD(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Us(l,o)){var c=t.interleaved;c===null?(a.next=a,m2(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=IR(e,t,a,n),r!==null&&(a=dn(),Is(r,e,n,a),sD(r,t,n))}}function rD(e){var t=e.alternate;return e===Vt||t!==null&&t===Vt}function nD(e,t){Gh=Nx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sD(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,e2(e,r)}}var _x={readContext:hs,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},tH={readContext:hs,useCallback:function(e,t){return Xs().memoizedState=[e,t===void 0?null:t],e},useContext:hs,useEffect:BP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ig(4194308,4,XR.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ig(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ig(4,2,e,t)},useMemo:function(e,t){var r=Xs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ZW.bind(null,Vt,e),[n.memoizedState,e]},useRef:function(e){var t=Xs();return e={current:e},t.memoizedState=e},useState:FP,useDebugValue:N2,useDeferredValue:function(e){return Xs().memoizedState=e},useTransition:function(){var e=FP(!1),t=e[0];return e=JW.bind(null,e[1]),Xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Vt,a=Xs();if(It){if(r===void 0)throw Error(le(407));r=r()}else{if(r=t(),Tr===null)throw Error(le(349));$l&30||zR(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,BP(qR.bind(null,n,i,e),[e]),n.flags|=2048,Of(9,VR.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Xs(),t=Tr.identifierPrefix;if(It){var r=Va,n=za;r=(n&~(1<<32-$s(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ef++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=QW++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rH={readContext:hs,useCallback:JR,useContext:hs,useEffect:j2,useImperativeHandle:QR,useInsertionEffect:GR,useLayoutEffect:YR,useMemo:ZR,useReducer:Tb,useRef:KR,useState:function(){return Tb(Tf)},useDebugValue:N2,useDeferredValue:function(e){var t=fs();return eD(t,xr.memoizedState,e)},useTransition:function(){var e=Tb(Tf)[0],t=fs().memoizedState;return[e,t]},useMutableSource:BR,useSyncExternalStore:UR,useId:tD,unstable_isNewReconciler:!1},nH={readContext:hs,useCallback:JR,useContext:hs,useEffect:j2,useImperativeHandle:QR,useInsertionEffect:GR,useLayoutEffect:YR,useMemo:ZR,useReducer:Ob,useRef:KR,useState:function(){return Ob(Tf)},useDebugValue:N2,useDeferredValue:function(e){var t=fs();return xr===null?t.memoizedState=e:eD(t,xr.memoizedState,e)},useTransition:function(){var e=Ob(Tf)[0],t=fs().memoizedState;return[e,t]},useMutableSource:BR,useSyncExternalStore:UR,useId:tD,unstable_isNewReconciler:!1};function Ss(e,t){if(e&&e.defaultProps){t=Gt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Dj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Gt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var py={isMounted:function(e){return(e=e._reactInternals)?sc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=dn(),a=lo(e),i=Ga(n,a);i.payload=t,r!=null&&(i.callback=r),t=io(e,i,a),t!==null&&(Is(t,e,a,n),Dg(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=dn(),a=lo(e),i=Ga(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=io(e,i,a),t!==null&&(Is(t,e,a,n),Dg(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dn(),n=lo(e),a=Ga(r,n);a.tag=2,t!=null&&(a.callback=t),t=io(e,a,n),t!==null&&(Is(t,e,n,r),Dg(t,e,n))}};function UP(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!_f(r,n)||!_f(a,i):!0}function aD(e,t,r){var n=!1,a=po,i=t.contextType;return typeof i=="object"&&i!==null?i=hs(i):(a=kn(t)?Rl:Zr.current,n=t.contextTypes,i=(n=n!=null)?Du(e,a):po),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=py,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function zP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&py.enqueueReplaceState(t,t.state,null)}function $j(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},p2(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=hs(i):(i=kn(t)?Rl:Zr.current,a.context=Du(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Dj(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&py.enqueueReplaceState(a,a.state,null),wx(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Fu(e,t){try{var r="",n=t;do r+=Tq(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Mb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ij(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sH=typeof WeakMap=="function"?WeakMap:Map;function iD(e,t,r){r=Ga(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){kx||(kx=!0,Kj=n),Ij(e,t)},r}function oD(e,t,r){r=Ga(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Ij(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ij(e,t),typeof n!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function VP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sH;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=vH.bind(null,e,t,r),t.then(e,e))}function qP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function WP(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ga(-1,1),t.tag=2,io(r,t,1))),r.lanes|=1),e)}var aH=mi.ReactCurrentOwner,jn=!1;function sn(e,t,r,n){t.child=e===null?$R(t,null,r,n):Iu(t,e.child,r,n)}function HP(e,t,r,n,a){r=r.render;var i=t.ref;return su(t,a),n=b2(e,t,r,n,i,a),r=w2(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ni(e,t,a)):(It&&r&&l2(t),t.flags|=1,sn(e,t,n,a),t.child)}function KP(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!T2(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,lD(e,t,i,n,a)):(e=Ug(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:_f,r(o,n)&&e.ref===t.ref)return ni(e,t,a)}return t.flags|=1,e=co(i,n),e.ref=t.ref,e.return=t,t.child=e}function lD(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(_f(i,n)&&e.ref===t.ref)if(jn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(jn=!0);else return t.lanes=e.lanes,ni(e,t,a)}return Lj(e,t,r,n,a)}function cD(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(qc,Rn),Rn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,At(qc,Rn),Rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,At(qc,Rn),Rn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,At(qc,Rn),Rn|=n;return sn(e,t,a,r),t.child}function uD(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Lj(e,t,r,n,a){var i=kn(r)?Rl:Zr.current;return i=Du(t,i),su(t,a),r=b2(e,t,r,n,i,a),n=w2(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ni(e,t,a)):(It&&n&&l2(t),t.flags|=1,sn(e,t,r,a),t.child)}function GP(e,t,r,n,a){if(kn(r)){var i=!0;gx(t)}else i=!1;if(su(t,a),t.stateNode===null)Lg(e,t),aD(t,r,n),$j(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=hs(u):(u=kn(r)?Rl:Zr.current,u=Du(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&zP(t,o,n,u),Ri=!1;var f=t.memoizedState;o.state=f,wx(t,n,o,a),c=t.memoizedState,l!==n||f!==c||Sn.current||Ri?(typeof d=="function"&&(Dj(t,r,d,n),c=t.memoizedState),(l=Ri||UP(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,LR(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ss(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=hs(c):(c=kn(r)?Rl:Zr.current,c=Du(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&zP(t,o,n,c),Ri=!1,f=t.memoizedState,o.state=f,wx(t,n,o,a);var g=t.memoizedState;l!==h||f!==g||Sn.current||Ri?(typeof m=="function"&&(Dj(t,r,m,n),g=t.memoizedState),(u=Ri||UP(t,r,u,n,f,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Fj(e,t,r,n,i,a)}function Fj(e,t,r,n,a,i){uD(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&MP(t,r,!1),ni(e,t,i);n=t.stateNode,aH.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Iu(t,e.child,null,i),t.child=Iu(t,null,l,i)):sn(e,t,l,i),t.memoizedState=n.state,a&&MP(t,r,!0),t.child}function dD(e){var t=e.stateNode;t.pendingContext?OP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&OP(e,t.context,!1),g2(e,t.containerInfo)}function YP(e,t,r,n,a){return $u(),u2(a),t.flags|=256,sn(e,t,r,n),t.child}var Bj={dehydrated:null,treeContext:null,retryLane:0};function Uj(e){return{baseLanes:e,cachePool:null,transitions:null}}function hD(e,t,r){var n=t.pendingProps,a=Ut.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),At(Ut,a&1),e===null)return Mj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vy(o,n,0,null),e=Cl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Uj(r),t.memoizedState=Bj,e):_2(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return iH(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=co(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=co(l,i):(i=Cl(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Uj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Bj,n}return i=e.child,e=i.sibling,n=co(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function _2(e,t){return t=vy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qp(e,t,r,n){return n!==null&&u2(n),Iu(t,e.child,null,r),e=_2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iH(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Mb(Error(le(422))),qp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=vy({mode:"visible",children:n.children},a,0,null),i=Cl(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Iu(t,e.child,null,o),t.child.memoizedState=Uj(o),t.memoizedState=Bj,i);if(!(t.mode&1))return qp(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(le(419)),n=Mb(i,n,void 0),qp(e,t,o,n)}if(l=(o&e.childLanes)!==0,jn||l){if(n=Tr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ri(e,a),Is(n,e,a,-1))}return E2(),n=Mb(Error(le(421))),qp(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=yH.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ln=ao(a.nextSibling),Fn=t,It=!0,Es=null,e!==null&&(ns[ss++]=za,ns[ss++]=Va,ns[ss++]=Dl,za=e.id,Va=e.overflow,Dl=t),t=_2(t,n.children),t.flags|=4096,t)}function XP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Rj(e.return,t,r)}function Rb(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function fD(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(sn(e,t,n.children,r),n=Ut.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&XP(e,r,t);else if(e.tag===19)XP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(At(Ut,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&jx(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Rb(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&jx(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Rb(t,!0,r,null,i);break;case"together":Rb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ni(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Il|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,r=co(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=co(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function oH(e,t,r){switch(t.tag){case 3:dD(t),$u();break;case 5:FR(t);break;case 1:kn(t.type)&&gx(t);break;case 4:g2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;At(yx,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(At(Ut,Ut.current&1),t.flags|=128,null):r&t.child.childLanes?hD(e,t,r):(At(Ut,Ut.current&1),e=ni(e,t,r),e!==null?e.sibling:null);At(Ut,Ut.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return fD(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),At(Ut,Ut.current),n)break;return null;case 22:case 23:return t.lanes=0,cD(e,t,r)}return ni(e,t,r)}var mD,zj,pD,gD;mD=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zj=function(){};pD=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,cl(da.current);var i=null;switch(r){case"input":a=uj(e,a),n=uj(e,n),i=[];break;case"select":a=Gt({},a,{value:void 0}),n=Gt({},n,{value:void 0}),i=[];break;case"textarea":a=fj(e,a),n=fj(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mx)}pj(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ot("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};gD=function(e,t,r,n){r!==n&&(t.flags|=4)};function ch(e,t){if(!It)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function lH(e,t,r){var n=t.pendingProps;switch(c2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(t),null;case 1:return kn(t.type)&&px(),Vr(t),null;case 3:return n=t.stateNode,Lu(),$t(Sn),$t(Zr),v2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Es!==null&&(Xj(Es),Es=null))),zj(e,t),Vr(t),null;case 5:x2(t);var a=cl(Af.current);if(r=t.type,e!==null&&t.stateNode!=null)pD(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(le(166));return Vr(t),null}if(e=cl(da.current),zp(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[na]=t,n[Cf]=i,e=(t.mode&1)!==0,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<Rh.length;a++)Ot(Rh[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":aP(n,i),Ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ot("invalid",n);break;case"textarea":oP(n,i),Ot("invalid",n)}pj(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Up(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Up(n.textContent,l,e),a=["children",""+l]):xf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ot("scroll",n)}switch(r){case"input":Mp(n),iP(n,i,!0);break;case"textarea":Mp(n),lP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mx)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q5(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[na]=t,e[Cf]=n,mD(e,t,!1,!1),t.stateNode=e;e:{switch(o=gj(r,n),r){case"dialog":Ot("cancel",e),Ot("close",e),a=n;break;case"iframe":case"object":case"embed":Ot("load",e),a=n;break;case"video":case"audio":for(a=0;a<Rh.length;a++)Ot(Rh[a],e);a=n;break;case"source":Ot("error",e),a=n;break;case"img":case"image":case"link":Ot("error",e),Ot("load",e),a=n;break;case"details":Ot("toggle",e),a=n;break;case"input":aP(e,n),a=uj(e,n),Ot("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Gt({},n,{value:void 0}),Ot("invalid",e);break;case"textarea":oP(e,n),a=fj(e,n),Ot("invalid",e);break;default:a=n}pj(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?K5(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&W5(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&vf(e,c):typeof c=="number"&&vf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ot("scroll",e):c!=null&&G_(e,i,c,o))}switch(r){case"input":Mp(e),iP(e,n,!1);break;case"textarea":Mp(e),lP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+mo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?eu(e,!!n.multiple,i,!1):n.defaultValue!=null&&eu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=mx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vr(t),null;case 6:if(e&&t.stateNode!=null)gD(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));if(r=cl(Af.current),cl(da.current),zp(t)){if(n=t.stateNode,r=t.memoizedProps,n[na]=t,(i=n.nodeValue!==r)&&(e=Fn,e!==null))switch(e.tag){case 3:Up(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Up(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[na]=t,t.stateNode=n}return Vr(t),null;case 13:if($t(Ut),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(It&&Ln!==null&&t.mode&1&&!(t.flags&128))RR(),$u(),t.flags|=98560,i=!1;else if(i=zp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(le(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(le(317));i[na]=t}else $u(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vr(t),i=!1}else Es!==null&&(Xj(Es),Es=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ut.current&1?br===0&&(br=3):E2())),t.updateQueue!==null&&(t.flags|=4),Vr(t),null);case 4:return Lu(),zj(e,t),e===null&&Sf(t.stateNode.containerInfo),Vr(t),null;case 10:return f2(t.type._context),Vr(t),null;case 17:return kn(t.type)&&px(),Vr(t),null;case 19:if($t(Ut),i=t.memoizedState,i===null)return Vr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ch(i,!1);else{if(br!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jx(e),o!==null){for(t.flags|=128,ch(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return At(Ut,Ut.current&1|2),t.child}e=e.sibling}i.tail!==null&&sr()>Bu&&(t.flags|=128,n=!0,ch(i,!1),t.lanes=4194304)}else{if(!n)if(e=jx(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ch(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!It)return Vr(t),null}else 2*sr()-i.renderingStartTime>Bu&&r!==1073741824&&(t.flags|=128,n=!0,ch(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=sr(),t.sibling=null,r=Ut.current,At(Ut,n?r&1|2:r&1),t):(Vr(t),null);case 22:case 23:return A2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Rn&1073741824&&(Vr(t),t.subtreeFlags&6&&(t.flags|=8192)):Vr(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function cH(e,t){switch(c2(t),t.tag){case 1:return kn(t.type)&&px(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lu(),$t(Sn),$t(Zr),v2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return x2(t),null;case 13:if($t(Ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));$u()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $t(Ut),null;case 4:return Lu(),null;case 10:return f2(t.type._context),null;case 22:case 23:return A2(),null;case 24:return null;default:return null}}var Wp=!1,Gr=!1,uH=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Vc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Jt(e,t,n)}else r.current=null}function Vj(e,t,r){try{r()}catch(n){Jt(e,t,n)}}var QP=!1;function dH(e,t){if(kj=dx,e=wR(),o2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=o),f===i&&++d===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cj={focusedElem:e,selectionRange:r},dx=!1,Ne=t;Ne!==null;)if(t=Ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ne=e;else for(;Ne!==null;){t=Ne;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,y=g.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:Ss(t.type,p),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(j){Jt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ne=e;break}Ne=t.return}return g=QP,QP=!1,g}function Yh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Vj(t,r,i)}a=a.next}while(a!==n)}}function gy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function xD(e){var t=e.alternate;t!==null&&(e.alternate=null,xD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[na],delete t[Cf],delete t[Ej],delete t[KW],delete t[GW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vD(e){return e.tag===5||e.tag===3||e.tag===4}function JP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mx));else if(n!==4&&(e=e.child,e!==null))for(Wj(e,t,r),e=e.sibling;e!==null;)Wj(e,t,r),e=e.sibling}function Hj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Hj(e,t,r),e=e.sibling;e!==null;)Hj(e,t,r),e=e.sibling}var $r=null,Cs=!1;function ji(e,t,r){for(r=r.child;r!==null;)yD(e,t,r),r=r.sibling}function yD(e,t,r){if(ua&&typeof ua.onCommitFiberUnmount=="function")try{ua.onCommitFiberUnmount(ly,r)}catch{}switch(r.tag){case 5:Gr||Vc(r,t);case 6:var n=$r,a=Cs;$r=null,ji(e,t,r),$r=n,Cs=a,$r!==null&&(Cs?(e=$r,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):$r.removeChild(r.stateNode));break;case 18:$r!==null&&(Cs?(e=$r,r=r.stateNode,e.nodeType===8?Cb(e.parentNode,r):e.nodeType===1&&Cb(e,r),jf(e)):Cb($r,r.stateNode));break;case 4:n=$r,a=Cs,$r=r.stateNode.containerInfo,Cs=!0,ji(e,t,r),$r=n,Cs=a;break;case 0:case 11:case 14:case 15:if(!Gr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Vj(r,t,o),a=a.next}while(a!==n)}ji(e,t,r);break;case 1:if(!Gr&&(Vc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Jt(r,t,l)}ji(e,t,r);break;case 21:ji(e,t,r);break;case 22:r.mode&1?(Gr=(n=Gr)||r.memoizedState!==null,ji(e,t,r),Gr=n):ji(e,t,r);break;default:ji(e,t,r)}}function ZP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uH),t.forEach(function(n){var a=bH.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function bs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:$r=l.stateNode,Cs=!1;break e;case 3:$r=l.stateNode.containerInfo,Cs=!0;break e;case 4:$r=l.stateNode.containerInfo,Cs=!0;break e}l=l.return}if($r===null)throw Error(le(160));yD(i,o,a),$r=null,Cs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Jt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bD(t,e),t=t.sibling}function bD(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bs(t,e),Gs(e),n&4){try{Yh(3,e,e.return),gy(3,e)}catch(p){Jt(e,e.return,p)}try{Yh(5,e,e.return)}catch(p){Jt(e,e.return,p)}}break;case 1:bs(t,e),Gs(e),n&512&&r!==null&&Vc(r,r.return);break;case 5:if(bs(t,e),Gs(e),n&512&&r!==null&&Vc(r,r.return),e.flags&32){var a=e.stateNode;try{vf(a,"")}catch(p){Jt(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&z5(a,i),gj(l,o);var u=gj(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?K5(a,h):d==="dangerouslySetInnerHTML"?W5(a,h):d==="children"?vf(a,h):G_(a,d,h,u)}switch(l){case"input":dj(a,i);break;case"textarea":V5(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?eu(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?eu(a,!!i.multiple,i.defaultValue,!0):eu(a,!!i.multiple,i.multiple?[]:"",!1))}a[Cf]=i}catch(p){Jt(e,e.return,p)}}break;case 6:if(bs(t,e),Gs(e),n&4){if(e.stateNode===null)throw Error(le(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Jt(e,e.return,p)}}break;case 3:if(bs(t,e),Gs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jf(t.containerInfo)}catch(p){Jt(e,e.return,p)}break;case 4:bs(t,e),Gs(e);break;case 13:bs(t,e),Gs(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(C2=sr())),n&4&&ZP(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Gr=(u=Gr)||d,bs(t,e),Gr=u):bs(t,e),Gs(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ne=e,d=e.child;d!==null;){for(h=Ne=d;Ne!==null;){switch(f=Ne,m=f.child,f.tag){case 0:case 11:case 14:case 15:Yh(4,f,f.return);break;case 1:Vc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Jt(n,r,p)}}break;case 5:Vc(f,f.return);break;case 22:if(f.memoizedState!==null){tA(h);continue}}m!==null?(m.return=f,Ne=m):tA(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=H5("display",o))}catch(p){Jt(e,e.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){Jt(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bs(t,e),Gs(e),n&4&&ZP(e);break;case 21:break;default:bs(t,e),Gs(e)}}function Gs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(vD(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(vf(a,""),n.flags&=-33);var i=JP(e);Hj(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=JP(e);Wj(e,l,o);break;default:throw Error(le(161))}}catch(c){Jt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hH(e,t,r){Ne=e,wD(e)}function wD(e,t,r){for(var n=(e.mode&1)!==0;Ne!==null;){var a=Ne,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Wp;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Gr;l=Wp;var u=Gr;if(Wp=o,(Gr=c)&&!u)for(Ne=a;Ne!==null;)o=Ne,c=o.child,o.tag===22&&o.memoizedState!==null?rA(a):c!==null?(c.return=o,Ne=c):rA(a);for(;i!==null;)Ne=i,wD(i),i=i.sibling;Ne=a,Wp=l,Gr=u}eA(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ne=i):eA(e)}}function eA(e){for(;Ne!==null;){var t=Ne;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gr||gy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Gr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ss(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&LP(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}LP(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&jf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Gr||t.flags&512&&qj(t)}catch(f){Jt(t,t.return,f)}}if(t===e){Ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ne=r;break}Ne=t.return}}function tA(e){for(;Ne!==null;){var t=Ne;if(t===e){Ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ne=r;break}Ne=t.return}}function rA(e){for(;Ne!==null;){var t=Ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gy(4,t)}catch(c){Jt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Jt(t,a,c)}}var i=t.return;try{qj(t)}catch(c){Jt(t,i,c)}break;case 5:var o=t.return;try{qj(t)}catch(c){Jt(t,o,c)}}}catch(c){Jt(t,t.return,c)}if(t===e){Ne=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ne=l;break}Ne=t.return}}var fH=Math.ceil,Sx=mi.ReactCurrentDispatcher,S2=mi.ReactCurrentOwner,ls=mi.ReactCurrentBatchConfig,it=0,Tr=null,hr=null,Lr=0,Rn=0,qc=ko(0),br=0,Mf=null,Il=0,xy=0,k2=0,Xh=null,yn=null,C2=0,Bu=1/0,$a=null,kx=!1,Kj=null,oo=null,Hp=!1,Ji=null,Cx=0,Qh=0,Gj=null,Fg=-1,Bg=0;function dn(){return it&6?sr():Fg!==-1?Fg:Fg=sr()}function lo(e){return e.mode&1?it&2&&Lr!==0?Lr&-Lr:XW.transition!==null?(Bg===0&&(Bg=aR()),Bg):(e=mt,e!==0||(e=window.event,e=e===void 0?16:hR(e.type)),e):1}function Is(e,t,r,n){if(50<Qh)throw Qh=0,Gj=null,Error(le(185));Lm(e,r,n),(!(it&2)||e!==Tr)&&(e===Tr&&(!(it&2)&&(xy|=r),br===4&&Li(e,Lr)),Cn(e,n),r===1&&it===0&&!(t.mode&1)&&(Bu=sr()+500,fy&&Co()))}function Cn(e,t){var r=e.callbackNode;Xq(e,t);var n=ux(e,e===Tr?Lr:0);if(n===0)r!==null&&dP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&dP(r),t===1)e.tag===0?YW(nA.bind(null,e)):TR(nA.bind(null,e)),WW(function(){!(it&6)&&Co()}),r=null;else{switch(iR(n)){case 1:r=Z_;break;case 4:r=nR;break;case 16:r=cx;break;case 536870912:r=sR;break;default:r=cx}r=AD(r,jD.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jD(e,t){if(Fg=-1,Bg=0,it&6)throw Error(le(327));var r=e.callbackNode;if(au()&&e.callbackNode!==r)return null;var n=ux(e,e===Tr?Lr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Px(e,n);else{t=n;var a=it;it|=2;var i=_D();(Tr!==e||Lr!==t)&&($a=null,Bu=sr()+500,kl(e,t));do try{gH();break}catch(l){ND(e,l)}while(!0);h2(),Sx.current=i,it=a,hr!==null?t=0:(Tr=null,Lr=0,t=br)}if(t!==0){if(t===2&&(a=wj(e),a!==0&&(n=a,t=Yj(e,a))),t===1)throw r=Mf,kl(e,0),Li(e,n),Cn(e,sr()),r;if(t===6)Li(e,n);else{if(a=e.current.alternate,!(n&30)&&!mH(a)&&(t=Px(e,n),t===2&&(i=wj(e),i!==0&&(n=i,t=Yj(e,i))),t===1))throw r=Mf,kl(e,0),Li(e,n),Cn(e,sr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:Qo(e,yn,$a);break;case 3:if(Li(e,n),(n&130023424)===n&&(t=C2+500-sr(),10<t)){if(ux(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){dn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Aj(Qo.bind(null,e,yn,$a),t);break}Qo(e,yn,$a);break;case 4:if(Li(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-$s(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=sr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fH(n/1960))-n,10<n){e.timeoutHandle=Aj(Qo.bind(null,e,yn,$a),n);break}Qo(e,yn,$a);break;case 5:Qo(e,yn,$a);break;default:throw Error(le(329))}}}return Cn(e,sr()),e.callbackNode===r?jD.bind(null,e):null}function Yj(e,t){var r=Xh;return e.current.memoizedState.isDehydrated&&(kl(e,t).flags|=256),e=Px(e,t),e!==2&&(t=yn,yn=r,t!==null&&Xj(t)),e}function Xj(e){yn===null?yn=e:yn.push.apply(yn,e)}function mH(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Us(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Li(e,t){for(t&=~k2,t&=~xy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$s(t),n=1<<r;e[r]=-1,t&=~n}}function nA(e){if(it&6)throw Error(le(327));au();var t=ux(e,0);if(!(t&1))return Cn(e,sr()),null;var r=Px(e,t);if(e.tag!==0&&r===2){var n=wj(e);n!==0&&(t=n,r=Yj(e,n))}if(r===1)throw r=Mf,kl(e,0),Li(e,t),Cn(e,sr()),r;if(r===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qo(e,yn,$a),Cn(e,sr()),null}function P2(e,t){var r=it;it|=1;try{return e(t)}finally{it=r,it===0&&(Bu=sr()+500,fy&&Co())}}function Ll(e){Ji!==null&&Ji.tag===0&&!(it&6)&&au();var t=it;it|=1;var r=ls.transition,n=mt;try{if(ls.transition=null,mt=1,e)return e()}finally{mt=n,ls.transition=r,it=t,!(it&6)&&Co()}}function A2(){Rn=qc.current,$t(qc)}function kl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qW(r)),hr!==null)for(r=hr.return;r!==null;){var n=r;switch(c2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&px();break;case 3:Lu(),$t(Sn),$t(Zr),v2();break;case 5:x2(n);break;case 4:Lu();break;case 13:$t(Ut);break;case 19:$t(Ut);break;case 10:f2(n.type._context);break;case 22:case 23:A2()}r=r.return}if(Tr=e,hr=e=co(e.current,null),Lr=Rn=t,br=0,Mf=null,k2=xy=Il=0,yn=Xh=null,ll!==null){for(t=0;t<ll.length;t++)if(r=ll[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}ll=null}return e}function ND(e,t){do{var r=hr;try{if(h2(),$g.current=_x,Nx){for(var n=Vt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Nx=!1}if($l=0,Ar=xr=Vt=null,Gh=!1,Ef=0,S2.current=null,r===null||r.return===null){br=1,Mf=t,hr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Lr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=qP(o);if(m!==null){m.flags&=-257,WP(m,o,l,i,t),m.mode&1&&VP(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){VP(i,u,t),E2();break e}c=Error(le(426))}}else if(It&&l.mode&1){var y=qP(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),WP(y,o,l,i,t),u2(Fu(c,l));break e}}i=c=Fu(c,l),br!==4&&(br=2),Xh===null?Xh=[i]:Xh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=iD(i,c,t);IP(i,b);break e;case 1:l=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(oo===null||!oo.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=oD(i,l,t);IP(i,j);break e}}i=i.return}while(i!==null)}kD(r)}catch(N){t=N,hr===r&&r!==null&&(hr=r=r.return);continue}break}while(!0)}function _D(){var e=Sx.current;return Sx.current=_x,e===null?_x:e}function E2(){(br===0||br===3||br===2)&&(br=4),Tr===null||!(Il&268435455)&&!(xy&268435455)||Li(Tr,Lr)}function Px(e,t){var r=it;it|=2;var n=_D();(Tr!==e||Lr!==t)&&($a=null,kl(e,t));do try{pH();break}catch(a){ND(e,a)}while(!0);if(h2(),it=r,Sx.current=n,hr!==null)throw Error(le(261));return Tr=null,Lr=0,br}function pH(){for(;hr!==null;)SD(hr)}function gH(){for(;hr!==null&&!Uq();)SD(hr)}function SD(e){var t=PD(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?kD(e):hr=t,S2.current=null}function kD(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=cH(r,t),r!==null){r.flags&=32767,hr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{br=6,hr=null;return}}else if(r=lH(r,t,Rn),r!==null){hr=r;return}if(t=t.sibling,t!==null){hr=t;return}hr=t=e}while(t!==null);br===0&&(br=5)}function Qo(e,t,r){var n=mt,a=ls.transition;try{ls.transition=null,mt=1,xH(e,t,r,n)}finally{ls.transition=a,mt=n}return null}function xH(e,t,r,n){do au();while(Ji!==null);if(it&6)throw Error(le(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Qq(e,i),e===Tr&&(hr=Tr=null,Lr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hp||(Hp=!0,AD(cx,function(){return au(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ls.transition,ls.transition=null;var o=mt;mt=1;var l=it;it|=4,S2.current=null,dH(e,r),bD(r,e),IW(Cj),dx=!!kj,Cj=kj=null,e.current=r,hH(r),zq(),it=l,mt=o,ls.transition=i}else e.current=r;if(Hp&&(Hp=!1,Ji=e,Cx=a),i=e.pendingLanes,i===0&&(oo=null),Wq(r.stateNode),Cn(e,sr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(kx)throw kx=!1,e=Kj,Kj=null,e;return Cx&1&&e.tag!==0&&au(),i=e.pendingLanes,i&1?e===Gj?Qh++:(Qh=0,Gj=e):Qh=0,Co(),null}function au(){if(Ji!==null){var e=iR(Cx),t=ls.transition,r=mt;try{if(ls.transition=null,mt=16>e?16:e,Ji===null)var n=!1;else{if(e=Ji,Ji=null,Cx=0,it&6)throw Error(le(331));var a=it;for(it|=4,Ne=e.current;Ne!==null;){var i=Ne,o=i.child;if(Ne.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ne=u;Ne!==null;){var d=Ne;switch(d.tag){case 0:case 11:case 15:Yh(8,d,i)}var h=d.child;if(h!==null)h.return=d,Ne=h;else for(;Ne!==null;){d=Ne;var f=d.sibling,m=d.return;if(xD(d),d===u){Ne=null;break}if(f!==null){f.return=m,Ne=f;break}Ne=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}Ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ne=o;else e:for(;Ne!==null;){if(i=Ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yh(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Ne=b;break e}Ne=i.return}}var v=e.current;for(Ne=v;Ne!==null;){o=Ne;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ne=w;else e:for(o=v;Ne!==null;){if(l=Ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gy(9,l)}}catch(N){Jt(l,l.return,N)}if(l===o){Ne=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Ne=j;break e}Ne=l.return}}if(it=a,Co(),ua&&typeof ua.onPostCommitFiberRoot=="function")try{ua.onPostCommitFiberRoot(ly,e)}catch{}n=!0}return n}finally{mt=r,ls.transition=t}}return!1}function sA(e,t,r){t=Fu(r,t),t=iD(e,t,1),e=io(e,t,1),t=dn(),e!==null&&(Lm(e,1,t),Cn(e,t))}function Jt(e,t,r){if(e.tag===3)sA(e,e,r);else for(;t!==null;){if(t.tag===3){sA(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(oo===null||!oo.has(n))){e=Fu(r,e),e=oD(t,e,1),t=io(t,e,1),e=dn(),t!==null&&(Lm(t,1,e),Cn(t,e));break}}t=t.return}}function vH(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=dn(),e.pingedLanes|=e.suspendedLanes&r,Tr===e&&(Lr&r)===r&&(br===4||br===3&&(Lr&130023424)===Lr&&500>sr()-C2?kl(e,0):k2|=r),Cn(e,t)}function CD(e,t){t===0&&(e.mode&1?(t=$p,$p<<=1,!($p&130023424)&&($p=4194304)):t=1);var r=dn();e=ri(e,t),e!==null&&(Lm(e,t,r),Cn(e,r))}function yH(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),CD(e,r)}function bH(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(t),CD(e,r)}var PD;PD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Sn.current)jn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return jn=!1,oH(e,t,r);jn=!!(e.flags&131072)}else jn=!1,It&&t.flags&1048576&&OR(t,vx,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Lg(e,t),e=t.pendingProps;var a=Du(t,Zr.current);su(t,r),a=b2(null,t,n,e,a,r);var i=w2();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kn(n)?(i=!0,gx(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,p2(t),a.updater=py,t.stateNode=a,a._reactInternals=t,$j(t,n,e,r),t=Fj(null,t,n,!0,i,r)):(t.tag=0,It&&i&&l2(t),sn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Lg(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=jH(n),e=Ss(n,e),a){case 0:t=Lj(null,t,n,e,r);break e;case 1:t=GP(null,t,n,e,r);break e;case 11:t=HP(null,t,n,e,r);break e;case 14:t=KP(null,t,n,Ss(n.type,e),r);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ss(n,a),Lj(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ss(n,a),GP(e,t,n,a,r);case 3:e:{if(dD(t),e===null)throw Error(le(387));n=t.pendingProps,i=t.memoizedState,a=i.element,LR(e,t),wx(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Fu(Error(le(423)),t),t=YP(e,t,n,r,a);break e}else if(n!==a){a=Fu(Error(le(424)),t),t=YP(e,t,n,r,a);break e}else for(Ln=ao(t.stateNode.containerInfo.firstChild),Fn=t,It=!0,Es=null,r=$R(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($u(),n===a){t=ni(e,t,r);break e}sn(e,t,n,r)}t=t.child}return t;case 5:return FR(t),e===null&&Mj(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Pj(n,a)?o=null:i!==null&&Pj(n,i)&&(t.flags|=32),uD(e,t),sn(e,t,o,r),t.child;case 6:return e===null&&Mj(t),null;case 13:return hD(e,t,r);case 4:return g2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Iu(t,null,n,r):sn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ss(n,a),HP(e,t,n,a,r);case 7:return sn(e,t,t.pendingProps,r),t.child;case 8:return sn(e,t,t.pendingProps.children,r),t.child;case 12:return sn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,At(yx,n._currentValue),n._currentValue=o,i!==null)if(Us(i.value,o)){if(i.children===a.children&&!Sn.current){t=ni(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ga(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Rj(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(le(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Rj(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}sn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,su(t,r),a=hs(a),n=n(a),t.flags|=1,sn(e,t,n,r),t.child;case 14:return n=t.type,a=Ss(n,t.pendingProps),a=Ss(n.type,a),KP(e,t,n,a,r);case 15:return lD(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ss(n,a),Lg(e,t),t.tag=1,kn(n)?(e=!0,gx(t)):e=!1,su(t,r),aD(t,n,a),$j(t,n,a,r),Fj(null,t,n,!0,e,r);case 19:return fD(e,t,r);case 22:return cD(e,t,r)}throw Error(le(156,t.tag))};function AD(e,t){return rR(e,t)}function wH(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(e,t,r,n){return new wH(e,t,r,n)}function T2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jH(e){if(typeof e=="function")return T2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===X_)return 11;if(e===Q_)return 14}return 2}function co(e,t){var r=e.alternate;return r===null?(r=is(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ug(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")T2(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Rc:return Cl(r.children,a,i,t);case Y_:o=8,a|=8;break;case ij:return e=is(12,r,t,a|2),e.elementType=ij,e.lanes=i,e;case oj:return e=is(13,r,t,a),e.elementType=oj,e.lanes=i,e;case lj:return e=is(19,r,t,a),e.elementType=lj,e.lanes=i,e;case F5:return vy(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I5:o=10;break e;case L5:o=9;break e;case X_:o=11;break e;case Q_:o=14;break e;case Mi:o=16,n=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=is(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Cl(e,t,r,n){return e=is(7,e,n,t),e.lanes=r,e}function vy(e,t,r,n){return e=is(22,e,n,t),e.elementType=F5,e.lanes=r,e.stateNode={isHidden:!1},e}function Db(e,t,r){return e=is(6,e,null,t),e.lanes=r,e}function $b(e,t,r){return t=is(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NH(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gb(0),this.expirationTimes=gb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gb(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function O2(e,t,r,n,a,i,o,l,c){return e=new NH(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=is(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},p2(i),e}function _H(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ED(e){if(!e)return po;e=e._reactInternals;e:{if(sc(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var r=e.type;if(kn(r))return ER(e,r,t)}return t}function TD(e,t,r,n,a,i,o,l,c){return e=O2(r,n,!0,e,a,i,o,l,c),e.context=ED(null),r=e.current,n=dn(),a=lo(r),i=Ga(n,a),i.callback=t??null,io(r,i,a),e.current.lanes=a,Lm(e,a,n),Cn(e,n),e}function yy(e,t,r,n){var a=t.current,i=dn(),o=lo(a);return r=ED(r),t.context===null?t.context=r:t.pendingContext=r,t=Ga(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=io(a,t,o),e!==null&&(Is(e,a,o,i),Dg(e,a,o)),o}function Ax(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function aA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function M2(e,t){aA(e,t),(e=e.alternate)&&aA(e,t)}function SH(){return null}var OD=typeof reportError=="function"?reportError:function(e){console.error(e)};function R2(e){this._internalRoot=e}by.prototype.render=R2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));yy(e,t,null,null)};by.prototype.unmount=R2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ll(function(){yy(null,e,null,null)}),t[ti]=null}};function by(e){this._internalRoot=e}by.prototype.unstable_scheduleHydration=function(e){if(e){var t=cR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ii.length&&t!==0&&t<Ii[r].priority;r++);Ii.splice(r,0,e),r===0&&dR(e)}};function D2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iA(){}function kH(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Ax(o);i.call(u)}}var o=TD(t,n,e,0,null,!1,!1,"",iA);return e._reactRootContainer=o,e[ti]=o.current,Sf(e.nodeType===8?e.parentNode:e),Ll(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Ax(c);l.call(u)}}var c=O2(e,0,!1,null,null,!1,!1,"",iA);return e._reactRootContainer=c,e[ti]=c.current,Sf(e.nodeType===8?e.parentNode:e),Ll(function(){yy(t,c,r,n)}),c}function jy(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Ax(o);l.call(c)}}yy(t,o,e,a)}else o=kH(r,t,e,a,n);return Ax(o)}oR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Mh(t.pendingLanes);r!==0&&(e2(t,r|1),Cn(t,sr()),!(it&6)&&(Bu=sr()+500,Co()))}break;case 13:Ll(function(){var n=ri(e,1);if(n!==null){var a=dn();Is(n,e,1,a)}}),M2(e,1)}};t2=function(e){if(e.tag===13){var t=ri(e,134217728);if(t!==null){var r=dn();Is(t,e,134217728,r)}M2(e,134217728)}};lR=function(e){if(e.tag===13){var t=lo(e),r=ri(e,t);if(r!==null){var n=dn();Is(r,e,t,n)}M2(e,t)}};cR=function(){return mt};uR=function(e,t){var r=mt;try{return mt=e,t()}finally{mt=r}};vj=function(e,t,r){switch(t){case"input":if(dj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=hy(n);if(!a)throw Error(le(90));U5(n),dj(n,a)}}}break;case"textarea":V5(e,r);break;case"select":t=r.value,t!=null&&eu(e,!!r.multiple,t,!1)}};X5=P2;Q5=Ll;var CH={usingClientEntryPoint:!1,Events:[Bm,Lc,hy,G5,Y5,P2]},uh={findFiberByHostInstance:ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PH={bundleType:uh.bundleType,version:uh.version,rendererPackageName:uh.rendererPackageName,rendererConfig:uh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eR(e),e===null?null:e.stateNode},findFiberByHostInstance:uh.findFiberByHostInstance||SH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kp.isDisabled&&Kp.supportsFiber)try{ly=Kp.inject(PH),ua=Kp}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CH;Wn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D2(t))throw Error(le(200));return _H(e,t,null,r)};Wn.createRoot=function(e,t){if(!D2(e))throw Error(le(299));var r=!1,n="",a=OD;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=O2(e,1,!1,null,null,r,!1,n,a),e[ti]=t.current,Sf(e.nodeType===8?e.parentNode:e),new R2(t)};Wn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=eR(t),e=e===null?null:e.stateNode,e};Wn.flushSync=function(e){return Ll(e)};Wn.hydrate=function(e,t,r){if(!wy(t))throw Error(le(200));return jy(null,e,t,!0,r)};Wn.hydrateRoot=function(e,t,r){if(!D2(e))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=OD;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=TD(t,null,e,1,r??null,a,!1,i,o),e[ti]=t.current,Sf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new by(t)};Wn.render=function(e,t,r){if(!wy(t))throw Error(le(200));return jy(null,e,t,!1,r)};Wn.unmountComponentAtNode=function(e){if(!wy(e))throw Error(le(40));return e._reactRootContainer?(Ll(function(){jy(null,null,e,!1,function(){e._reactRootContainer=null,e[ti]=null})}),!0):!1};Wn.unstable_batchedUpdates=P2;Wn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!wy(r))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return jy(e,t,r,!1,n)};Wn.version="18.3.1-next-f1338f8080-20240426";function MD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MD)}catch(e){console.error(e)}}MD(),M5.exports=Wn;var ac=M5.exports;const AH=ot(ac);var RD,oA=ac;RD=oA.createRoot,oA.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rf.apply(this,arguments)}var Zi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zi||(Zi={}));const lA="popstate";function EH(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Qj("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ex(a)}return OH(t,r,null,e)}function or(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function DD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TH(){return Math.random().toString(36).substr(2,8)}function cA(e,t){return{usr:e.state,key:e.key,idx:t}}function Qj(e,t,r,n){return r===void 0&&(r=null),Rf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sd(t):t,{state:r,key:t&&t.key||n||TH()})}function Ex(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function OH(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Zi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Rf({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Zi.Pop;let y=d(),b=y==null?null:y-u;u=y,c&&c({action:l,location:p.location,delta:b})}function f(y,b){l=Zi.Push;let v=Qj(p.location,y,b);u=d()+1;let w=cA(v,u),j=p.createHref(v);try{o.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:p.location,delta:1})}function m(y,b){l=Zi.Replace;let v=Qj(p.location,y,b);u=d();let w=cA(v,u),j=p.createHref(v);o.replaceState(w,"",j),i&&c&&c({action:l,location:p.location,delta:0})}function g(y){let b=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof y=="string"?y:Ex(y);return v=v.replace(/ $/,"%20"),or(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let p={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(lA,h),c=y,()=>{a.removeEventListener(lA,h),c=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(y){return o.go(y)}};return p}var uA;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uA||(uA={}));function MH(e,t,r){return r===void 0&&(r="/"),RH(e,t,r,!1)}function RH(e,t,r,n){let a=typeof t=="string"?Sd(t):t,i=$2(a.pathname||"/",r);if(i==null)return null;let o=$D(e);DH(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=HH(i);l=qH(o[c],u,n)}return l}function $D(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(or(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=uo([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(or(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$D(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:zH(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of ID(i.path))a(i,o,c)}),t}function ID(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=ID(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function DH(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:VH(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const $H=/^:[\w-]+$/,IH=3,LH=2,FH=1,BH=10,UH=-2,dA=e=>e==="*";function zH(e,t){let r=e.split("/"),n=r.length;return r.some(dA)&&(n+=UH),t&&(n+=LH),r.filter(a=>!dA(a)).reduce((a,i)=>a+($H.test(i)?IH:i===""?FH:BH),n)}function VH(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function qH(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=hA({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=hA({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:uo([i,h.pathname]),pathnameBase:XH(uo([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=uo([i,h.pathnameBase]))}return o}function hA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=WH(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=l[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[h];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function WH(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),DD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function HH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return DD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function KH(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Sd(e):e;return{pathname:r?r.startsWith("/")?r:GH(r,t):t,search:QH(n),hash:JH(a)}}function GH(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ib(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YH(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function I2(e,t){let r=YH(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function L2(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Sd(e):(a=Rf({},e),or(!a.pathname||!a.pathname.includes("?"),Ib("?","pathname","search",a)),or(!a.pathname||!a.pathname.includes("#"),Ib("#","pathname","hash",a)),or(!a.search||!a.search.includes("#"),Ib("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=KH(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const uo=e=>e.join("/").replace(/\/\/+/g,"/"),XH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const LD=["post","put","patch","delete"];new Set(LD);const eK=["get",...LD];new Set(eK);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Df.apply(this,arguments)}const F2=x.createContext(null),tK=x.createContext(null),Po=x.createContext(null),Ny=x.createContext(null),pi=x.createContext({outlet:null,matches:[],isDataRoute:!1}),FD=x.createContext(null);function rK(e,t){let{relative:r}=t===void 0?{}:t;kd()||or(!1);let{basename:n,navigator:a}=x.useContext(Po),{hash:i,pathname:o,search:l}=UD(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:uo([n,o])),a.createHref({pathname:c,search:l,hash:i})}function kd(){return x.useContext(Ny)!=null}function ka(){return kd()||or(!1),x.useContext(Ny).location}function BD(e){x.useContext(Po).static||x.useLayoutEffect(e)}function Ao(){let{isDataRoute:e}=x.useContext(pi);return e?gK():nK()}function nK(){kd()||or(!1);let e=x.useContext(F2),{basename:t,future:r,navigator:n}=x.useContext(Po),{matches:a}=x.useContext(pi),{pathname:i}=ka(),o=JSON.stringify(I2(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return BD(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=L2(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:uo([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function sK(){let{matches:e}=x.useContext(pi),t=e[e.length-1];return t?t.params:{}}function UD(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Po),{matches:a}=x.useContext(pi),{pathname:i}=ka(),o=JSON.stringify(I2(a,n.v7_relativeSplatPath));return x.useMemo(()=>L2(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function aK(e,t){return iK(e,t)}function iK(e,t,r,n){kd()||or(!1);let{navigator:a}=x.useContext(Po),{matches:i}=x.useContext(pi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ka(),d;if(t){var h;let y=typeof t=="string"?Sd(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||or(!1),d=y}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=MH(e,{pathname:m}),p=dK(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:uo([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:uo([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&p?x.createElement(Ny.Provider,{value:{location:Df({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Zi.Pop}},p):p}function oK(){let e=pK(),t=ZH(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const lK=x.createElement(oK,null);class cK extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(pi.Provider,{value:this.props.routeContext},x.createElement(FD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uK(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(F2);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(pi.Provider,{value:t},n)}function dK(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||or(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,g=!1,p=null,y=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||lK,c&&(u<0&&f===0?(g=!0,y=null):u===f&&(g=!0,y=h.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,f+1)),v=()=>{let w;return m?w=p:g?w=y:h.route.Component?w=x.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,x.createElement(uK,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(cK,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var zD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zD||{}),Tx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Tx||{});function hK(e){let t=x.useContext(F2);return t||or(!1),t}function fK(e){let t=x.useContext(tK);return t||or(!1),t}function mK(e){let t=x.useContext(pi);return t||or(!1),t}function VD(e){let t=mK(),r=t.matches[t.matches.length-1];return r.route.id||or(!1),r.route.id}function pK(){var e;let t=x.useContext(FD),r=fK(Tx.UseRouteError),n=VD(Tx.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function gK(){let{router:e}=hK(zD.UseNavigateStable),t=VD(Tx.UseNavigateStable),r=x.useRef(!1);return BD(()=>{r.current=!0}),x.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Df({fromRouteId:t},i)))},[e,t])}function $f(e){let{to:t,replace:r,state:n,relative:a}=e;kd()||or(!1);let{future:i,static:o}=x.useContext(Po),{matches:l}=x.useContext(pi),{pathname:c}=ka(),u=Ao(),d=L2(t,I2(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:a}),[u,h,a,r,n]),null}function qr(e){or(!1)}function xK(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Zi.Pop,navigator:i,static:o=!1,future:l}=e;kd()&&or(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:o,future:Df({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Sd(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:g="default"}=n,p=x.useMemo(()=>{let y=$2(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:m,key:g},navigationType:a}},[c,d,h,f,m,g,a]);return p==null?null:x.createElement(Po.Provider,{value:u},x.createElement(Ny.Provider,{children:r,value:p}))}function vK(e){let{children:t,location:r}=e;return aK(Jj(t),r)}new Promise(()=>{});function Jj(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){r.push.apply(r,Jj(n.props.children,i));return}n.type!==qr&&or(!1),!n.props.index||!n.props.children||or(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Jj(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zj.apply(this,arguments)}function yK(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function bK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wK(e,t){return e.button===0&&(!t||t==="_self")&&!bK(e)}const jK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NK="6";try{window.__reactRouterVersion=NK}catch{}const _K="startTransition",fA=T5[_K];function SK(e){let{basename:t,children:r,future:n,window:a}=e,i=x.useRef();i.current==null&&(i.current=EH({window:a,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(h=>{u&&fA?fA(()=>c(h)):c(h)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.createElement(xK,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const kK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=yK(t,jK),{basename:m}=x.useContext(Po),g,p=!1;if(typeof u=="string"&&CK.test(u)&&(g=u,kK))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=$2(j.pathname,m);j.origin===w.origin&&N!=null?u=N+j.search+j.hash:p=!0}catch{}let y=rK(u,{relative:a}),b=PK(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function v(w){n&&n(w),w.defaultPrevented||b(w)}return x.createElement("a",Zj({},f,{href:g||y,onClick:p||i?n:v,ref:r,target:c}))});var mA;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mA||(mA={}));var pA;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pA||(pA={}));function PK(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ao(),u=ka(),d=UD(e,{relative:o});return x.useCallback(h=>{if(wK(h,r)){h.preventDefault();let f=n!==void 0?n:Ex(u)===Ex(d);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}var Cd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fl=typeof window>"u"||"Deno"in globalThis;function rs(){}function AK(e,t){return typeof e=="function"?e(t):e}function e1(e){return typeof e=="number"&&e>=0&&e!==1/0}function qD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function iu(e,t){return typeof e=="function"?e(t):e}function Ts(e,t){return typeof e=="function"?e(t):e}function gA(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==B2(o,t.options))return!1}else if(!If(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function xA(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Bl(t.options.mutationKey)!==Bl(i))return!1}else if(!If(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function B2(e,t){return((t==null?void 0:t.queryKeyHashFn)||Bl)(e)}function Bl(e){return JSON.stringify(e,(t,r)=>t1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function If(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!If(e[r],t[r])):!1}function WD(e,t){if(e===t)return e;const r=vA(e)&&vA(t);if(r||t1(e)&&t1(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=WD(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Ox(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function vA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function t1(e){if(!yA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!yA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yA(e){return Object.prototype.toString.call(e)==="[object Object]"}function EK(e){return new Promise(t=>{setTimeout(t,e)})}function r1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?WD(e,t):t}function TK(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function OK(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var U2=Symbol();function HD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===U2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var vl,zi,wu,d5,MK=(d5=class extends Cd{constructor(){super();Te(this,vl);Te(this,zi);Te(this,wu);we(this,wu,t=>{if(!Fl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,zi)||this.setEventListener(z(this,wu))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,zi))==null||t.call(this),we(this,zi,void 0))}setEventListener(t){var r;we(this,wu,t),(r=z(this,zi))==null||r.call(this),we(this,zi,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){z(this,vl)!==t&&(we(this,vl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof z(this,vl)=="boolean"?z(this,vl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},vl=new WeakMap,zi=new WeakMap,wu=new WeakMap,d5),z2=new MK,ju,Vi,Nu,h5,RK=(h5=class extends Cd{constructor(){super();Te(this,ju,!0);Te(this,Vi);Te(this,Nu);we(this,Nu,t=>{if(!Fl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,Vi)||this.setEventListener(z(this,Nu))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Vi))==null||t.call(this),we(this,Vi,void 0))}setEventListener(t){var r;we(this,Nu,t),(r=z(this,Vi))==null||r.call(this),we(this,Vi,t(this.setOnline.bind(this)))}setOnline(t){z(this,ju)!==t&&(we(this,ju,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return z(this,ju)}},ju=new WeakMap,Vi=new WeakMap,Nu=new WeakMap,h5),Mx=new RK;function n1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function DK(e){return Math.min(1e3*2**e,3e4)}function KD(e){return(e??"online")==="online"?Mx.isOnline():!0}var GD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Lb(e){return e instanceof GD}function YD(e){let t=!1,r=0,n=!1,a;const i=n1(),o=p=>{var y;n||(f(new GD(p)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>z2.isFocused()&&(e.networkMode==="always"||Mx.isOnline())&&e.canRun(),d=()=>KD(e.networkMode)&&e.canRun(),h=p=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,p),a==null||a(),i.resolve(p))},f=p=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,p),a==null||a(),i.reject(p))},m=()=>new Promise(p=>{var y;a=b=>{(n||u())&&p(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const y=r===0?e.initialPromise:void 0;try{p=y??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(h).catch(b=>{var S;if(n)return;const v=e.retry??(Fl?0:3),w=e.retryDelay??DK,j=typeof w=="function"?w(r,b):w,N=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(t||!N){f(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),EK(j).then(()=>u()?void 0:m()).then(()=>{t?f(b):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),i)}}function $K(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var vr=$K(),yl,f5,XD=(f5=class{constructor(){Te(this,yl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),e1(this.gcTime)&&we(this,yl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Fl?1/0:5*60*1e3))}clearGcTimeout(){z(this,yl)&&(clearTimeout(z(this,yl)),we(this,yl,void 0))}},yl=new WeakMap,f5),_u,Su,ts,Wr,Mm,bl,ks,Da,m5,IK=(m5=class extends XD{constructor(t){super();Te(this,ks);Te(this,_u);Te(this,Su);Te(this,ts);Te(this,Wr);Te(this,Mm);Te(this,bl);we(this,bl,!1),we(this,Mm,t.defaultOptions),this.setOptions(t.options),this.observers=[],we(this,ts,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,we(this,_u,LK(this.options)),this.state=t.state??z(this,_u),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,Wr))==null?void 0:t.promise}setOptions(t){this.options={...z(this,Mm),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,ts).remove(this)}setData(t,r){const n=r1(this.state.data,t,this.options);return Ge(this,ks,Da).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ge(this,ks,Da).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=z(this,Wr))==null?void 0:n.promise;return(a=z(this,Wr))==null||a.cancel(t),r?r.then(rs).catch(rs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,_u))}isActive(){return this.observers.some(t=>Ts(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===U2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!qD(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,Wr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,Wr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,ts).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(z(this,Wr)&&(z(this,bl)?z(this,Wr).cancel({revert:!0}):z(this,Wr).cancelRetry()),this.scheduleGc()),z(this,ts).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ge(this,ks,Da).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Wr))return z(this,Wr).continueRetry(),z(this,Wr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(we(this,bl,!0),n.signal)})},i=()=>{const h=HD(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return a(f),we(this,bl,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),we(this,Su,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Ge(this,ks,Da).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,m,g,p;Lb(h)&&h.silent||Ge(this,ks,Da).call(this,{type:"error",error:h}),Lb(h)||((m=(f=z(this,ts).config).onError)==null||m.call(f,h,this),(p=(g=z(this,ts).config).onSettled)==null||p.call(g,this.state.data,h,this)),this.scheduleGc()};return we(this,Wr,YD({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var f,m,g,p;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){l(y);return}(m=(f=z(this,ts).config).onSuccess)==null||m.call(f,h,this),(p=(g=z(this,ts).config).onSettled)==null||p.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{Ge(this,ks,Da).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Ge(this,ks,Da).call(this,{type:"pause"})},onContinue:()=>{Ge(this,ks,Da).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),z(this,Wr).start()}},_u=new WeakMap,Su=new WeakMap,ts=new WeakMap,Wr=new WeakMap,Mm=new WeakMap,bl=new WeakMap,ks=new WeakSet,Da=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...QD(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Lb(a)&&a.revert&&z(this,Su)?{...z(this,Su),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),vr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,ts).notify({query:this,type:"updated",action:t})})},m5);function QD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function LK(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Zs,p5,FK=(p5=class extends Cd{constructor(t={}){super();Te(this,Zs);this.config=t,we(this,Zs,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??B2(a,r);let o=this.get(i);return o||(o=new IK({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){z(this,Zs).has(t.queryHash)||(z(this,Zs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=z(this,Zs).get(t.queryHash);r&&(t.destroy(),r===t&&z(this,Zs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){vr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Zs).get(t)}getAll(){return[...z(this,Zs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>gA(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>gA(t,n)):r}notify(t){vr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){vr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){vr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zs=new WeakMap,p5),ea,rn,wl,ta,Ci,g5,BK=(g5=class extends XD{constructor(t){super();Te(this,ta);Te(this,ea);Te(this,rn);Te(this,wl);this.mutationId=t.mutationId,we(this,rn,t.mutationCache),we(this,ea,[]),this.state=t.state||JD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,ea).includes(t)||(z(this,ea).push(t),this.clearGcTimeout(),z(this,rn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){we(this,ea,z(this,ea).filter(r=>r!==t)),this.scheduleGc(),z(this,rn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,ea).length||(this.state.status==="pending"?this.scheduleGc():z(this,rn).remove(this))}continue(){var t;return((t=z(this,wl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,u,d,h,f,m,g,p,y,b,v,w,j,N,S,_;we(this,wl,YD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{Ge(this,ta,Ci).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{Ge(this,ta,Ci).call(this,{type:"pause"})},onContinue:()=>{Ge(this,ta,Ci).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,rn).canRun(this)}));const r=this.state.status==="pending",n=!z(this,wl).canStart();try{if(!r){Ge(this,ta,Ci).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(a=z(this,rn).config).onMutate)==null?void 0:i.call(a,t,this));const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));C!==this.state.context&&Ge(this,ta,Ci).call(this,{type:"pending",context:C,variables:t,isPaused:n})}const k=await z(this,wl).start();return await((u=(c=z(this,rn).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,k,t,this.state.context)),await((m=(f=z(this,rn).config).onSettled)==null?void 0:m.call(f,k,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,k,null,t,this.state.context)),Ge(this,ta,Ci).call(this,{type:"success",data:k}),k}catch(k){try{throw await((b=(y=z(this,rn).config).onError)==null?void 0:b.call(y,k,t,this.state.context,this)),await((w=(v=this.options).onError)==null?void 0:w.call(v,k,t,this.state.context)),await((N=(j=z(this,rn).config).onSettled)==null?void 0:N.call(j,void 0,k,this.state.variables,this.state.context,this)),await((_=(S=this.options).onSettled)==null?void 0:_.call(S,void 0,k,t,this.state.context)),k}finally{Ge(this,ta,Ci).call(this,{type:"error",error:k})}}finally{z(this,rn).runNext(this)}}},ea=new WeakMap,rn=new WeakMap,wl=new WeakMap,ta=new WeakSet,Ci=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),vr.batch(()=>{z(this,ea).forEach(n=>{n.onMutationUpdate(t)}),z(this,rn).notify({mutation:this,type:"updated",action:t})})},g5);function JD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mn,Rm,x5,UK=(x5=class extends Cd{constructor(t={}){super();Te(this,Mn);Te(this,Rm);this.config=t,we(this,Mn,new Map),we(this,Rm,Date.now())}build(t,r,n){const a=new BK({mutationCache:this,mutationId:++Ep(this,Rm)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=Gp(t),n=z(this,Mn).get(r)??[];n.push(t),z(this,Mn).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Gp(t);if(z(this,Mn).has(r)){const a=(n=z(this,Mn).get(r))==null?void 0:n.filter(i=>i!==t);a&&(a.length===0?z(this,Mn).delete(r):z(this,Mn).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=z(this,Mn).get(Gp(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=z(this,Mn).get(Gp(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){vr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...z(this,Mn).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>xA(r,n))}findAll(t={}){return this.getAll().filter(r=>xA(t,r))}notify(t){vr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return vr.batch(()=>Promise.all(t.map(r=>r.continue().catch(rs))))}},Mn=new WeakMap,Rm=new WeakMap,x5);function Gp(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function bA(e){return{onFetch:(t,r)=>{var d,h,f,m,g;const n=t.options,a=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},b=HD(t.options,t.fetchOptions),v=async(w,j,N)=>{if(p)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const S={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};y(S);const _=await b(S),{maxPages:k}=t.options,C=N?OK:TK;return{pages:C(w.pages,_,k),pageParams:C(w.pageParams,j,k)}};if(a&&i.length){const w=a==="backward",j=w?zK:wA,N={pages:i,pageParams:o},S=j(n,N);l=await v(N,S,w)}else{const w=e??i.length;do{const j=c===0?o[0]??n.initialPageParam:wA(n,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,y;return(y=(p=t.options).persister)==null?void 0:y.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function wA(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function zK(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Xt,qi,Wi,ku,Cu,Hi,Pu,Au,v5,VK=(v5=class{constructor(e={}){Te(this,Xt);Te(this,qi);Te(this,Wi);Te(this,ku);Te(this,Cu);Te(this,Hi);Te(this,Pu);Te(this,Au);we(this,Xt,e.queryCache||new FK),we(this,qi,e.mutationCache||new UK),we(this,Wi,e.defaultOptions||{}),we(this,ku,new Map),we(this,Cu,new Map),we(this,Hi,0)}mount(){Ep(this,Hi)._++,z(this,Hi)===1&&(we(this,Pu,z2.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,Xt).onFocus())})),we(this,Au,Mx.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,Xt).onOnline())})))}unmount(){var e,t;Ep(this,Hi)._--,z(this,Hi)===0&&((e=z(this,Pu))==null||e.call(this),we(this,Pu,void 0),(t=z(this,Au))==null||t.call(this),we(this,Au,void 0))}isFetching(e){return z(this,Xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,qi).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,Xt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=z(this,Xt).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(iu(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return z(this,Xt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=z(this,Xt).get(n.queryHash),i=a==null?void 0:a.state.data,o=AK(t,i);if(o!==void 0)return z(this,Xt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return vr.batch(()=>z(this,Xt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,Xt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=z(this,Xt);vr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=z(this,Xt),n={type:"active",...e};return vr.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=vr.batch(()=>z(this,Xt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(rs).catch(rs)}invalidateQueries(e={},t={}){return vr.batch(()=>{if(z(this,Xt).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=vr.batch(()=>z(this,Xt).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(rs)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(rs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=z(this,Xt).build(this,t);return r.isStaleByTime(iu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(rs).catch(rs)}fetchInfiniteQuery(e){return e.behavior=bA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(rs).catch(rs)}ensureInfiniteQueryData(e){return e.behavior=bA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mx.isOnline()?z(this,qi).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Xt)}getMutationCache(){return z(this,qi)}getDefaultOptions(){return z(this,Wi)}setDefaultOptions(e){we(this,Wi,e)}setQueryDefaults(e,t){z(this,ku).set(Bl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,ku).values()];let r={};return t.forEach(n=>{If(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){z(this,Cu).set(Bl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,Cu).values()];let r={};return t.forEach(n=>{If(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,Wi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=B2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===U2&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,Wi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,Xt).clear(),z(this,qi).clear()}},Xt=new WeakMap,qi=new WeakMap,Wi=new WeakMap,ku=new WeakMap,Cu=new WeakMap,Hi=new WeakMap,Pu=new WeakMap,Au=new WeakMap,v5),gn,tt,Dm,nn,jl,Eu,Ki,ra,$m,Tu,Ou,Nl,_l,Gi,Mu,ht,Dh,s1,a1,i1,o1,l1,c1,u1,ZD,y5,qK=(y5=class extends Cd{constructor(t,r){super();Te(this,ht);Te(this,gn);Te(this,tt);Te(this,Dm);Te(this,nn);Te(this,jl);Te(this,Eu);Te(this,Ki);Te(this,ra);Te(this,$m);Te(this,Tu);Te(this,Ou);Te(this,Nl);Te(this,_l);Te(this,Gi);Te(this,Mu,new Set);this.options=r,we(this,gn,t),we(this,ra,null),we(this,Ki,n1()),this.options.experimental_prefetchInRender||z(this,Ki).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,tt).addObserver(this),jA(z(this,tt),this.options)?Ge(this,ht,Dh).call(this):this.updateResult(),Ge(this,ht,o1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d1(z(this,tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d1(z(this,tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ge(this,ht,l1).call(this),Ge(this,ht,c1).call(this),z(this,tt).removeObserver(this)}setOptions(t,r){const n=this.options,a=z(this,tt);if(this.options=z(this,gn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ts(this.options.enabled,z(this,tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ge(this,ht,u1).call(this),z(this,tt).setOptions(this.options),n._defaulted&&!Ox(this.options,n)&&z(this,gn).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,tt),observer:this});const i=this.hasListeners();i&&NA(z(this,tt),a,this.options,n)&&Ge(this,ht,Dh).call(this),this.updateResult(r),i&&(z(this,tt)!==a||Ts(this.options.enabled,z(this,tt))!==Ts(n.enabled,z(this,tt))||iu(this.options.staleTime,z(this,tt))!==iu(n.staleTime,z(this,tt)))&&Ge(this,ht,s1).call(this);const o=Ge(this,ht,a1).call(this);i&&(z(this,tt)!==a||Ts(this.options.enabled,z(this,tt))!==Ts(n.enabled,z(this,tt))||o!==z(this,Gi))&&Ge(this,ht,i1).call(this,o)}getOptimisticResult(t){const r=z(this,gn).getQueryCache().build(z(this,gn),t),n=this.createResult(r,t);return HK(this,n)&&(we(this,nn,n),we(this,Eu,this.options),we(this,jl,z(this,tt).state)),n}getCurrentResult(){return z(this,nn)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){z(this,Mu).add(t)}getCurrentQuery(){return z(this,tt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=z(this,gn).defaultQueryOptions(t),n=z(this,gn).getQueryCache().build(z(this,gn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ge(this,ht,Dh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,nn)))}createResult(t,r){var k;const n=z(this,tt),a=this.options,i=z(this,nn),o=z(this,jl),l=z(this,Eu),u=t!==n?t.state:z(this,Dm),{state:d}=t;let h={...d},f=!1,m;if(r._optimisticResults){const C=this.hasListeners(),P=!C&&jA(t,r),E=C&&NA(t,n,r,a);(P||E)&&(h={...h,...QD(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:y}=h;if(r.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&r.select===z(this,$m))m=z(this,Tu);else try{we(this,$m,r.select),m=r.select(h.data),m=r1(i==null?void 0:i.data,m,r),we(this,Tu,m),we(this,ra,null)}catch(C){we(this,ra,C)}else m=h.data;if(r.placeholderData!==void 0&&m===void 0&&y==="pending"){let C;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))C=i.data;else if(C=typeof r.placeholderData=="function"?r.placeholderData((k=z(this,Ou))==null?void 0:k.state.data,z(this,Ou)):r.placeholderData,r.select&&C!==void 0)try{C=r.select(C),we(this,ra,null)}catch(P){we(this,ra,P)}C!==void 0&&(y="success",m=r1(i==null?void 0:i.data,C,r),f=!0)}z(this,ra)&&(g=z(this,ra),m=z(this,Tu),p=Date.now(),y="error");const b=h.fetchStatus==="fetching",v=y==="pending",w=y==="error",j=v&&b,N=m!==void 0,_={status:y,fetchStatus:h.fetchStatus,isPending:v,isSuccess:y==="success",isError:w,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!v,isLoadingError:w&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&N,isStale:V2(t,r),refetch:this.refetch,promise:z(this,Ki)};if(this.options.experimental_prefetchInRender){const C=T=>{_.status==="error"?T.reject(_.error):_.data!==void 0&&T.resolve(_.data)},P=()=>{const T=we(this,Ki,_.promise=n1());C(T)},E=z(this,Ki);switch(E.status){case"pending":t.queryHash===n.queryHash&&C(E);break;case"fulfilled":(_.status==="error"||_.data!==E.value)&&P();break;case"rejected":(_.status!=="error"||_.error!==E.reason)&&P();break}}return _}updateResult(t){const r=z(this,nn),n=this.createResult(z(this,tt),this.options);if(we(this,jl,z(this,tt).state),we(this,Eu,this.options),z(this,jl).data!==void 0&&we(this,Ou,z(this,tt)),Ox(n,r))return;we(this,nn,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!z(this,Mu).size)return!0;const c=new Set(l??z(this,Mu));return this.options.throwOnError&&c.add("error"),Object.keys(z(this,nn)).some(u=>{const d=u;return z(this,nn)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Ge(this,ht,ZD).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ge(this,ht,o1).call(this)}},gn=new WeakMap,tt=new WeakMap,Dm=new WeakMap,nn=new WeakMap,jl=new WeakMap,Eu=new WeakMap,Ki=new WeakMap,ra=new WeakMap,$m=new WeakMap,Tu=new WeakMap,Ou=new WeakMap,Nl=new WeakMap,_l=new WeakMap,Gi=new WeakMap,Mu=new WeakMap,ht=new WeakSet,Dh=function(t){Ge(this,ht,u1).call(this);let r=z(this,tt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(rs)),r},s1=function(){Ge(this,ht,l1).call(this);const t=iu(this.options.staleTime,z(this,tt));if(Fl||z(this,nn).isStale||!e1(t))return;const n=qD(z(this,nn).dataUpdatedAt,t)+1;we(this,Nl,setTimeout(()=>{z(this,nn).isStale||this.updateResult()},n))},a1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,tt)):this.options.refetchInterval)??!1},i1=function(t){Ge(this,ht,c1).call(this),we(this,Gi,t),!(Fl||Ts(this.options.enabled,z(this,tt))===!1||!e1(z(this,Gi))||z(this,Gi)===0)&&we(this,_l,setInterval(()=>{(this.options.refetchIntervalInBackground||z2.isFocused())&&Ge(this,ht,Dh).call(this)},z(this,Gi)))},o1=function(){Ge(this,ht,s1).call(this),Ge(this,ht,i1).call(this,Ge(this,ht,a1).call(this))},l1=function(){z(this,Nl)&&(clearTimeout(z(this,Nl)),we(this,Nl,void 0))},c1=function(){z(this,_l)&&(clearInterval(z(this,_l)),we(this,_l,void 0))},u1=function(){const t=z(this,gn).getQueryCache().build(z(this,gn),this.options);if(t===z(this,tt))return;const r=z(this,tt);we(this,tt,t),we(this,Dm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},ZD=function(t){vr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(z(this,nn))}),z(this,gn).getQueryCache().notify({query:z(this,tt),type:"observerResultsUpdated"})})},y5);function WK(e,t){return Ts(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function jA(e,t){return WK(e,t)||e.state.data!==void 0&&d1(e,t,t.refetchOnMount)}function d1(e,t,r){if(Ts(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&V2(e,t)}return!1}function NA(e,t,r,n){return(e!==t||Ts(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&V2(e,r)}function V2(e,t){return Ts(t.enabled,e)!==!1&&e.isStaleByTime(iu(t.staleTime,e))}function HK(e,t){return!Ox(e.getCurrentResult(),t)}var Yi,Xi,xn,Ba,Za,zg,h1,b5,KK=(b5=class extends Cd{constructor(r,n){super();Te(this,Za);Te(this,Yi);Te(this,Xi);Te(this,xn);Te(this,Ba);we(this,Yi,r),this.setOptions(n),this.bindMethods(),Ge(this,Za,zg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=z(this,Yi).defaultMutationOptions(r),Ox(this.options,n)||z(this,Yi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,xn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Bl(n.mutationKey)!==Bl(this.options.mutationKey)?this.reset():((a=z(this,xn))==null?void 0:a.state.status)==="pending"&&z(this,xn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=z(this,xn))==null||r.removeObserver(this)}onMutationUpdate(r){Ge(this,Za,zg).call(this),Ge(this,Za,h1).call(this,r)}getCurrentResult(){return z(this,Xi)}reset(){var r;(r=z(this,xn))==null||r.removeObserver(this),we(this,xn,void 0),Ge(this,Za,zg).call(this),Ge(this,Za,h1).call(this)}mutate(r,n){var a;return we(this,Ba,n),(a=z(this,xn))==null||a.removeObserver(this),we(this,xn,z(this,Yi).getMutationCache().build(z(this,Yi),this.options)),z(this,xn).addObserver(this),z(this,xn).execute(r)}},Yi=new WeakMap,Xi=new WeakMap,xn=new WeakMap,Ba=new WeakMap,Za=new WeakSet,zg=function(){var n;const r=((n=z(this,xn))==null?void 0:n.state)??JD();we(this,Xi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},h1=function(r){vr.batch(()=>{var n,a,i,o,l,c,u,d;if(z(this,Ba)&&this.hasListeners()){const h=z(this,Xi).variables,f=z(this,Xi).context;(r==null?void 0:r.type)==="success"?((a=(n=z(this,Ba)).onSuccess)==null||a.call(n,r.data,h,f),(o=(i=z(this,Ba)).onSettled)==null||o.call(i,r.data,null,h,f)):(r==null?void 0:r.type)==="error"&&((c=(l=z(this,Ba)).onError)==null||c.call(l,r.error,h,f),(d=(u=z(this,Ba)).onSettled)==null||d.call(u,void 0,r.error,h,f))}this.listeners.forEach(h=>{h(z(this,Xi))})})},b5),e6=x.createContext(void 0),ic=e=>{const t=x.useContext(e6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},GK=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(e6.Provider,{value:e,children:t})),t6=x.createContext(!1),YK=()=>x.useContext(t6);t6.Provider;function XK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var QK=x.createContext(XK()),JK=()=>x.useContext(QK);function r6(e,t){return typeof e=="function"?e(...t):!!e}function n6(){}var ZK=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},eG=e=>{x.useEffect(()=>{e.clearReset()},[e])},tG=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&r6(r,[e.error,n]),rG=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},nG=(e,t)=>e.isLoading&&e.isFetching&&!t,sG=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,_A=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function aG(e,t,r){var d,h,f,m,g;const n=ic(),a=YK(),i=JK(),o=n.defaultQueryOptions(e);(h=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",rG(o),ZK(o,i),eG(i);const l=!n.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(x.useSyncExternalStore(x.useCallback(p=>{const y=a?()=>{}:c.subscribe(vr.batchCalls(p));return c.updateResult(),y},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),sG(o,u))throw _A(o,c,i);if(tG({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||m.call(f,o,u),o.experimental_prefetchInRender&&!Fl&&nG(u,a)){const p=l?_A(o,c,i):(g=n.getQueryCache().get(o.queryHash))==null?void 0:g.promise;p==null||p.catch(n6).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Ya(e,t){return aG(e,qK)}function zm(e,t){const r=ic(),[n]=x.useState(()=>new KK(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const a=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(vr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((o,l)=>{n.mutate(o,l).catch(n6)},[n]);if(a.error&&r6(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var iG=typeof Element<"u",oG=typeof Map=="function",lG=typeof Set=="function",cG=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Vg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Vg(e[n],t[n]))return!1;return!0}var i;if(oG&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!Vg(n.value[1],t.get(n.value[0])))return!1;return!0}if(lG&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(cG&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(iG&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!Vg(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var uG=function(t,r){try{return Vg(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const dG=ot(uG);var hG=function(e,t,r,n,a,i,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,i,o,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},fG=hG;const SA=ot(fG);var mG=function(t,r,n,a){var i=n?n.call(a,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var h=t[d],f=r[d];if(i=n?n.call(a,h,f,d):void 0,i===!1||i===void 0&&h!==f)return!1}return!0};const pG=ot(mG);var s6=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(s6||{}),Fb={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},kA=Object.values(s6),q2={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},gG=Object.entries(q2).reduce((e,[t,r])=>(e[r]=t,e),{}),Rs="data-rh",ou={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},lu=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},xG=e=>{let t=lu(e,"title");const r=lu(e,ou.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=lu(e,ou.DEFAULT_TITLE);return t||n||void 0},vG=e=>lu(e,ou.ON_CHANGE_CLIENT_STATE)||(()=>{}),Bb=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),yG=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let i=0;i<a.length;i+=1){const l=a[i].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),bG=e=>console&&typeof console.warn=="function"&&console.warn(e),dh=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&bG(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,i)=>{const o={};i.filter(c=>{let u;const d=Object.keys(c);for(let f=0;f<d.length;f+=1){const m=d[f],g=m.toLowerCase();t.indexOf(g)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(g==="rel"&&c[g].toLowerCase()==="stylesheet")&&(u=g),t.indexOf(m)!==-1&&(m==="innerHTML"||m==="cssText"||m==="itemprop")&&(u=m)}if(!u||!c[u])return!1;const h=c[u].toLowerCase();return n[u]||(n[u]={}),o[u]||(o[u]={}),n[u][h]?!1:(o[u][h]=!0,!0)}).reverse().forEach(c=>a.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const u=l[c],d={...n[u],...o[u]};n[u]=d}return a},[]).reverse()},wG=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},jG=e=>({baseTag:yG(["href"],e),bodyAttributes:Bb("bodyAttributes",e),defer:lu(e,ou.DEFER),encode:lu(e,ou.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Bb("htmlAttributes",e),linkTags:dh("link",["rel","href"],e),metaTags:dh("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:dh("noscript",["innerHTML"],e),onChangeClientState:vG(e),scriptTags:dh("script",["src","innerHTML"],e),styleTags:dh("style",["cssText"],e),title:xG(e),titleAttributes:Bb("titleAttributes",e),prioritizeSeoTags:wG(e,ou.PRIORITIZE_SEO_TAGS)}),a6=e=>Array.isArray(e)?e.join(""):e,NG=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},Ub=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(NG(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},CA=(e,t)=>({...e,[t]:void 0}),_G=["noscript","script","style"],f1=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),i6=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),SG=(e,t,r,n)=>{const a=i6(r),i=a6(t);return a?`<${e} ${Rs}="true" ${a}>${f1(i,n)}</${e}>`:`<${e} ${Rs}="true">${f1(i,n)}</${e}>`},kG=(e,t,r=!0)=>t.reduce((n,a)=>{const i=a,o=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const h=typeof i[d]>"u"?d:`${d}="${f1(i[d],r)}"`;return u?`${u} ${h}`:h},""),l=i.innerHTML||i.cssText||"",c=_G.indexOf(e)===-1;return`${n}<${e} ${Rs}="true" ${o}${c?"/>":`>${l}</${e}>`}`},""),o6=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=q2[n];return r[a||n]=e[n],r},t),CG=(e,t,r)=>{const n={key:t,[Rs]:!0},a=o6(r,n);return[O.createElement("title",a,t)]},qg=(e,t)=>t.map((r,n)=>{const a={key:n,[Rs]:!0};return Object.keys(r).forEach(i=>{const l=q2[i]||i;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=r[i]}),O.createElement(e,a)}),es=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>CG(e,t.title,t.titleAttributes),toString:()=>SG(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>o6(t),toString:()=>i6(t)};default:return{toComponent:()=>qg(e,t),toString:()=>kG(e,t,r)}}},PG=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=Ub(e,Fb.meta),i=Ub(t,Fb.link),o=Ub(r,Fb.script);return{priorityMethods:{toComponent:()=>[...qg("meta",a.priority),...qg("link",i.priority),...qg("script",o.priority)],toString:()=>`${es("meta",a.priority,n)} ${es("link",i.priority,n)} ${es("script",o.priority,n)}`},metaTags:a.default,linkTags:i.default,scriptTags:o.default}},AG=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:h,scriptTags:f}=e,m={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:m,linkTags:d,metaTags:h,scriptTags:f}=PG(e)),{priority:m,base:es("base",t,n),bodyAttributes:es("bodyAttributes",r,n),htmlAttributes:es("htmlAttributes",a,n),link:es("link",d,n),meta:es("meta",h,n),noscript:es("noscript",i,n),script:es("script",f,n),style:es("style",o,n),title:es("title",{title:l,titleAttributes:c},n)}},m1=AG,Yp=[],l6=!!(typeof window<"u"&&window.document&&window.document.createElement),p1=class{constructor(e,t){Ta(this,"instances",[]);Ta(this,"canUseDOM",l6);Ta(this,"context");Ta(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Yp:this.instances,add:e=>{(this.canUseDOM?Yp:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Yp:this.instances).indexOf(e);(this.canUseDOM?Yp:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=m1({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},EG={},c6=O.createContext(EG),Sl,u6=(Sl=class extends x.Component{constructor(r){super(r);Ta(this,"helmetData");this.helmetData=new p1(this.props.context||{},Sl.canUseDOM)}render(){return O.createElement(c6.Provider,{value:this.helmetData.value},this.props.children)}},Ta(Sl,"canUseDOM",l6),Sl),yc=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${Rs}]`),a=[].slice.call(n),i=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,h=typeof l[d]>"u"?"":l[d];c.setAttribute(u,h)}c.setAttribute(Rs,"true"),a.some((u,d)=>(o=d,c.isEqualNode(u)))?a.splice(o,1):i.push(c)}),a.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),i.forEach(l=>r.appendChild(l)),{oldTags:a,newTags:i}},g1=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(Rs),a=n?n.split(","):[],i=[...a],o=Object.keys(t);for(const l of o){const c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),a.indexOf(l)===-1&&a.push(l);const u=i.indexOf(l);u!==-1&&i.splice(u,1)}for(let l=i.length-1;l>=0;l-=1)r.removeAttribute(i[l]);a.length===i.length?r.removeAttribute(Rs):r.getAttribute(Rs)!==o.join(",")&&r.setAttribute(Rs,o.join(","))},TG=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=a6(e)),g1("title",t)},PA=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:h,titleAttributes:f}=e;g1("body",n),g1("html",a),TG(h,f);const m={baseTag:yc("base",r),linkTags:yc("link",i),metaTags:yc("meta",o),noscriptTags:yc("noscript",l),scriptTags:yc("script",u),styleTags:yc("style",d)},g={},p={};Object.keys(m).forEach(y=>{const{newTags:b,oldTags:v}=m[y];b.length&&(g[y]=b),v.length&&(p[y]=m[y].oldTags)}),t&&t(),c(e,g,p)},hh=null,OG=e=>{hh&&cancelAnimationFrame(hh),e.defer?hh=requestAnimationFrame(()=>{PA(e,()=>{hh=null})}):(PA(e),hh=null)},MG=OG,AA=class extends x.Component{constructor(){super(...arguments);Ta(this,"rendered",!1)}shouldComponentUpdate(t){return!pG(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const a=jG(t.get().map(i=>{const o={...i.props};return delete o.context,o}));u6.canUseDOM?MG(a):m1&&(n=m1(a)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},sj,W2=(sj=class extends x.Component{shouldComponentUpdate(e){return!dG(CA(this.props,"helmetData"),CA(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return SA(kA.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${kA.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),SA(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return O.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...i}=n.props,o=Object.keys(i).reduce((c,u)=>(c[gG[u]||u]=i[u],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,a),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,a);break;default:t=this.mapObjectTypeChildren(n,t,o,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof p1)){const a=n;n=new p1(a.context,!0),delete r.helmetData}return n?O.createElement(AA,{...r,context:n.value}):O.createElement(c6.Consumer,null,a=>O.createElement(AA,{...r,context:a}))}},Ta(sj,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),sj);function d6(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=d6(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ve(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=d6(e))&&(n&&(n+=" "),n+=t);return n}const H2="-",RG=e=>{const t=$G(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(H2);return l[0]===""&&l.length!==1&&l.shift(),h6(l,t)||DG(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},h6=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?h6(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(H2);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},EA=/^\[(.+)\]$/,DG=e=>{if(EA.test(e)){const t=EA.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},$G=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return LG(Object.entries(e.classGroups),r).forEach(([i,o])=>{x1(o,n,i,t)}),n},x1=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:TA(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(IG(a)){x1(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{x1(o,TA(t,i),r,n)})})},TA=(e,t)=>{let r=e;return t.split(H2).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},IG=e=>e.isThemeGetter,LG=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,FG=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},f6="!",BG=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let y=0;y<l.length;y++){let b=l[y];if(u===0){if(b===a&&(n||l.slice(y,y+i)===t)){c.push(l.slice(d,y)),d=y+i;continue}if(b==="/"){h=y;continue}}b==="["?u++:b==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(f6),g=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},UG=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},zG=e=>({cache:FG(e.cacheSize),parseClassName:BG(e),...RG(e)}),VG=/\s+/,qG=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(VG);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?f.substring(0,m):f);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(f),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=UG(d).join(":"),b=h?y+f6:y,v=b+p;if(i.includes(v))continue;i.push(v);const w=a(p,g);for(let j=0;j<w.length;++j){const N=w[j];i.push(b+N)}l=u+(l.length>0?" "+l:l)}return l};function WG(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=m6(t))&&(n&&(n+=" "),n+=r);return n}const m6=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=m6(e[n]))&&(r&&(r+=" "),r+=t);return r};function HG(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=zG(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=qG(c,r);return a(c,d),d}return function(){return i(WG.apply(null,arguments))}}const Tt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},p6=/^\[(?:([a-z-]+):)?(.+)\]$/i,KG=/^\d+\/\d+$/,GG=new Set(["px","full","screen"]),YG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oa=e=>cu(e)||GG.has(e)||KG.test(e),Ni=e=>Pd(e,"length",oY),cu=e=>!!e&&!Number.isNaN(Number(e)),zb=e=>Pd(e,"number",cu),fh=e=>!!e&&Number.isInteger(Number(e)),eY=e=>e.endsWith("%")&&cu(e.slice(0,-1)),qe=e=>p6.test(e),_i=e=>YG.test(e),tY=new Set(["length","size","percentage"]),rY=e=>Pd(e,tY,g6),nY=e=>Pd(e,"position",g6),sY=new Set(["image","url"]),aY=e=>Pd(e,sY,cY),iY=e=>Pd(e,"",lY),mh=()=>!0,Pd=(e,t,r)=>{const n=p6.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},oY=e=>XG.test(e)&&!QG.test(e),g6=()=>!1,lY=e=>JG.test(e),cY=e=>ZG.test(e),uY=()=>{const e=Tt("colors"),t=Tt("spacing"),r=Tt("blur"),n=Tt("brightness"),a=Tt("borderColor"),i=Tt("borderRadius"),o=Tt("borderSpacing"),l=Tt("borderWidth"),c=Tt("contrast"),u=Tt("grayscale"),d=Tt("hueRotate"),h=Tt("invert"),f=Tt("gap"),m=Tt("gradientColorStops"),g=Tt("gradientColorStopPositions"),p=Tt("inset"),y=Tt("margin"),b=Tt("opacity"),v=Tt("padding"),w=Tt("saturate"),j=Tt("scale"),N=Tt("sepia"),S=Tt("skew"),_=Tt("space"),k=Tt("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",qe,t],T=()=>[qe,t],F=()=>["",Oa,Ni],D=()=>["auto",cu,qe],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",qe],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[cu,qe];return{cacheSize:500,separator:":",theme:{colors:[mh],spacing:[Oa,Ni],blur:["none","",_i,qe],brightness:se(),borderColor:[e],borderRadius:["none","","full",_i,qe],borderSpacing:T(),borderWidth:F(),contrast:se(),grayscale:V(),hueRotate:se(),invert:V(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[eY,Ni],inset:E(),margin:E(),opacity:se(),padding:T(),saturate:se(),scale:se(),sepia:V(),skew:se(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[_i]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),qe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fh,qe]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",fh,qe]}],"grid-cols":[{"grid-cols":[mh]}],"col-start-end":[{col:["auto",{span:["full",fh,qe]},qe]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[mh]}],"row-start-end":[{row:["auto",{span:[fh,qe]},qe]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,t]}],"min-w":[{"min-w":[qe,t,"min","max","fit"]}],"max-w":[{"max-w":[qe,t,"none","full","min","max","fit","prose",{screen:[_i]},_i]}],h:[{h:[qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",_i,Ni]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zb]}],"font-family":[{font:[mh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",cu,zb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oa,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oa,Ni]}],"underline-offset":[{"underline-offset":["auto",Oa,qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),nY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aY]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Oa,qe]}],"outline-w":[{outline:[Oa,Ni]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Oa,Ni]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_i,iY]}],"shadow-color":[{shadow:[mh]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",_i,qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[fh,qe]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Oa,Ni,zb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dY=HG(uY);function ne(...e){return dY(Ve(e))}const K2=x.createContext({});function G2(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const Y2=typeof window<"u",x6=Y2?x.useLayoutEffect:x.useEffect,_y=x.createContext(null);function X2(e,t){e.indexOf(t)===-1&&e.push(t)}function Q2(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const si=(e,t,r)=>r>t?t:r<e?e:r;let Rx=()=>{};const ai={},v6=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function y6(e){return typeof e=="object"&&e!==null}const b6=e=>/^0[^.\s]+$/u.test(e);function J2(e){let t;return()=>(t===void 0&&(t=e()),t)}const cs=e=>e,hY=(e,t)=>r=>t(e(r)),Vm=(...e)=>e.reduce(hY),Lf=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Z2{constructor(){this.subscriptions=[]}add(t){return X2(this.subscriptions,t),()=>Q2(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ha=e=>e*1e3,fa=e=>e/1e3;function w6(e,t){return t?e*(1e3/t):0}const j6=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,fY=1e-7,mY=12;function pY(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=j6(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>fY&&++l<mY);return o}function qm(e,t,r,n){if(e===t&&r===n)return cs;const a=i=>pY(i,0,1,e,r);return i=>i===0||i===1?i:j6(a(i),t,n)}const N6=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_6=e=>t=>1-e(1-t),S6=qm(.33,1.53,.69,.99),eS=_6(S6),k6=N6(eS),C6=e=>(e*=2)<1?.5*eS(e):.5*(2-Math.pow(2,-10*(e-1))),tS=e=>1-Math.sin(Math.acos(e)),P6=_6(tS),A6=N6(tS),gY=qm(.42,0,1,1),xY=qm(0,0,.58,1),E6=qm(.42,0,.58,1),vY=e=>Array.isArray(e)&&typeof e[0]!="number",T6=e=>Array.isArray(e)&&typeof e[0]=="number",OA={linear:cs,easeIn:gY,easeInOut:E6,easeOut:xY,circIn:tS,circInOut:A6,circOut:P6,backIn:eS,backInOut:k6,backOut:S6,anticipate:C6},yY=e=>typeof e=="string",MA=e=>{if(T6(e)){Rx(e.length===4);const[t,r,n,a]=e;return qm(t,r,n,a)}else if(yY(e))return Rx(OA[e]!==void 0),OA[e];return e},Xp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],RA={value:null,addProjectionMetrics:null};function bY(e,t){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),e()),c++,h(l)}const d={schedule:(h,f=!1,m=!1)=>{const p=m&&a?r:n;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(l=h,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(u),t&&RA.value&&RA.value.frameloop[t].push(c),c=0,r.clear(),a=!1,i&&(i=!1,d.process(h))}};return d}const wY=40;function O6(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Xp.reduce((w,j)=>(w[j]=bY(i,t?j:void 0),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:g}=o,p=()=>{const w=ai.useManualTiming?a.timestamp:performance.now();r=!1,ai.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,wY),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),h.process(a),f.process(a),m.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(p))},y=()=>{r=!0,n=!0,a.isProcessing||e(p)};return{schedule:Xp.reduce((w,j)=>{const N=o[j];return w[j]=(S,_=!1,k=!1)=>(r||y(),N.schedule(S,_,k)),w},{}),cancel:w=>{for(let j=0;j<Xp.length;j++)o[Xp[j]].cancel(w)},state:a,steps:o}}const{schedule:qt,cancel:go,state:Ir,steps:Vb}=O6(typeof requestAnimationFrame<"u"?requestAnimationFrame:cs,!0);let Wg;function jY(){Wg=void 0}const Nn={now:()=>(Wg===void 0&&Nn.set(Ir.isProcessing||ai.useManualTiming?Ir.timestamp:performance.now()),Wg),set:e=>{Wg=e,queueMicrotask(jY)}},M6=e=>t=>typeof t=="string"&&t.startsWith(e),rS=M6("--"),NY=M6("var(--"),nS=e=>NY(e)?_Y.test(e.split("/*")[0].trim()):!1,_Y=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ad={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ff={...Ad,transform:e=>si(0,1,e)},Qp={...Ad,default:1},Jh=e=>Math.round(e*1e5)/1e5,sS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SY(e){return e==null}const kY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,aS=(e,t)=>r=>!!(typeof r=="string"&&kY.test(r)&&r.startsWith(e)||t&&!SY(r)&&Object.prototype.hasOwnProperty.call(r,t)),R6=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(sS);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},CY=e=>si(0,255,e),qb={...Ad,transform:e=>Math.round(CY(e))},ul={test:aS("rgb","red"),parse:R6("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+qb.transform(e)+", "+qb.transform(t)+", "+qb.transform(r)+", "+Jh(Ff.transform(n))+")"};function PY(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const v1={test:aS("#"),parse:PY,transform:ul.transform},Wm=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Pi=Wm("deg"),ma=Wm("%"),$e=Wm("px"),AY=Wm("vh"),EY=Wm("vw"),DA={...ma,parse:e=>ma.parse(e)/100,transform:e=>ma.transform(e*100)},Wc={test:aS("hsl","hue"),parse:R6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ma.transform(Jh(t))+", "+ma.transform(Jh(r))+", "+Jh(Ff.transform(n))+")"},Hr={test:e=>ul.test(e)||v1.test(e)||Wc.test(e),parse:e=>ul.test(e)?ul.parse(e):Wc.test(e)?Wc.parse(e):v1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ul.transform(e):Wc.transform(e)},TY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OY(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(sS))==null?void 0:t.length)||0)+(((r=e.match(TY))==null?void 0:r.length)||0)>0}const D6="number",$6="color",MY="var",RY="var(",$A="${}",DY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bf(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(DY,c=>(Hr.test(c)?(n.color.push(i),a.push($6),r.push(Hr.parse(c))):c.startsWith(RY)?(n.var.push(i),a.push(MY),r.push(c)):(n.number.push(i),a.push(D6),r.push(parseFloat(c))),++i,$A)).split($A);return{values:r,split:l,indexes:n,types:a}}function I6(e){return Bf(e).values}function L6(e){const{split:t,types:r}=Bf(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===D6?i+=Jh(a[o]):l===$6?i+=Hr.transform(a[o]):i+=a[o]}return i}}const $Y=e=>typeof e=="number"?0:e;function IY(e){const t=I6(e);return L6(e)(t.map($Y))}const xo={test:OY,parse:I6,createTransformer:L6,getAnimatableNone:IY};function Wb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function LY({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=Wb(c,l,e+1/3),i=Wb(c,l,e),o=Wb(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Dx(e,t){return r=>r>0?t:e}const zt=(e,t,r)=>e+(t-e)*r,Hb=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},FY=[v1,ul,Wc],BY=e=>FY.find(t=>t.test(e));function IA(e){const t=BY(e);if(!t)return!1;let r=t.parse(e);return t===Wc&&(r=LY(r)),r}const LA=(e,t)=>{const r=IA(e),n=IA(t);if(!r||!n)return Dx(e,t);const a={...r};return i=>(a.red=Hb(r.red,n.red,i),a.green=Hb(r.green,n.green,i),a.blue=Hb(r.blue,n.blue,i),a.alpha=zt(r.alpha,n.alpha,i),ul.transform(a))},y1=new Set(["none","hidden"]);function UY(e,t){return y1.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function zY(e,t){return r=>zt(e,t,r)}function iS(e){return typeof e=="number"?zY:typeof e=="string"?nS(e)?Dx:Hr.test(e)?LA:WY:Array.isArray(e)?F6:typeof e=="object"?Hr.test(e)?LA:VY:Dx}function F6(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>iS(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function VY(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=iS(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function qY(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][n[i]],l=e.values[o]??0;r[a]=l,n[i]++}return r}const WY=(e,t)=>{const r=xo.createTransformer(t),n=Bf(e),a=Bf(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?y1.has(e)&&!a.values.length||y1.has(t)&&!n.values.length?UY(e,t):Vm(F6(qY(n,a),a.values),r):Dx(e,t)};function B6(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?zt(e,t,r):iS(e)(e,t)}const HY=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>qt.update(t,r),stop:()=>go(t),now:()=>Ir.isProcessing?Ir.timestamp:Nn.now()}},U6=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},$x=2e4;function oS(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<$x;)t+=r,n=e.next(t);return t>=$x?1/0:t}function KY(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(oS(n),$x);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:fa(a)}}const GY=5;function z6(e,t,r){const n=Math.max(t-GY,0);return w6(r-e(n),t-n)}const Qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kb=.001;function YY({duration:e=Qt.duration,bounce:t=Qt.bounce,velocity:r=Qt.velocity,mass:n=Qt.mass}){let a,i,o=1-t;o=si(Qt.minDamping,Qt.maxDamping,o),e=si(Qt.minDuration,Qt.maxDuration,fa(e)),o<1?(a=u=>{const d=u*o,h=d*e,f=d-r,m=b1(u,o),g=Math.exp(-h);return Kb-f/m*g},i=u=>{const h=u*o*e,f=h*r+r,m=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-h),p=b1(Math.pow(u,2),o);return(-a(u)+Kb>0?-1:1)*((f-m)*g)/p}):(a=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-Kb+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const l=5/e,c=QY(a,i,l);if(e=ha(e),isNaN(c))return{stiffness:Qt.stiffness,damping:Qt.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const XY=12;function QY(e,t,r){let n=r;for(let a=1;a<XY;a++)n=n-e(n)/t(n);return n}function b1(e,t){return e*Math.sqrt(1-t*t)}const JY=["duration","bounce"],ZY=["stiffness","damping","mass"];function FA(e,t){return t.some(r=>e[r]!==void 0)}function eX(e){let t={velocity:Qt.velocity,stiffness:Qt.stiffness,damping:Qt.damping,mass:Qt.mass,isResolvedFromDuration:!1,...e};if(!FA(e,ZY)&&FA(e,JY))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*si(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Qt.mass,stiffness:a,damping:i}}else{const r=YY(e);t={...t,...r,mass:Qt.mass},t.isResolvedFromDuration=!0}return t}function Ix(e=Qt.visualDuration,t=Qt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=eX({...r,velocity:-fa(r.velocity||0)}),g=f||0,p=u/(2*Math.sqrt(c*d)),y=o-i,b=fa(Math.sqrt(c/d)),v=Math.abs(y)<5;n||(n=v?Qt.restSpeed.granular:Qt.restSpeed.default),a||(a=v?Qt.restDelta.granular:Qt.restDelta.default);let w;if(p<1){const N=b1(b,p);w=S=>{const _=Math.exp(-p*b*S);return o-_*((g+p*b*y)/N*Math.sin(N*S)+y*Math.cos(N*S))}}else if(p===1)w=N=>o-Math.exp(-b*N)*(y+(g+b*y)*N);else{const N=b*Math.sqrt(p*p-1);w=S=>{const _=Math.exp(-p*b*S),k=Math.min(N*S,300);return o-_*((g+p*b*y)*Math.sinh(k)+N*y*Math.cosh(k))/N}}const j={calculatedDuration:m&&h||null,next:N=>{const S=w(N);if(m)l.done=N>=h;else{let _=N===0?g:0;p<1&&(_=N===0?ha(g):z6(w,N,S));const k=Math.abs(_)<=n,C=Math.abs(o-S)<=a;l.done=k&&C}return l.value=l.done?o:S,l},toString:()=>{const N=Math.min(oS(j),$x),S=U6(_=>j.next(N*_).value,N,30);return N+"ms "+S},toTransition:()=>{}};return j}Ix.applyToOptions=e=>{const t=KY(e,100,Ix);return e.ease=t.ease,e.duration=ha(t.duration),e.type="keyframes",e};function w1({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=k=>l!==void 0&&k<l||c!==void 0&&k>c,g=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let p=r*t;const y=h+p,b=o===void 0?y:o(y);b!==y&&(p=b-h);const v=k=>-p*Math.exp(-k/n),w=k=>b+v(k),j=k=>{const C=v(k),P=w(k);f.done=Math.abs(C)<=u,f.value=f.done?b:P};let N,S;const _=k=>{m(f.value)&&(N=k,S=Ix({keyframes:[f.value,g(f.value)],velocity:z6(w,k,f.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:k=>{let C=!1;return!S&&N===void 0&&(C=!0,j(k),_(k)),N!==void 0&&k>=N?S.next(k-N):(!C&&j(k),f)}}}function tX(e,t,r){const n=[],a=r||ai.mix||B6,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||cs:t;l=Vm(c,l)}n.push(l)}return n}function rX(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(Rx(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=tX(t,n,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Lf(e[h],e[h+1],d);return l[h](f)};return r?d=>u(si(e[0],e[i-1],d)):u}function nX(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Lf(0,t,n);e.push(zt(r,1,a))}}function sX(e){const t=[0];return nX(t,e.length-1),t}function aX(e,t){return e.map(r=>r*t)}function iX(e,t){return e.map(()=>t||E6).splice(0,e.length-1)}function Zh({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=vY(n)?n.map(MA):MA(n),i={done:!1,value:t[0]},o=aX(r&&r.length===t.length?r:sX(t),e),l=rX(o,t,{ease:Array.isArray(a)?a:iX(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const oX=e=>e!==null;function lS(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(oX),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const lX={decay:w1,inertia:w1,tween:Zh,keyframes:Zh,spring:Ix};function V6(e){typeof e.type=="string"&&(e.type=lX[e.type])}class cS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const cX=e=>e/100;class uS extends cS{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;V6(t);const{type:r=Zh,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||Zh;c!==Zh&&typeof l[0]!="number"&&(this.mixKeyframes=Vm(cX,B6(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=oS(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:g,onUpdate:p,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?b<0:b>a;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,j=n;if(h){const k=Math.min(this.currentTime,a)/l;let C=Math.floor(k),P=k%1;!P&&k>=1&&(P=1),P===1&&C--,C=Math.min(C,h+1),!!(C%2)&&(f==="reverse"?(P=1-P,m&&(P-=m/l)):f==="mirror"&&(j=o)),w=si(0,1,P)*l}const N=v?{done:!1,value:d[0]}:j.next(w);i&&(N.value=i(N.value));let{done:S}=N;!v&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return _&&g!==w1&&(N.value=lS(d,this.options,y,this.speed)),p&&p(N.value),_&&this.finish(),N}then(t,r){return this.finished.then(t,r)}get duration(){return fa(this.calculatedDuration)}get time(){return fa(this.currentTime)}set time(t){var r;t=ha(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Nn.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=fa(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=HY,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function uX(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const dl=e=>e*180/Math.PI,j1=e=>{const t=dl(Math.atan2(e[1],e[0]));return N1(t)},dX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:j1,rotateZ:j1,skewX:e=>dl(Math.atan(e[1])),skewY:e=>dl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},N1=e=>(e=e%360,e<0&&(e+=360),e),BA=j1,UA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),zA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),hX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:UA,scaleY:zA,scale:e=>(UA(e)+zA(e))/2,rotateX:e=>N1(dl(Math.atan2(e[6],e[5]))),rotateY:e=>N1(dl(Math.atan2(-e[2],e[0]))),rotateZ:BA,rotate:BA,skewX:e=>dl(Math.atan(e[4])),skewY:e=>dl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function _1(e){return e.includes("scale")?1:0}function S1(e,t){if(!e||e==="none")return _1(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=hX,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=dX,a=l}if(!a)return _1(t);const i=n[t],o=a[1].split(",").map(mX);return typeof i=="function"?i(o):o[i]}const fX=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return S1(r,t)};function mX(e){return parseFloat(e.trim())}const Ed=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Td=new Set(Ed),VA=e=>e===Ad||e===$e,pX=new Set(["x","y","z"]),gX=Ed.filter(e=>!pX.has(e));function xX(e){const t=[];return gX.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Pl={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>S1(t,"x"),y:(e,{transform:t})=>S1(t,"y")};Pl.translateX=Pl.x;Pl.translateY=Pl.y;const Al=new Set;let k1=!1,C1=!1,P1=!1;function q6(){if(C1){const e=Array.from(Al).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=xX(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}C1=!1,k1=!1,Al.forEach(e=>e.complete(P1)),Al.clear()}function W6(){Al.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(C1=!0)})}function vX(){P1=!0,W6(),q6(),P1=!1}class dS{constructor(t,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Al.add(this),k1||(k1=!0,qt.read(W6),qt.resolveKeyframes(q6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}uX(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Al.delete(this)}cancel(){this.state==="scheduled"&&(Al.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yX=e=>e.startsWith("--");function bX(e,t,r){yX(t)?e.style.setProperty(t,r):e.style[t]=r}const wX=J2(()=>window.ScrollTimeline!==void 0),jX={};function NX(e,t){const r=J2(e);return()=>jX[t]??r()}const H6=NX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$h=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,qA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$h([0,.65,.55,1]),circOut:$h([.55,0,1,.45]),backIn:$h([.31,.01,.66,-.59]),backOut:$h([.33,1.53,.69,.99])};function K6(e,t){if(e)return typeof e=="function"?H6()?U6(e,t):"ease-out":T6(e)?$h(e):Array.isArray(e)?e.map(r=>K6(r,t)||qA.easeOut):qA[e]}function _X(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const h=K6(l,a);Array.isArray(h)&&(d.easing=h);const f={delay:n,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function G6(e){return typeof e=="function"&&"applyToOptions"in e}function SX({type:e,...t}){return G6(e)&&H6()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class kX extends cS{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Rx(typeof t.type!="string");const u=SX(t);this.animation=_X(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=lS(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):bX(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return fa(Number(t))}get time(){return fa(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ha(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&wX()?(this.animation.timeline=t,cs):r(this)}}const Y6={anticipate:C6,backInOut:k6,circInOut:A6};function CX(e){return e in Y6}function PX(e){typeof e.ease=="string"&&CX(e.ease)&&(e.ease=Y6[e.ease])}const WA=10;class AX extends kX{constructor(t){PX(t),V6(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new uS({...o,autoplay:!1}),c=ha(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-WA).value,l.sample(c).value,WA),l.stop()}}const HA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xo.test(e)||e==="0")&&!e.startsWith("url("));function EX(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function TX(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=HA(a,t),l=HA(i,t);return!o||!l?!1:EX(e)||(r==="spring"||G6(r))&&n}function hS(e){return y6(e)&&"offsetHeight"in e}const OX=new Set(["opacity","clipPath","filter","transform"]),MX=J2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function RX(e){var u;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=e;if(!hS((u=t==null?void 0:t.owner)==null?void 0:u.current))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return MX()&&r&&OX.has(r)&&(r!=="transform"||!c)&&!l&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const DX=40;class $X extends cS{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var g;super(),this.stop=()=>{var p,y;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Nn.now();const f={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||dS;this.keyframeResolver=new m(l,(p,y,b)=>this.onKeyframesResolved(p,y,f,!b),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Nn.now(),TX(t,i,o,l)||((ai.instantAnimations||!c)&&(d==null||d(lS(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const f={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>DX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&RX(f)?new AX({...f,element:f.motionValue.owner.current}):new uS(f);m.finished.then(()=>this.notifyFinished()).catch(cs),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),vX()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const IX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LX(e){const t=IX.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function X6(e,t,r=1){const[n,a]=LX(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return v6(o)?parseFloat(o):o}return nS(a)?X6(a,t,r+1):a}function fS(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Q6=new Set(["width","height","top","left","right","bottom",...Ed]),FX={test:e=>e==="auto",parse:e=>e},J6=e=>t=>t.test(e),Z6=[Ad,$e,ma,Pi,EY,AY,FX],KA=e=>Z6.find(J6(e));function BX(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||b6(e):!0}const UX=new Set(["brightness","contrast","saturate","opacity"]);function zX(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(sS)||[];if(!n)return e;const a=r.replace(n,"");let i=UX.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const VX=/\b([a-z-]*)\(.*?\)/gu,A1={...xo,getAnimatableNone:e=>{const t=e.match(VX);return t?t.map(zX).join(" "):e}},GA={...Ad,transform:Math.round},qX={rotate:Pi,rotateX:Pi,rotateY:Pi,rotateZ:Pi,scale:Qp,scaleX:Qp,scaleY:Qp,scaleZ:Qp,skew:Pi,skewX:Pi,skewY:Pi,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:Ff,originX:DA,originY:DA,originZ:$e},mS={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e,...qX,zIndex:GA,fillOpacity:Ff,strokeOpacity:Ff,numOctaves:GA},WX={...mS,color:Hr,backgroundColor:Hr,outlineColor:Hr,fill:Hr,stroke:Hr,borderColor:Hr,borderTopColor:Hr,borderRightColor:Hr,borderBottomColor:Hr,borderLeftColor:Hr,filter:A1,WebkitFilter:A1},e$=e=>WX[e];function t$(e,t){let r=e$(e);return r!==A1&&(r=xo),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const HX=new Set(["auto","none","0"]);function KX(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!HX.has(i)&&Bf(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=t$(r,a)}class GX extends dS{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),nS(u))){const d=X6(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Q6.has(n)||t.length!==2)return;const[a,i]=t,o=KA(a),l=KA(i);if(o!==l)if(VA(o)&&VA(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Pl[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||BX(t[a]))&&n.push(a);n.length&&KX(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Pl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function YX(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const a=document.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const r$=(e,t)=>t&&typeof e=="number"?t.transform(e):e,YA=30,XX=e=>!isNaN(parseFloat(e));class QX{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var o,l;const i=Nn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();a&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=XX(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Z2);const n=this.events[t].add(r);return t==="change"?()=>{n(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>YA)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,YA);return w6(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uu(e,t){return new QX(e,t)}const{schedule:pS,cancel:n8e}=O6(queueMicrotask,!1),js={x:!1,y:!1};function n$(){return js.x||js.y}function JX(e){return e==="x"||e==="y"?js[e]?null:(js[e]=!0,()=>{js[e]=!1}):js.x||js.y?null:(js.x=js.y=!0,()=>{js.x=js.y=!1})}function s$(e,t){const r=YX(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function XA(e){return!(e.pointerType==="touch"||n$())}function ZX(e,t,r={}){const[n,a,i]=s$(e,r),o=l=>{if(!XA(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{XA(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const a$=(e,t)=>t?e===t?!0:a$(e,t.parentElement):!1,gS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,eQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tQ(e){return eQ.has(e.tagName)||e.tabIndex!==-1}const Hg=new WeakSet;function QA(e){return t=>{t.key==="Enter"&&e(t)}}function Gb(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const rQ=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=QA(()=>{if(Hg.has(r))return;Gb(r,"down");const a=QA(()=>{Gb(r,"up")}),i=()=>Gb(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function JA(e){return gS(e)&&!n$()}function nQ(e,t,r={}){const[n,a,i]=s$(e,r),o=l=>{const c=l.currentTarget;if(!JA(l))return;Hg.add(c);const u=t(c,l),d=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Hg.has(c)&&Hg.delete(c),JA(m)&&typeof u=="function"&&u(m,{success:g})},h=m=>{d(m,c===window||c===document||r.useGlobalTarget||a$(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",f,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),hS(l)&&(l.addEventListener("focus",u=>rQ(u,a)),!tQ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function i$(e){return y6(e)&&"ownerSVGElement"in e}function sQ(e){return i$(e)&&e.tagName==="svg"}const Qr=e=>!!(e&&e.getVelocity),aQ=[...Z6,Hr,xo],iQ=e=>aQ.find(J6(e)),xS=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class oQ extends x.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=hS(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lQ({children:e,isPresent:t,anchorX:r}){const n=x.useId(),a=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=x.useContext(xS);return x.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:h}=i.current;if(t||!a.current||!l||!c)return;const f=r==="left"?`left: ${d}`:`right: ${h}`;a.current.dataset.motionPopId=n;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[t]),s.jsx(oQ,{isPresent:t,childRef:a,sizeRef:i,children:x.cloneElement(e,{ref:a})})}const cQ=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l})=>{const c=G2(uQ),u=x.useId();let d=!0,h=x.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:r,custom:a,onExitComplete:f=>{c.set(f,!0);for(const m of c.values())if(!m)return;n&&n()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[r,c,n]);return i&&d&&(h={...h}),x.useMemo(()=>{c.forEach((f,m)=>c.set(m,!1))},[r]),x.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(lQ,{isPresent:r,anchorX:l,children:e})),s.jsx(_y.Provider,{value:h,children:e})};function uQ(){return new Map}function o$(e=!0){const t=x.useContext(_y);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=x.useId();x.useEffect(()=>{if(e)return a(i)},[e]);const o=x.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const Jp=e=>e.key||"";function ZA(e){const t=[];return x.Children.forEach(e,r=>{x.isValidElement(r)&&t.push(r)}),t}const zs=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,u]=o$(o),d=x.useMemo(()=>ZA(e),[e]),h=o&&!c?[]:d.map(Jp),f=x.useRef(!0),m=x.useRef(d),g=G2(()=>new Map),[p,y]=x.useState(d),[b,v]=x.useState(d);x6(()=>{f.current=!1,m.current=d;for(let N=0;N<b.length;N++){const S=Jp(b[N]);h.includes(S)?g.delete(S):g.get(S)!==!0&&g.set(S,!1)}},[b,h.length,h.join("-")]);const w=[];if(d!==p){let N=[...d];for(let S=0;S<b.length;S++){const _=b[S],k=Jp(_);h.includes(k)||(N.splice(S,0,_),w.push(_))}return i==="wait"&&w.length&&(N=w),v(ZA(N)),y(d),null}const{forceRender:j}=x.useContext(K2);return s.jsx(s.Fragment,{children:b.map(N=>{const S=Jp(N),_=o&&!c?!1:d===b||h.includes(S),k=()=>{if(g.has(S))g.set(S,!0);else return;let C=!0;g.forEach(P=>{P||(C=!1)}),C&&(j==null||j(),v(m.current),o&&(u==null||u()),n&&n())};return s.jsx(cQ,{isPresent:_,initial:!f.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:_?void 0:k,anchorX:l,children:N},S)})})},l$=x.createContext({strict:!1}),eE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zu={};for(const e in eE)zu[e]={isEnabled:t=>eE[e].some(r=>!!t[r])};function dQ(e){for(const t in e)zu[t]={...zu[t],...e[t]}}const hQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hQ.has(e)}let c$=e=>!Lx(e);function fQ(e){e&&(c$=t=>t.startsWith("on")?!Lx(t):e(t))}try{fQ(require("@emotion/is-prop-valid").default)}catch{}function mQ(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(c$(a)||r===!0&&Lx(a)||!t&&!Lx(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function pQ(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Sy=x.createContext({});function ky(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Uf(e){return typeof e=="string"||Array.isArray(e)}const vS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yS=["initial",...vS];function Cy(e){return ky(e.animate)||yS.some(t=>Uf(e[t]))}function u$(e){return!!(Cy(e)||e.variants)}function gQ(e,t){if(Cy(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Uf(r)?r:void 0,animate:Uf(n)?n:void 0}}return e.inherit!==!1?t:{}}function xQ(e){const{initial:t,animate:r}=gQ(e,x.useContext(Sy));return x.useMemo(()=>({initial:t,animate:r}),[tE(t),tE(r)])}function tE(e){return Array.isArray(e)?e.join(" "):e}const vQ=Symbol.for("motionComponentSymbol");function Hc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function yQ(e,t,r){return x.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Hc(r)&&(r.current=n))},[t])}const bS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bQ="framerAppearId",d$="data-"+bS(bQ),h$=x.createContext({});function wQ(e,t,r,n,a){var p,y;const{visualElement:i}=x.useContext(Sy),o=x.useContext(l$),l=x.useContext(_y),c=x.useContext(xS).reducedMotion,u=x.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=x.useContext(h$);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&jQ(u.current,r,a,h);const f=x.useRef(!1);x.useInsertionEffect(()=>{d&&f.current&&d.update(r,l)});const m=r[d$],g=x.useRef(!!m&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,m))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,m)));return x6(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),pS.render(d.render),g.current&&d.animationState&&d.animationState.animateChanges())}),x.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,m)}),g.current=!1))}),d}function jQ(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:f$(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Hc(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function f$(e){if(e)return e.options.allowProjection!==!1?e.projection:f$(e.parent)}function NQ({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&dQ(e);function i(l,c){let u;const d={...x.useContext(xS),...l,layoutId:_Q(l)},{isStatic:h}=d,f=xQ(l),m=n(l,h);if(!h&&Y2){SQ();const g=kQ(d);u=g.MeasureLayout,f.visualElement=wQ(a,m,d,t,g.ProjectionNode)}return s.jsxs(Sy.Provider,{value:f,children:[u&&f.visualElement?s.jsx(u,{visualElement:f.visualElement,...d}):null,r(a,l,yQ(m,f.visualElement,c),m,h,f.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const o=x.forwardRef(i);return o[vQ]=a,o}function _Q({layoutId:e}){const t=x.useContext(K2).id;return t&&e!==void 0?t+"-"+e:e}function SQ(e,t){x.useContext(l$).strict}function kQ(e){const{drag:t,layout:r}=zu;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const zf={};function CQ(e){for(const t in e)zf[t]=e[t],rS(t)&&(zf[t].isCSSVariable=!0)}function m$(e,{layout:t,layoutId:r}){return Td.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!zf[e]||e==="opacity")}const PQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AQ=Ed.length;function EQ(e,t,r){let n="",a=!0;for(let i=0;i<AQ;i++){const o=Ed[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=r$(l,mS[o]);if(!c){a=!1;const d=PQ[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function wS(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Td.has(c)){o=!0;continue}else if(rS(c)){a[c]=u;continue}else{const d=r$(u,mS[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=EQ(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const jS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function p$(e,t,r){for(const n in t)!Qr(t[n])&&!m$(n,r)&&(e[n]=t[n])}function TQ({transformTemplate:e},t){return x.useMemo(()=>{const r=jS();return wS(r,t,e),Object.assign({},r.vars,r.style)},[t])}function OQ(e,t){const r=e.style||{},n={};return p$(n,r,e),Object.assign(n,TQ(e,t)),n}function MQ(e,t){const r={},n=OQ(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const RQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},DQ={offset:"strokeDashoffset",array:"strokeDasharray"};function $Q(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?RQ:DQ;e[i.offset]=$e.transform(-n);const o=$e.transform(t),l=$e.transform(r);e[i.array]=`${o} ${l}`}function g$(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(wS(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),a!==void 0&&$Q(h,a,i,o,!1)}const x$=()=>({...jS(),attrs:{}}),v$=e=>typeof e=="string"&&e.toLowerCase()==="svg";function IQ(e,t,r,n){const a=x.useMemo(()=>{const i=x$();return g$(i,t,v$(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};p$(i,e.style,e),a.style={...i,...a.style}}return a}const LQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NS(e){return typeof e!="string"||e.includes("-")?!1:!!(LQ.indexOf(e)>-1||/[A-Z]/u.test(e))}function FQ(e=!1){return(r,n,a,{latestValues:i},o)=>{const c=(NS(r)?IQ:MQ)(n,i,o,r),u=mQ(n,typeof r=="string",e),d=r!==x.Fragment?{...u,...c,ref:a}:{},{children:h}=n,f=x.useMemo(()=>Qr(h)?h.get():h,[h]);return x.createElement(r,{...d,children:f})}}function rE(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function _S(e,t,r,n){if(typeof t=="function"){const[a,i]=rE(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=rE(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function Kg(e){return Qr(e)?e.get():e}function BQ({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:UQ(r,n,a,e),renderState:t()}}const y$=e=>(t,r)=>{const n=x.useContext(Sy),a=x.useContext(_y),i=()=>BQ(e,t,n,a);return r?i():G2(i)};function UQ(e,t,r,n){const a={},i=n(e,{});for(const f in i)a[f]=Kg(i[f]);let{initial:o,animate:l}=e;const c=Cy(e),u=u$(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!ky(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const g=_S(e,f[m]);if(g){const{transitionEnd:p,transition:y,...b}=g;for(const v in b){let w=b[v];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(a[v]=w)}for(const v in p)a[v]=p[v]}}}return a}function SS(e,t,r){var i;const{style:n}=e,a={};for(const o in n)(Qr(n[o])||t.style&&Qr(t.style[o])||m$(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const zQ={useVisualState:y$({scrapeMotionValuesFromProps:SS,createRenderState:jS})};function b$(e,t,r){const n=SS(e,t,r);for(const a in e)if(Qr(e[a])||Qr(t[a])){const i=Ed.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const VQ={useVisualState:y$({scrapeMotionValuesFromProps:b$,createRenderState:x$})};function qQ(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...NS(n)?VQ:zQ,preloadedFeatures:e,useRender:FQ(a),createVisualElement:t,Component:n};return NQ(o)}}function Vf(e,t,r){const n=e.getProps();return _S(n,t,r!==void 0?r:n.custom,e)}const E1=e=>Array.isArray(e);function WQ(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Uu(r))}function HQ(e){return E1(e)?e[e.length-1]||0:e}function KQ(e,t){const r=Vf(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=HQ(i[o]);WQ(e,o,l)}}function GQ(e){return!!(Qr(e)&&e.add)}function T1(e,t){const r=e.getValue("willChange");if(GQ(r))return r.add(t);if(!r&&ai.WillChange){const n=new ai.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function w$(e){return e.props[d$]}const YQ=e=>e!==null;function XQ(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(YQ),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const QQ={type:"spring",stiffness:500,damping:25,restSpeed:10},JQ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ZQ={type:"keyframes",duration:.8},eJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tJ=(e,{keyframes:t})=>t.length>2?ZQ:Td.has(e)?e.startsWith("scale")?JQ(t[1]):QQ:eJ;function rJ({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const kS=(e,t,r,n={},a,i)=>o=>{const l=fS(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-ha(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};rJ(l)||Object.assign(d,tJ(e,d)),d.duration&&(d.duration=ha(d.duration)),d.repeatDelay&&(d.repeatDelay=ha(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(ai.instantAnimations||ai.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=XQ(d.keyframes,l);if(f!==void 0){qt.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new uS(d):new $X(d)};function nJ({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function j$(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&nJ(u,d))continue;const m={delay:r,...fS(i||{},d)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===g&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const b=w$(e);if(b){const v=window.MotionHandoffAnimation(b,d,qt);v!==null&&(m.startTime=v,p=!0)}}T1(e,d),h.start(kS(d,h,f,e.shouldReduceMotion&&Q6.has(d)?{type:!1}:m,e,p));const y=h.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{qt.update(()=>{o&&KQ(e,o)})}),c}function O1(e,t,r={}){var c;const n=Vf(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(j$(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=a;return sJ(e,t,d+u,h,f,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(r.delay)])}function sJ(e,t,r=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(aJ).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(O1(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function aJ(e,t){return e.sortNodePosition(t)}function iJ(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>O1(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=O1(e,t,r);else{const a=typeof t=="function"?Vf(e,t,r.custom):t;n=Promise.all(j$(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function N$(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const oJ=yS.length;function _$(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?_$(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<oJ;r++){const n=yS[r],a=e.props[n];(Uf(a)||a===!1)&&(t[n]=a)}return t}const lJ=[...vS].reverse(),cJ=vS.length;function uJ(e){return t=>Promise.all(t.map(({animation:r,options:n})=>iJ(e,r,n)))}function dJ(e){let t=uJ(e),r=nE(),n=!0;const a=c=>(u,d)=>{var f;const h=Vf(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...p}=h;u={...u,...p,...g}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=_$(e.parent)||{},h=[],f=new Set;let m={},g=1/0;for(let y=0;y<cJ;y++){const b=lJ[y],v=r[b],w=u[b]!==void 0?u[b]:d[b],j=Uf(w),N=b===c?v.isActive:null;N===!1&&(g=y);let S=w===d[b]&&w!==u[b]&&j;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...m},!v.isActive&&N===null||!w&&!v.prevProp||ky(w)||typeof w=="boolean")continue;const _=hJ(v.prevProp,w);let k=_||b===c&&v.isActive&&!S&&j||y>g&&j,C=!1;const P=Array.isArray(w)?w:[w];let E=P.reduce(a(b),{});N===!1&&(E={});const{prevResolvedValues:T={}}=v,F={...T,...E},D=q=>{k=!0,f.has(q)&&(C=!0,f.delete(q)),v.needsAnimating[q]=!0;const I=e.getValue(q);I&&(I.liveStyle=!1)};for(const q in F){const I=E[q],V=T[q];if(m.hasOwnProperty(q))continue;let Y=!1;E1(I)&&E1(V)?Y=!N$(I,V):Y=I!==V,Y?I!=null?D(q):f.add(q):I!==void 0&&f.has(q)?D(q):v.protectedKeys[q]=!0}v.prevProp=w,v.prevResolvedValues=E,v.isActive&&(m={...m,...E}),n&&e.blockInitialAnimation&&(k=!1),k&&(!(S&&_)||C)&&h.push(...P.map(q=>({animation:q,options:{type:b}})))}if(f.size){const y={};if(typeof u.initial!="boolean"){const b=Vf(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(y.transition=b.transition)}f.forEach(b=>{const v=e.getBaseTarget(b),w=e.getValue(b);w&&(w.liveStyle=!0),y[b]=v??null}),h.push({animation:y})}let p=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(h):Promise.resolve()}function l(c,u){var h;if(r[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=o(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=nE(),n=!0}}}function hJ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!N$(t,e):!1}function Wo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nE(){return{animate:Wo(!0),whileInView:Wo(),whileHover:Wo(),whileTap:Wo(),whileDrag:Wo(),whileFocus:Wo(),exit:Wo()}}class Eo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fJ extends Eo{constructor(t){super(t),t.animationState||(t.animationState=dJ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ky(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let mJ=0;class pJ extends Eo{constructor(){super(...arguments),this.id=mJ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const gJ={animation:{Feature:fJ},exit:{Feature:pJ}};function qf(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Hm(e){return{point:{x:e.pageX,y:e.pageY}}}const xJ=e=>t=>gS(t)&&e(t,Hm(t));function ef(e,t,r,n){return qf(e,t,xJ(r),n)}function S$({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function vJ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function yJ(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const k$=1e-4,bJ=1-k$,wJ=1+k$,C$=.01,jJ=0-C$,NJ=0+C$;function on(e){return e.max-e.min}function _J(e,t,r){return Math.abs(e-t)<=r}function sE(e,t,r,n=.5){e.origin=n,e.originPoint=zt(t.min,t.max,e.origin),e.scale=on(r)/on(t),e.translate=zt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=bJ&&e.scale<=wJ||isNaN(e.scale))&&(e.scale=1),(e.translate>=jJ&&e.translate<=NJ||isNaN(e.translate))&&(e.translate=0)}function tf(e,t,r,n){sE(e.x,t.x,r.x,n?n.originX:void 0),sE(e.y,t.y,r.y,n?n.originY:void 0)}function aE(e,t,r){e.min=r.min+t.min,e.max=e.min+on(t)}function SJ(e,t,r){aE(e.x,t.x,r.x),aE(e.y,t.y,r.y)}function iE(e,t,r){e.min=t.min-r.min,e.max=e.min+on(t)}function rf(e,t,r){iE(e.x,t.x,r.x),iE(e.y,t.y,r.y)}const oE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kc=()=>({x:oE(),y:oE()}),lE=()=>({min:0,max:0}),tr=()=>({x:lE(),y:lE()});function Zn(e){return[e("x"),e("y")]}function Yb(e){return e===void 0||e===1}function M1({scale:e,scaleX:t,scaleY:r}){return!Yb(e)||!Yb(t)||!Yb(r)}function Jo(e){return M1(e)||P$(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function P$(e){return cE(e.x)||cE(e.y)}function cE(e){return e&&e!=="0%"}function Fx(e,t,r){const n=e-r,a=t*n;return r+a}function uE(e,t,r,n,a){return a!==void 0&&(e=Fx(e,a,n)),Fx(e,r,n)+t}function R1(e,t=0,r=1,n,a){e.min=uE(e.min,t,r,n,a),e.max=uE(e.max,t,r,n,a)}function A$(e,{x:t,y:r}){R1(e.x,t.translate,t.scale,t.originPoint),R1(e.y,r.translate,r.scale,r.originPoint)}const dE=.999999999999,hE=1.0000000000001;function kJ(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Yc(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,A$(e,o)),n&&Jo(i.latestValues)&&Yc(e,i.latestValues))}t.x<hE&&t.x>dE&&(t.x=1),t.y<hE&&t.y>dE&&(t.y=1)}function Gc(e,t){e.min=e.min+t,e.max=e.max+t}function fE(e,t,r,n,a=.5){const i=zt(e.min,e.max,a);R1(e,t,r,i,n)}function Yc(e,t){fE(e.x,t.x,t.scaleX,t.scale,t.originX),fE(e.y,t.y,t.scaleY,t.scale,t.originY)}function E$(e,t){return S$(yJ(e.getBoundingClientRect(),t))}function CJ(e,t,r){const n=E$(e,r),{scroll:a}=t;return a&&(Gc(n.x,a.offset.x),Gc(n.y,a.offset.y)),n}const T$=({current:e})=>e?e.ownerDocument.defaultView:null,mE=(e,t)=>Math.abs(e-t);function PJ(e,t){const r=mE(e.x,t.x),n=mE(e.y,t.y);return Math.sqrt(r**2+n**2)}class O${constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Qb(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=PJ(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:g}=h,{timestamp:p}=Ir;this.history.push({...g,timestamp:p});const{onStart:y,onMove:b}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Xb(f,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Qb(h.type==="pointercancel"?this.lastMoveEventInfo:Xb(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,y),g&&g(h,y)},!gS(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=Hm(t),l=Xb(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ir;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,Qb(l,this.history)),this.removeListeners=Vm(ef(this.contextWindow,"pointermove",this.handlePointerMove),ef(this.contextWindow,"pointerup",this.handlePointerUp),ef(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),go(this.updatePoint)}}function Xb(e,t){return t?{point:t(e.point)}:e}function pE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qb({point:e},t){return{point:e,delta:pE(e,M$(t)),offset:pE(e,AJ(t)),velocity:EJ(t,.1)}}function AJ(e){return e[0]}function M$(e){return e[e.length-1]}function EJ(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=M$(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>ha(t)));)r--;if(!n)return{x:0,y:0};const i=fa(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function TJ(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?zt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?zt(r,e,n.max):Math.min(e,r)),e}function gE(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function OJ(e,{top:t,left:r,bottom:n,right:a}){return{x:gE(e.x,r,a),y:gE(e.y,t,n)}}function xE(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function MJ(e,t){return{x:xE(e.x,t.x),y:xE(e.y,t.y)}}function RJ(e,t){let r=.5;const n=on(e),a=on(t);return a>n?r=Lf(t.min,t.max-n,e.min):n>a&&(r=Lf(e.min,e.max-a,t.min)),si(0,1,r)}function DJ(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const D1=.35;function $J(e=D1){return e===!1?e=0:e===!0&&(e=D1),{x:vE(e,"left","right"),y:vE(e,"top","bottom")}}function vE(e,t,r){return{min:yE(e,t),max:yE(e,r)}}function yE(e,t){return typeof e=="number"?e:e[t]||0}const IJ=new WeakMap;class LJ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tr(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Hm(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:g}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=JX(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zn(y=>{let b=this.getAxisMotionValue(y).get()||0;if(ma.test(b)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[y];w&&(b=on(w)*(parseFloat(b)/100))}}this.originPoint[y]=b}),g&&qt.postRender(()=>g(d,h)),T1(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:g,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=h;if(m&&this.currentDirection===null){this.currentDirection=FJ(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),p&&p(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Zn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new O$(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:T$(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&qt.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Zp(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=TJ(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&Hc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=OJ(n.layoutBox,t):this.constraints=!1,this.elastic=$J(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Zn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=DJ(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Hc(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=CJ(n,a.root,this.visualElement.getTransformPagePoint());let o=MJ(a.layout.layoutBox,i);if(r){const l=r(vJ(o));this.hasMutatedConstraints=!!l,l&&(o=S$(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Zn(d=>{if(!Zp(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=a?200:1e6,m=a?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return T1(this.visualElement,t),n.start(kS(t,n,0,r,this.visualElement,!1))}stopAnimation(){Zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Zn(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Zn(r=>{const{drag:n}=this.getProps();if(!Zp(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-zt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Hc(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Zn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=RJ({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Zn(o=>{if(!Zp(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(zt(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;IJ.set(this.visualElement,this);const t=this.visualElement.current,r=ef(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Hc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),qt.read(n);const o=qf(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Zn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=D1,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Zp(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function FJ(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class BJ extends Eo{constructor(t){super(t),this.removeGroupControls=cs,this.removeListeners=cs,this.controls=new LJ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const bE=e=>(t,r)=>{e&&qt.postRender(()=>e(t,r))};class UJ extends Eo{constructor(){super(...arguments),this.removePointerDownListener=cs}onPointerDown(t){this.session=new O$(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T$(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:bE(t),onStart:bE(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&qt.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=ef(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ph={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($e.test(e))e=parseFloat(e);else return e;const r=wE(e,t.target.x),n=wE(e,t.target.y);return`${r}% ${n}%`}},zJ={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=xo.parse(e);if(a.length>5)return n;const i=xo.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=zt(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class VJ extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;CQ(qJ),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Gg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||qt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),pS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function R$(e){const[t,r]=o$(),n=x.useContext(K2);return s.jsx(VJ,{...e,layoutGroup:n,switchLayoutGroup:x.useContext(h$),isPresent:t,safeToRemove:r})}const qJ={borderRadius:{...ph,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ph,borderTopRightRadius:ph,borderBottomLeftRadius:ph,borderBottomRightRadius:ph,boxShadow:zJ};function WJ(e,t,r){const n=Qr(e)?e:Uu(e);return n.start(kS("",n,t,r)),n.animation}const HJ=(e,t)=>e.depth-t.depth;class KJ{constructor(){this.children=[],this.isDirty=!1}add(t){X2(this.children,t),this.isDirty=!0}remove(t){Q2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(HJ),this.isDirty=!1,this.children.forEach(t)}}function GJ(e,t){const r=Nn.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(go(n),e(i-t))};return qt.setup(n,!0),()=>go(n)}const D$=["TopLeft","TopRight","BottomLeft","BottomRight"],YJ=D$.length,jE=e=>typeof e=="string"?parseFloat(e):e,NE=e=>typeof e=="number"||$e.test(e);function XJ(e,t,r,n,a,i){a?(e.opacity=zt(0,r.opacity??1,QJ(n)),e.opacityExit=zt(t.opacity??1,0,JJ(n))):i&&(e.opacity=zt(t.opacity??1,r.opacity??1,n));for(let o=0;o<YJ;o++){const l=`border${D$[o]}Radius`;let c=_E(t,l),u=_E(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||NE(c)===NE(u)?(e[l]=Math.max(zt(jE(c),jE(u),n),0),(ma.test(u)||ma.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=zt(t.rotate||0,r.rotate||0,n))}function _E(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const QJ=$$(0,.5,P6),JJ=$$(.5,.95,cs);function $$(e,t,r){return n=>n<e?0:n>t?1:r(Lf(e,t,n))}function SE(e,t){e.min=t.min,e.max=t.max}function Gn(e,t){SE(e.x,t.x),SE(e.y,t.y)}function kE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function CE(e,t,r,n,a){return e-=t,e=Fx(e,1/r,n),a!==void 0&&(e=Fx(e,1/a,n)),e}function ZJ(e,t=0,r=1,n=.5,a,i=e,o=e){if(ma.test(t)&&(t=parseFloat(t),t=zt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=zt(i.min,i.max,n);e===i&&(l-=t),e.min=CE(e.min,t,r,l,a),e.max=CE(e.max,t,r,l,a)}function PE(e,t,[r,n,a],i,o){ZJ(e,t[r],t[n],t[a],t.scale,i,o)}const eZ=["x","scaleX","originX"],tZ=["y","scaleY","originY"];function AE(e,t,r,n){PE(e.x,t,eZ,r?r.x:void 0,n?n.x:void 0),PE(e.y,t,tZ,r?r.y:void 0,n?n.y:void 0)}function EE(e){return e.translate===0&&e.scale===1}function I$(e){return EE(e.x)&&EE(e.y)}function TE(e,t){return e.min===t.min&&e.max===t.max}function rZ(e,t){return TE(e.x,t.x)&&TE(e.y,t.y)}function OE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function L$(e,t){return OE(e.x,t.x)&&OE(e.y,t.y)}function ME(e){return on(e.x)/on(e.y)}function RE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class nZ{constructor(){this.members=[]}add(t){X2(this.members,t),t.scheduleRender()}remove(t){if(Q2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sZ(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Jb=["","X","Y","Z"],aZ={visibility:"hidden"},iZ=1e3;let oZ=0;function Zb(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function F$(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=w$(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",qt,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&F$(n)}function B$({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=oZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uZ),this.nodes.forEach(pZ),this.nodes.forEach(gZ),this.nodes.forEach(dZ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new KJ)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Z2),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=i$(o)&&!sQ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=GJ(h,250),Gg.hasAnimatedSinceResize&&(Gg.hasAnimatedSinceResize=!1,this.nodes.forEach($E))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||wZ,{onLayoutAnimationStart:p,onLayoutAnimationComplete:y}=u.getProps(),b=!this.targetLayout||!L$(this.targetLayout,m),v=!h&&f;if(this.options.layoutRoot||this.resumeFrom||v||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...fS(g,"layout"),onPlay:p,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,v)}else h||$E(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),go(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xZ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&F$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DE);return}this.isUpdating||this.nodes.forEach(fZ),this.isUpdating=!1,this.nodes.forEach(mZ),this.nodes.forEach(lZ),this.nodes.forEach(cZ),this.clearAllSnapshots();const l=Nn.now();Ir.delta=si(0,1e3/60,l-Ir.timestamp),Ir.timestamp=l,Ir.isProcessing=!0,Vb.update.process(Ir),Vb.preRender.process(Ir),Vb.render.process(Ir),Ir.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hZ),this.sharedNodes.forEach(vZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!on(this.snapshot.measuredBox.x)&&!on(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!I$(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Jo(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),jZ(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return tr();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(NZ))){const{scroll:d}=this.root;d&&(Gc(l.x,d.offset.x),Gc(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=tr();if(Gn(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Gn(l,o),Gc(l.x,h.offset.x),Gc(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=tr();Gn(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Yc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Jo(d.latestValues)&&Yc(c,d.latestValues)}return Jo(this.latestValues)&&Yc(c,this.latestValues),c}removeTransform(o){const l=tr();Gn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Jo(u.latestValues))continue;M1(u.latestValues)&&u.updateSnapshot();const d=tr(),h=u.measurePageBox();Gn(d,h),AE(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Jo(this.latestValues)&&AE(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ir.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ir.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),rf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tr(),this.targetWithTransforms=tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),A$(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),rf(this.relativeTargetOrigin,this.target,m.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||M1(this.parent.latestValues)||P$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ir.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Gn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;kJ(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=tr());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kE(this.prevProjectionDelta.x,this.projectionDelta.x),kE(this.prevProjectionDelta.y,this.projectionDelta.y)),tf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!RE(this.projectionDelta.x,this.prevProjectionDelta.x)||!RE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kc(),this.projectionDelta=Kc(),this.projectionDeltaWithTransform=Kc()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Kc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=tr(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=m!==g,y=this.getStack(),b=!y||y.members.length<=1,v=!!(p&&!b&&this.options.crossfade===!0&&!this.path.some(bZ));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const N=j/1e3;IE(h.x,o.x,N),IE(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yZ(this.relativeTarget,this.relativeTargetOrigin,f,N),w&&rZ(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=tr()),Gn(w,this.relativeTarget)),p&&(this.animationValues=d,XJ(d,u,this.latestValues,N,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(go(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{Gg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uu(0)),this.currentAnimation=WJ(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&U$(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||tr();const h=on(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=on(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Gn(l,c),Yc(l,d),tf(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nZ),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Zb("z",o,u,this.animationValues);for(let d=0;d<Jb.length;d++)Zb(`rotate${Jb[d]}`,o,u,this.animationValues),Zb(`skew${Jb[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return aZ;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Kg(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Kg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Jo(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=sZ(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in zf){if(d[m]===void 0)continue;const{correct:g,applyTo:p,isCSSVariable:y}=zf[m],b=l.transform==="none"?d[m]:g(d[m],u);if(p){const v=p.length;for(let w=0;w<v;w++)l[p[w]]=b}else y?this.options.visualElement.renderState.vars[m]=b:l[m]=b}return this.options.layoutId&&(l.pointerEvents=u===this?Kg(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(DE),this.root.sharedNodes.clear()}}}function lZ(e){e.updateLayout()}function cZ(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Zn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=on(f);f.min=n[h].min,f.max=f.min+m}):U$(i,t.layoutBox,n)&&Zn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=on(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=Kc();tf(l,n,t.layoutBox);const c=Kc();o?tf(c,e.applyTransform(a,!0),t.measuredBox):tf(c,n,t.layoutBox);const u=!I$(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const g=tr();rf(g,t.layoutBox,f.layoutBox);const p=tr();rf(p,n,m.layoutBox),L$(g,p)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function uZ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dZ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function hZ(e){e.clearSnapshot()}function DE(e){e.clearMeasurements()}function fZ(e){e.isLayoutDirty=!1}function mZ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $E(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pZ(e){e.resolveTargetDelta()}function gZ(e){e.calcProjection()}function xZ(e){e.resetSkewAndRotation()}function vZ(e){e.removeLeadSnapshot()}function IE(e,t,r){e.translate=zt(t.translate,0,r),e.scale=zt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function LE(e,t,r,n){e.min=zt(t.min,r.min,n),e.max=zt(t.max,r.max,n)}function yZ(e,t,r,n){LE(e.x,t.x,r.x,n),LE(e.y,t.y,r.y,n)}function bZ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wZ={duration:.45,ease:[.4,0,.1,1]},FE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),BE=FE("applewebkit/")&&!FE("chrome/")?Math.round:cs;function UE(e){e.min=BE(e.min),e.max=BE(e.max)}function jZ(e){UE(e.x),UE(e.y)}function U$(e,t,r){return e==="position"||e==="preserve-aspect"&&!_J(ME(t),ME(r),.2)}function NZ(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const _Z=B$({attachResizeListener:(e,t)=>qf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ew={current:void 0},z$=B$({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ew.current){const e=new _Z({});e.mount(window),e.setOptions({layoutScroll:!0}),ew.current=e}return ew.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),SZ={pan:{Feature:UJ},drag:{Feature:BJ,ProjectionNode:z$,MeasureLayout:R$}};function zE(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&qt.postRender(()=>i(t,Hm(t)))}class kZ extends Eo{mount(){const{current:t}=this.node;t&&(this.unmount=ZX(t,(r,n)=>(zE(this.node,n,"Start"),a=>zE(this.node,a,"End"))))}unmount(){}}class CZ extends Eo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vm(qf(this.node.current,"focus",()=>this.onFocus()),qf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function VE(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&qt.postRender(()=>i(t,Hm(t)))}class PZ extends Eo{mount(){const{current:t}=this.node;t&&(this.unmount=nQ(t,(r,n)=>(VE(this.node,n,"Start"),(a,{success:i})=>VE(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $1=new WeakMap,tw=new WeakMap,AZ=e=>{const t=$1.get(e.target);t&&t(e)},EZ=e=>{e.forEach(AZ)};function TZ({root:e,...t}){const r=e||document;tw.has(r)||tw.set(r,{});const n=tw.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(EZ,{root:e,...t})),n[a]}function OZ(e,t,r){const n=TZ(t);return $1.set(e,r),n.observe(e),()=>{$1.delete(e),n.unobserve(e)}}const MZ={some:0,all:1};class RZ extends Eo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:MZ[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return OZ(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(DZ(t,r))&&this.startObserver()}unmount(){}}function DZ({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const $Z={inView:{Feature:RZ},tap:{Feature:PZ},focus:{Feature:CZ},hover:{Feature:kZ}},IZ={layout:{ProjectionNode:z$,MeasureLayout:R$}},I1={current:null},V$={current:!1};function LZ(){if(V$.current=!0,!!Y2)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>I1.current=e.matches;e.addListener(t),t()}else I1.current=!1}const FZ=new WeakMap;function BZ(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Qr(a))e.addValue(n,a);else if(Qr(i))e.addValue(n,Uu(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Uu(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const qE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UZ{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Nn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,qt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Cy(r),this.isVariantNode=u$(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Qr(m)&&m.set(c[f],!1)}}mount(t){this.current=t,FZ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),V$.current||LZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),go(this.notifyUpdate),go(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Td.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&qt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in zu){const r=zu[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<qE.length;n++){const a=qE[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=BZ(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Uu(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(v6(n)||b6(n))?n=parseFloat(n):!iQ(n)&&xo.test(r)&&(n=t$(t,r)),this.setBaseTarget(t,Qr(n)?n.get():n)),Qr(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=_S(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Qr(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Z2),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class q$ extends UZ{constructor(){super(...arguments),this.KeyframeResolver=GX}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Qr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function W$(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function zZ(e){return window.getComputedStyle(e)}class VZ extends q${constructor(){super(...arguments),this.type="html",this.renderInstance=W$}readValueFromInstance(t,r){var n;if(Td.has(r))return(n=this.projection)!=null&&n.isProjecting?_1(r):fX(t,r);{const a=zZ(t),i=(rS(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return E$(t,r)}build(t,r,n){wS(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return SS(t,r,n)}}const H$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qZ(e,t,r,n){W$(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(H$.has(a)?a:bS(a),t.attrs[a])}class WZ extends q${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Td.has(r)){const n=e$(r);return n&&n.default||0}return r=H$.has(r)?r:bS(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return b$(t,r,n)}build(t,r,n){g$(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){qZ(t,r,n,a)}mount(t){this.isSVGTag=v$(t.tagName),super.mount(t)}}const HZ=(e,t)=>NS(e)?new WZ(t):new VZ(t,{allowProjection:e!==x.Fragment}),KZ=qQ({...gJ,...$Z,...SZ,...IZ},HZ),ve=pQ(KZ),GZ="/innovation/assets/Logo-v9yNHtVb.svg",YZ=()=>s.jsx(st,{to:"/",className:"flex items-center space-x-2 sm:space-x-3 flex-shrink-0 group","aria-label":"Home",children:s.jsxs(ve.div,{whileHover:{scale:1.03},whileTap:{scale:.97},className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("img",{src:GZ,alt:"Innovation Club Logo",className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 object-contain transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-kic-green-500/15 to-yellow-500/15 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-sm"})]}),s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold uppercase tracking-wider leading-tight",children:s.jsx("span",{className:"bg-gradient-to-r from-kic-green-600 via-yellow-500 to-kic-green-700 bg-clip-text text-transparent animate-gradient-x",style:{backgroundSize:"200% 200%",animation:"gradient-shift 3s ease-in-out infinite alternate"},children:"INNOVATION CLUB"})}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-medium leading-tight",children:"KARATINA UNIVERSITY"}),s.jsx("p",{className:"hidden sm:block text-[0.6rem] lg:text-[0.65rem] text-kic-green-600 font-medium italic leading-tight tracking-wide",children:"DREAM, CREATE & INSPIRE FOR A BETTER FUTURE"})]})]})});/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K$=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...QZ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:K$("lucide",a),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const r=x.forwardRef(({className:n,...a},i)=>x.createElement(JZ,{ref:i,iconNode:t,className:K$(`lucide-${XZ(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ae("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=ae("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=ae("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=ae("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=ae("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ae("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=ae("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=ae("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=ae("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=ae("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=ae("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=ae("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=ae("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=ae("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=ae("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=ae("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=ae("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=ae("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=ae("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=ae("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=ae("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=ae("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=ae("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=ae("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=ae("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ae("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=ae("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=ae("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=ae("Sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=ae("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=ae("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=ae("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ae("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=ae("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=ae("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ae("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ae("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=ae("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Eee=()=>{const[e,t]=x.useState(null),r=ka(),n=x.useRef(null);x.useEffect(()=>{const l=c=>{n.current&&!n.current.contains(c.target)&&t(null)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const a=l=>{t(e===l?null:l)},i=l=>r.pathname===l,o=[{name:"Home",href:"/",icon:s.jsx(J$,{className:"w-4 h-4"})},{name:"About Us",href:"/about",icon:s.jsx(oc,{className:"w-4 h-4"}),dropdown:[{name:"Our Story",href:"/about",description:"Learn about our journey",icon:s.jsx(ya,{className:"w-4 h-4 text-kic-green-600"})},{name:"Careers",href:"/careers",description:"Explore opportunities",icon:s.jsx(Ul,{className:"w-4 h-4 text-kic-green-600"})}]},{name:"Projects",href:"/projects",icon:s.jsx(Z$,{className:"w-4 h-4"})},{name:"Events",href:"/events",icon:s.jsx(Ae,{className:"w-4 h-4"})},{name:"Blog",href:"/blogs",icon:s.jsx(ya,{className:"w-4 h-4"})},{name:"Leaderboard",href:"/leaderboard",icon:s.jsx(Oe,{className:"w-4 h-4"})}];return s.jsx("div",{ref:n,className:"hidden lg:flex items-center space-x-2",children:o.map(l=>s.jsx("div",{className:"relative",children:l.dropdown?s.jsxs(s.Fragment,{children:[s.jsxs(ve.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(l.name),className:ne("flex items-center px-4 py-2.5 text-sm font-medium transition-all duration-300 rounded-lg group relative","hover:bg-kic-green-50 hover:text-kic-green-700",e===l.name?"bg-kic-green-100 text-kic-green-700":"text-gray-700"),"aria-expanded":e===l.name,"aria-haspopup":"true",children:[s.jsx("span",{className:"mr-2 transition-colors duration-300",children:l.icon}),l.name,s.jsx(Km,{className:ne("ml-2 w-4 h-4 transition-all duration-300",e===l.name?"rotate-180 text-kic-green-600":"text-gray-400 group-hover:text-kic-green-600")}),s.jsx("div",{className:ne("absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-kic-green-500 to-kic-green-600 transition-all duration-300 rounded-full",e===l.name?"w-8":"group-hover:w-4")})]}),s.jsx(zs,{children:e===l.name&&s.jsxs(ve.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,type:"spring",stiffness:300},className:"absolute left-0 mt-2 w-72 rounded-xl shadow-2xl bg-white border border-kic-green-100 py-3 z-50 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-kic-green-50/50 to-white"}),s.jsx("div",{className:"relative",children:l.dropdown.map(c=>s.jsx(st,{to:c.href,className:"block px-4 py-3 hover:bg-kic-green-50 group transition-all duration-200 relative",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"mr-3 mt-0.5 p-1.5 rounded-lg bg-kic-green-100 group-hover:bg-kic-green-200 transition-colors duration-200",children:c.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 group-hover:text-kic-green-700 transition-colors duration-200",children:c.name}),s.jsx("p",{className:"text-xs text-gray-500 mt-1 group-hover:text-kic-green-600 transition-colors duration-200",children:c.description})]}),s.jsx(PS,{className:"w-4 h-4 text-gray-300 group-hover:text-kic-green-500 mt-0.5 ml-2 transition-all duration-200 group-hover:translate-x-1"})]})},c.name))})]})})]}):s.jsx(ve.div,{whileHover:{scale:1.02},children:s.jsxs(st,{to:l.href,className:ne("flex items-center px-4 py-2.5 text-sm font-medium transition-all duration-300 rounded-lg group relative",i(l.href)?"bg-kic-green-100 text-kic-green-700":"text-gray-700 hover:bg-kic-green-50 hover:text-kic-green-700"),children:[s.jsx("span",{className:"mr-2 transition-colors duration-300",children:l.icon}),l.name,s.jsx("div",{className:ne("absolute bottom-0 left-1/2 transform -translate-x-1/2 h-0.5 bg-gradient-to-r from-kic-green-500 to-kic-green-600 transition-all duration-300 rounded-full",i(l.href)?"w-8":"w-0 group-hover:w-4")})]})})},l.name))})};function Tee(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ry(...e){return t=>e.forEach(r=>Tee(r,t))}function Ke(...e){return x.useCallback(Ry(...e),e)}var ii=x.forwardRef((e,t)=>{const{children:r,...n}=e,a=x.Children.toArray(r),i=a.find(Oee);if(i){const o=i.props.children,l=a.map(c=>c===i?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:c);return s.jsx(L1,{...n,ref:t,children:x.isValidElement(o)?x.cloneElement(o,void 0,l):null})}return s.jsx(L1,{...n,ref:t,children:r})});ii.displayName="Slot";var L1=x.forwardRef((e,t)=>{const{children:r,...n}=e;if(x.isValidElement(r)){const a=Ree(r);return x.cloneElement(r,{...Mee(n,r.props),ref:t?Ry(t,a):a})}return x.Children.count(r)>1?x.Children.only(null):null});L1.displayName="SlotClone";var sI=({children:e})=>s.jsx(s.Fragment,{children:e});function Oee(e){return x.isValidElement(e)&&e.type===sI}function Mee(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Ree(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const GE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,YE=Ve,Zm=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return YE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const f=GE(d)||GE(h);return a[u][f]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(g=>{let[p,y]=g;return Array.isArray(y)?y.includes({...i,...l}[p]):{...i,...l}[p]===y})?[...u,h,f]:u},[]);return YE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},MS=Zm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),M=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?ii:"button";return s.jsx(o,{className:ne(MS({variant:t,size:r,className:e})),ref:i,...a})});M.displayName="Button";const Dee="modulepreload",$ee=function(e){return"/innovation/"+e},XE={},qu=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=$ee(c),c in XE)return;XE[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Dee,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Iee=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qu(async()=>{const{default:n}=await Promise.resolve().then(()=>Md);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class RS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Lee extends RS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Fee extends RS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Bee extends RS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var F1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(F1||(F1={}));var Uee=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class zee{constructor(t,{headers:r={},customFetch:n,region:a=F1.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Iee(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Uee(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(g=>{throw new Lee(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Fee(d);if(!d.ok)throw new Bee(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var bn={},DS={},Dy={},ep={},$y={},Iy={},Vee=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wu=Vee();const qee=Wu.fetch,aI=Wu.fetch.bind(Wu),iI=Wu.Headers,Wee=Wu.Request,Hee=Wu.Response,Md=Object.freeze(Object.defineProperty({__proto__:null,Headers:iI,Request:Wee,Response:Hee,default:aI,fetch:qee},Symbol.toStringTag,{value:"Module"})),Kee=nq(Md);var Ly={};Object.defineProperty(Ly,"__esModule",{value:!0});let Gee=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ly.default=Gee;var oI=Xr&&Xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Iy,"__esModule",{value:!0});const Yee=oI(Kee),Xee=oI(Ly);let Qee=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Yee.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await i.text();try{u=JSON.parse(p),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&p===""?(f=204,m="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new Xee.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Iy.default=Qee;var Jee=Xr&&Xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($y,"__esModule",{value:!0});const Zee=Jee(Iy);let ete=class extends Zee.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$y.default=ete;var tte=Xr&&Xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ep,"__esModule",{value:!0});const rte=tte($y);let nte=class extends rte.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ep.default=nte;var ste=Xr&&Xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dy,"__esModule",{value:!0});const gh=ste(ep);let ate=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new gh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new gh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new gh.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new gh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new gh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Dy.default=ate;var Fy={},By={};Object.defineProperty(By,"__esModule",{value:!0});By.version=void 0;By.version="0.0.0-automated";Object.defineProperty(Fy,"__esModule",{value:!0});Fy.DEFAULT_HEADERS=void 0;const ite=By;Fy.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ite.version}`};var lI=Xr&&Xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(DS,"__esModule",{value:!0});const ote=lI(Dy),lte=lI(ep),cte=Fy;let ute=class cI{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},cte.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new ote.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new cI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new lte.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};DS.default=ute;var Rd=Xr&&Xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bn,"__esModule",{value:!0});bn.PostgrestError=bn.PostgrestBuilder=bn.PostgrestTransformBuilder=bn.PostgrestFilterBuilder=bn.PostgrestQueryBuilder=bn.PostgrestClient=void 0;const uI=Rd(DS);bn.PostgrestClient=uI.default;const dI=Rd(Dy);bn.PostgrestQueryBuilder=dI.default;const hI=Rd(ep);bn.PostgrestFilterBuilder=hI.default;const fI=Rd($y);bn.PostgrestTransformBuilder=fI.default;const mI=Rd(Iy);bn.PostgrestBuilder=mI.default;const pI=Rd(Ly);bn.PostgrestError=pI.default;var dte=bn.default={PostgrestClient:uI.default,PostgrestQueryBuilder:dI.default,PostgrestFilterBuilder:hI.default,PostgrestTransformBuilder:fI.default,PostgrestBuilder:mI.default,PostgrestError:pI.default};const{PostgrestClient:hte,PostgrestQueryBuilder:u8e,PostgrestFilterBuilder:d8e,PostgrestTransformBuilder:h8e,PostgrestBuilder:f8e,PostgrestError:m8e}=dte,fte="2.11.2",mte={"X-Client-Info":`realtime-js/${fte}`},pte="1.0.0",gI=1e4,gte=1e3;var du;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(du||(du={}));var Tn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tn||(Tn={}));var Ps;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ps||(Ps={}));var B1;(function(e){e.websocket="websocket"})(B1||(B1={}));var al;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(al||(al={}));class xte{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class xI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kt||(kt={}));const QE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=vte(o,e,t,a),i),{})},vte=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?vI(i,o):U1(o)},vI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return jte(t,r)}switch(e){case kt.bool:return yte(t);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return bte(t);case kt.json:case kt.jsonb:return wte(t);case kt.timestamp:return Nte(t);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return U1(t);default:return U1(t)}},U1=e=>e,yte=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bte=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wte=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jte=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>vI(t,l))}return e},Nte=e=>typeof e=="string"?e.replace(" ","T"):e,yI=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class rw{constructor(t,r,n={},a=gI){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var JE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(JE||(JE={}));class sf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sf.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=sf.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=sf.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(y=>y.presence_ref),m=h.map(y=>y.presence_ref),g=d.filter(y=>m.indexOf(y.presence_ref)<0),p=h.filter(y=>f.indexOf(y.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ZE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ZE||(ZE={}));var eT;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(eT||(eT={}));var Ia;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ia||(Ia={}));class $S{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rw(this,Ps.join,this.params,this.timeout),this.rejoinTimer=new xI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ps.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new sf(this),this.broadcastEndpointURL=yI(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Ia.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ia.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Ia.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let p=0;p<m;p++){const y=f[p],{filter:{event:b,schema:v,table:w,filter:j}}=y,N=d&&d[p];if(N&&N.event===b&&N.schema===v&&N.table===w&&N.filter===j)g.push(Object.assign(Object.assign({},y),{id:N.id}));else{this.unsubscribe(),t==null||t(Ia.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ia.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Ia.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ia.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ps.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new rw(this,Ps.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new rw(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ps;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,y;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(p=m.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,y,b,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,N=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((p=r.ids)===null||p===void 0?void 0:p.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(v=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:p,table:y,commit_timestamp:b,type:v,errors:w}=g;f=Object.assign(Object.assign({},{schema:p,table:y,commit_timestamp:b,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(f,n)})}_isClosed(){return this.state===Tn.closed}_isJoined(){return this.state===Tn.joined}_isJoining(){return this.state===Tn.joining}_isLeaving(){return this.state===Tn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&$S.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ps.close,{},t)}_onError(t){this._on(Ps.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=QE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=QE(t.columns,t.old_record)),r}}const _te=()=>{},Ste=typeof WebSocket<"u",kte=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cte{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=mte,this.params={},this.timeout=gI,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=_te,this.conn=null,this.sendBuffer=[],this.serializer=new xte,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>qu(async()=>{const{default:c}=await Promise.resolve().then(()=>Md);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${B1.websocket}`,this.httpEndpoint=yI(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new xI(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ste){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Pte(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),qu(async()=>{const{default:t}=await import("./browser-MovGzMLb.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pte}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case du.connecting:return al.Connecting;case du.open:return al.Open;case du.closing:return al.Closing;default:return al.Closed}}isConnected(){return this.connectionState()===al.Open}channel(t,r={config:{}}){const n=new $S(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Ps.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(gte,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ps.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([kte],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Pte{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=du.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class IS extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Cr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ate extends IS{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class z1 extends IS{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Ete=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const bI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qu(async()=>{const{default:n}=await Promise.resolve().then(()=>Md);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Tte=()=>Ete(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qu(()=>Promise.resolve().then(()=>Md),void 0)).Response:Response}),V1=e=>{if(Array.isArray(e))return e.map(r=>V1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=V1(n)}),t};var uc=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const nw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ote=(e,t,r)=>uc(void 0,void 0,void 0,function*(){const n=yield Tte();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new Ate(nw(a),e.status||500))}).catch(a=>{t(new z1(nw(a),a))}):t(new z1(nw(e),e))}),Mte=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function tp(e,t,r,n,a,i){return uc(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Mte(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Ote(c,l,n))})})}function zx(e,t,r,n){return uc(this,void 0,void 0,function*(){return tp(e,"GET",t,r,n)})}function Di(e,t,r,n,a){return uc(this,void 0,void 0,function*(){return tp(e,"POST",t,n,a,r)})}function Rte(e,t,r,n,a){return uc(this,void 0,void 0,function*(){return tp(e,"PUT",t,n,a,r)})}function Dte(e,t,r,n){return uc(this,void 0,void 0,function*(){return tp(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wI(e,t,r,n,a){return uc(this,void 0,void 0,function*(){return tp(e,"DELETE",t,n,a,r)})}var pn=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const $te={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ite{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=bI(a)}uploadOrUpdate(t,r,n,a){return pn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},tT),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Cr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return pn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:tT.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Cr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return pn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Di(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new IS("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}})}update(t,r,n){return pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return pn(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Cr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return pn(this,void 0,void 0,function*(){try{return{data:{path:(yield Di(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Cr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return pn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Di(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Cr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return pn(this,void 0,void 0,function*(){try{const a=yield Di(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Cr(a))return{data:null,error:a};throw a}})}download(t,r){return pn(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield zx(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Cr(l))return{data:null,error:l};throw l}})}info(t){return pn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield zx(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:V1(n),error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}})}exists(t){return pn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Dte(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Cr(n)&&n instanceof z1){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return pn(this,void 0,void 0,function*(){try{return{data:yield wI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}})}list(t,r,n){return pn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},$te),r),{prefix:t||""});return{data:yield Di(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Cr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Lte="2.7.1",Fte={"X-Client-Info":`storage-js/${Lte}`};var bc=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Bte{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Fte),r),this.fetch=bI(n)}listBuckets(){return bc(this,void 0,void 0,function*(){try{return{data:yield zx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Cr(t))return{data:null,error:t};throw t}})}getBucket(t){return bc(this,void 0,void 0,function*(){try{return{data:yield zx(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return bc(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return bc(this,void 0,void 0,function*(){try{return{data:yield Rte(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return bc(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return bc(this,void 0,void 0,function*(){try{return{data:yield wI(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}})}}class Ute extends Bte{constructor(t,r={},n){super(t,r,n)}from(t){return new Ite(this.url,this.headers,t,this.fetch)}}const zte="2.49.4";let Ih="";typeof Deno<"u"?Ih="deno":typeof document<"u"?Ih="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ih="react-native":Ih="node";const Vte={"X-Client-Info":`supabase-js-${Ih}/${zte}`},qte={headers:Vte},Wte={schema:"public"},Hte={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kte={};var Gte=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Yte=e=>{let t;return e?t=e:typeof fetch>"u"?t=aI:t=fetch,(...r)=>t(...r)},Xte=()=>typeof Headers>"u"?iI:Headers,Qte=(e,t,r)=>{const n=Yte(r),a=Xte();return(i,o)=>Gte(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Jte=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Zte(e){return e.replace(/\/$/,"")}function ere(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>Jte(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const jI="2.69.1",Oc=30*1e3,q1=3,sw=q1*Oc,tre="http://localhost:9999",rre="supabase.auth.token",nre={"X-Client-Info":`gotrue-js/${jI}`},W1="X-Supabase-Api-Version",NI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sre=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,are=6e5;class LS extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function He(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ire extends LS{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ore(e){return He(e)&&e.name==="AuthApiError"}class _I extends LS{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Do extends LS{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ai extends Do{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lre(e){return He(e)&&e.name==="AuthSessionMissingError"}class aw extends Do{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eg extends Do{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tg extends Do{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cre(e){return He(e)&&e.name==="AuthImplicitGrantRedirectError"}class rT extends Do{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class H1 extends Do{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function iw(e){return He(e)&&e.name==="AuthRetryableFetchError"}class nT extends Do{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class af extends Do{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aT=` 	
\r=`.split(""),ure=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<aT.length;t+=1)e[aT[t].charCodeAt(0)]=-2;for(let t=0;t<sT.length;t+=1)e[sT[t].charCodeAt(0)]=t;return e})();function SI(e,t,r){const n=ure[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function iT(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{fre(o,n,r)};for(let o=0;o<e.length;o+=1)SI(e.charCodeAt(o),a,i);return t.join("")}function dre(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function hre(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}dre(n,t)}}function fre(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function mre(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)SI(e.charCodeAt(a),r,n);return new Uint8Array(t)}function pre(e){const t=[];return hre(e,r=>t.push(r)),new Uint8Array(t)}function gre(e){return Math.round(Date.now()/1e3)+e}function xre(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ys=()=>typeof window<"u"&&typeof document<"u",Ho={tested:!1,writable:!1},of=()=>{if(!Ys())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ho.tested)return Ho.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ho.tested=!0,Ho.writable=!0}catch{Ho.tested=!0,Ho.writable=!1}return Ho.writable};function vre(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const kI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qu(async()=>{const{default:n}=await Promise.resolve().then(()=>Md);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},yre=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",CI=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},rg=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ng=async(e,t)=>{await e.removeItem(t)};class Uy{constructor(){this.promise=new Uy.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Uy.promiseConstructor=Promise;function ow(e){const t=e.split(".");if(t.length!==3)throw new af("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!sre.test(t[n]))throw new af("JWT not in base64url format");return{header:JSON.parse(iT(t[0])),payload:JSON.parse(iT(t[1])),signature:mre(t[2]),raw:{header:t[0],payload:t[1]}}}async function bre(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function wre(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function jre(e){return("0"+e.toString(16)).substr(-2)}function Nre(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,jre).join("")}async function _re(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Sre(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await _re(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wc(e,t,r=!1){const n=Nre();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await CI(e,`${t}-code-verifier`,a);const i=await Sre(n);return[i,n===i?"plain":"s256"]}const kre=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cre(e){const t=e.headers.get(W1);if(!t||!t.match(kre))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Pre(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Are(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Ere=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Zo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tre=[502,503,504];async function oT(e){var t;if(!yre(e))throw new H1(Zo(e),0);if(Tre.includes(e.status))throw new H1(Zo(e),e.status);let r;try{r=await e.json()}catch(i){throw new _I(Zo(i),i)}let n;const a=Cre(e);if(a&&a.getTime()>=NI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new nT(Zo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ai}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new nT(Zo(r),e.status,r.weak_password.reasons);throw new ire(Zo(r),e.status||500,n)}const Ore=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Je(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[W1]||(i[W1]=NI["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Mre(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Mre(e,t,r,n,a,i){const o=Ore(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new H1(Zo(c),0)}if(l.ok||await oT(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await oT(c)}}function Ei(e){var t;let r=null;Ire(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=gre(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function lT(e){const t=Ei(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Rre(e){return{data:e,error:null}}function Dre(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Ere(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function $re(e){return e}function Ire(e){return e.access_token&&e.refresh_token&&e.expires_in}var Lre=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class Fre{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=kI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fi})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Lre(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Dre,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(He(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fi})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:$re});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(He(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fi})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Fi})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fi})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}}const Bre={getItem:e=>of()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{of()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{of()&&globalThis.localStorage.removeItem(e)}};function cT(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Ure(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jc={debug:!!(globalThis&&of()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class PI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zre extends PI{}async function Vre(e,t,r){jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),jc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zre(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ure();const qre={url:tre,storageKey:rre,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nre,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function uT(e,t,r){return await r()}class Hf{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hf.nextInstanceID,Hf.nextInstanceID+=1,this.instanceID>0&&Ys()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},qre),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Fre({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=kI(a.fetch),this.lock=a.lock||uT,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ys()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Vre:this.lock=uT,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:of()?this.storage=Bre:(this.memoryStorage={},this.storage=cT(this.memoryStorage)):(this.memoryStorage={},this.storage=cT(this.memoryStorage)),Ys()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jI}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=vre(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ys()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),cre(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return He(r)?{error:r}:{error:new _I("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ei}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await wc(this.storage,this.storageKey)),i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},xform:Ei})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ei})}else throw new eg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:lT})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:lT})}else throw new eg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new aw}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await rg(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ei});if(await ng(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new aw}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(He(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ei}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new aw}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await wc(this.storage,this.storageKey));const{error:h}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new eg("You must provide either an email or phone number.")}catch(l){if(He(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ei});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(He(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await wc(this.storage,this.storageKey)),await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Rre})}catch(i){if(He(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ai;const{error:a}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new eg("You must provide either an email or phone number and a type")}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await rg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<sw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fi}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ai}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Fi})})}catch(r){if(He(r))return lre(r)&&(await this._removeSession(),await ng(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ai;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await wc(this.storage,this.storageKey));const{data:u,error:d}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Fi});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ai;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=ow(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(He(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ai;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ys())throw new tg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new rT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new rT("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new tg("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Oc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:p,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(He(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await rg(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(ore(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ng(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=xre(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await wc(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(He(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ys()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(He(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await wre(async a=>(a>0&&await bre(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ei})),(a,i)=>{const o=200*Math.pow(2,a);return i&&iw(i)&&Date.now()+o-n<Oc})}catch(n){if(this._debug(r,"error",n),He(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ys()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await rg(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<sw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${sw}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),iw(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Uy;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ai;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),He(i)){const o={session:null,error:i};return iw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await CI(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ng(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ys()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Oc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Oc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Oc}ms, refresh threshold is ${q1} ticks`),a<=q1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof PI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ys()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await wc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(He(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(He(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ow(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+are>Date.now()))return n;const{data:a,error:i}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new af("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===t),!n)throw new af("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=ow(n);if(Pre(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const u=Are(a.alg),d=await this.fetchJwk(a.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,pre(`${l}.${c}`)))throw new af("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}}Hf.nextInstanceID=0;const Wre=Hf;class Hre extends Wre{constructor(t){super(t)}}var Kre=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Gre{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Zte(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Wte,realtime:Kte,auth:Object.assign(Object.assign({},Hte),{storageKey:c}),global:qte},d=ere(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Qte(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new hte(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new zee(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ute(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Kre(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hre({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Cte(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yre=(e,t,r)=>new Gre(e,t,r),Xre="https://igzzapzcxshylmonxzxb.supabase.co",Qre="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnenphcHpjeHNoeWxtb254enhiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc0NTMyMTQsImV4cCI6MjA2MzAyOTIxNH0.z4MFd5BhnEBXd68BxUH5RwgGeLUPvKmBHfFehNfjyjQ",A=Yre(Xre,Qre),AI=x.createContext(void 0),Jre=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[i,o]=x.useState(!0),[l,c]=x.useState(!1);x.useEffect(()=>{A.auth.getSession().then(({data:{session:g}})=>{a(g),r((g==null?void 0:g.user)??null),u(g==null?void 0:g.user)});const{data:{subscription:m}}=A.auth.onAuthStateChange((g,p)=>{a(p),r((p==null?void 0:p.user)??null),u(p==null?void 0:p.user),o(!1)});return()=>m.unsubscribe()},[]);const u=async m=>{if(!m){c(!1);return}try{const{data:g,error:p}=await A.from("user_roles").select("role").eq("user_id",m.id).single();if(p){console.error("Error checking admin status:",p),c(!1);return}c(["super_admin","general_admin","community_admin","events_admin","projects_admin","finance_admin","content_admin","technical_admin","marketing_admin","chairman","vice_chairman"].includes((g==null?void 0:g.role)||"member"))}catch(g){console.error("Error checking admin status:",g),c(!1)}},d=async m=>{o(!0);try{const{error:g}=await A.auth.signInWithOtp({email:m});if(g)throw g;alert("Check your email for the magic link to sign in.")}catch(g){alert(g)}finally{o(!1)}},h=async(m,g)=>{o(!0);try{const{error:p}=await A.auth.signUp({email:m,password:g});if(p)throw p;alert("Check your email to verify your account.")}catch(p){alert(p)}finally{o(!1)}},f=async()=>{o(!0);try{await A.auth.signOut()}catch(m){console.error("Error signing out:",m)}finally{o(!1)}};return s.jsx(AI.Provider,{value:{user:t,session:n,loading:i,isAdmin:l,signIn:d,signUp:h,signOut:f},children:e})},ye=()=>{const e=x.useContext(AI);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Zre=1,ene=1e6;let lw=0;function tne(){return lw=(lw+1)%Number.MAX_SAFE_INTEGER,lw.toString()}const cw=new Map,dT=e=>{if(cw.has(e))return;const t=setTimeout(()=>{cw.delete(e),lf({type:"REMOVE_TOAST",toastId:e})},ene);cw.set(e,t)},rne=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Zre)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?dT(r):e.toasts.forEach(n=>{dT(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Xg=[];let Qg={toasts:[]};function lf(e){Qg=rne(Qg,e),Xg.forEach(t=>{t(Qg)})}function nne({...e}){const t=tne(),r=a=>lf({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>lf({type:"DISMISS_TOAST",toastId:t});return lf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function xe(){const[e,t]=x.useState(Qg);return x.useEffect(()=>(Xg.push(t),()=>{const r=Xg.indexOf(t);r>-1&&Xg.splice(r,1)}),[e]),{...e,toast:nne,dismiss:r=>lf({type:"DISMISS_TOAST",toastId:r})}}const sne=()=>{const{user:e}=ye(),t=Ao(),{toast:r}=xe(),n=async()=>{try{await A.auth.signOut(),t("/"),r({title:"Signed out successfully",description:"You have been logged out of your account."})}catch(a){console.error("Error signing out:",a),r({title:"Error",description:"Failed to sign out. Please try again.",variant:"destructive"})}};return s.jsx("div",{className:"hidden lg:flex items-center space-x-3 ml-6",children:e?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(st,{to:"/dashboard",children:s.jsx(ve.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:s.jsxs(M,{variant:"ghost",size:"sm",className:"flex items-center space-x-2 text-gray-700 hover:bg-kic-green-50 hover:text-kic-green-700 rounded-lg border border-transparent hover:border-kic-green-200 transition-all duration-300",children:[s.jsx(ir,{className:"w-4 h-4"}),s.jsx("span",{children:"Dashboard"})]})})}),s.jsx(ve.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:s.jsxs(M,{variant:"outline",size:"sm",onClick:n,className:"flex items-center space-x-2 border-kic-green-200 hover:bg-kic-green-50 hover:border-kic-green-300 hover:text-kic-green-700 rounded-lg transition-all duration-300",children:[s.jsx(tI,{className:"w-4 h-4"}),s.jsx("span",{children:"Sign Out"})]})})]}):s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(st,{to:"/login",children:s.jsx(ve.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:s.jsx(M,{variant:"ghost",size:"sm",className:"text-gray-700 hover:bg-kic-green-50 hover:text-kic-green-700 rounded-lg border border-transparent hover:border-kic-green-200 transition-all duration-300",children:"Sign In"})})}),s.jsx(st,{to:"/register",children:s.jsx(ve.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:s.jsx(M,{size:"sm",className:"bg-gradient-to-r from-kic-green-500 to-kic-green-600 hover:from-kic-green-600 hover:to-kic-green-700 shadow-lg hover:shadow-xl shadow-kic-green-200 rounded-lg text-white font-semibold transition-all duration-300",children:"Join Now"})})})]})})},ane=({isOpen:e,onToggle:t})=>s.jsx("div",{className:"lg:hidden flex items-center",children:s.jsx(ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(M,{variant:"ghost",size:"sm",onClick:t,"aria-label":e?"Close menu":"Open menu","aria-expanded":e,className:"text-gray-700 hover:bg-kic-green-50 hover:text-kic-green-700 rounded-lg border border-transparent hover:border-kic-green-200 transition-all duration-300 p-2",children:e?s.jsx(Kn,{className:"w-5 h-5"}):s.jsx(pee,{className:"w-5 h-5"})})})}),ine=({onClose:e})=>s.jsx(ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[90] lg:hidden",onClick:e}),one=({name:e,href:t,icon:r,isActive:n})=>s.jsxs(st,{to:t,className:ne("flex items-center px-4 py-3 rounded-lg font-medium transition-all duration-300",n?"bg-kic-green-100 text-kic-green-700":"text-gray-900 hover:bg-kic-green-50 hover:text-kic-green-700"),children:[s.jsx("span",{className:"mr-3",children:r}),e]}),lne=({name:e,icon:t,dropdown:r,isActive:n,isExpanded:a,onToggle:i})=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs(ve.button,{whileTap:{scale:.98},onClick:i,className:ne("flex justify-between items-center w-full px-4 py-3 rounded-lg transition-all duration-300",n?"bg-kic-green-100 text-kic-green-700":"text-gray-900 hover:bg-kic-green-50"),"aria-expanded":a,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-3",children:t}),s.jsx("span",{className:"font-medium",children:e})]}),a?s.jsx(Y$,{className:"w-5 h-5 text-kic-green-600"}):s.jsx(Km,{className:"w-5 h-5 text-gray-500"})]}),s.jsx(ve.div,{initial:{height:0,opacity:0},animate:a?{height:"auto",opacity:1,transition:{duration:.3}}:{height:0,opacity:0,transition:{duration:.2}},className:"pl-12 overflow-hidden",children:s.jsx("div",{className:"space-y-2 py-2",children:r.map(o=>s.jsx(st,{to:o.href,className:"block px-4 py-3 text-gray-700 hover:bg-kic-green-50 hover:text-kic-green-700 rounded-lg transition-all duration-300",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-3",children:o.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:o.name}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.description})]})]})},o.name))})})]}),cne=({user:e,onSignOut:t})=>s.jsx("div",{className:"border-t border-kic-green-100 pt-4 mt-4",children:e?s.jsxs("div",{className:"space-y-2",children:[s.jsxs(st,{to:"/dashboard",className:"flex items-center px-4 py-3 text-gray-700 hover:bg-kic-green-50 hover:text-kic-green-700 rounded-lg transition-all duration-300",children:[s.jsx(ir,{className:"w-5 h-5 mr-3"}),s.jsx("span",{children:"Dashboard"})]}),s.jsxs(ve.button,{whileTap:{scale:.98},onClick:t,className:"flex items-center w-full px-4 py-3 text-left text-gray-700 hover:bg-kic-green-50 hover:text-kic-green-700 rounded-lg transition-all duration-300",children:[s.jsx(tI,{className:"w-5 h-5 mr-3"}),s.jsx("span",{children:"Sign Out"})]})]}):s.jsxs("div",{className:"grid gap-3",children:[s.jsx(st,{to:"/login",className:"w-full px-4 py-3 text-center font-medium text-gray-900 hover:bg-kic-green-50 hover:text-kic-green-700 rounded-lg border border-kic-green-200 transition-all duration-300",children:"Sign In"}),s.jsx(ve.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:s.jsx(st,{to:"/register",className:"block w-full px-4 py-3 text-center font-medium text-white bg-gradient-to-r from-kic-green-500 to-kic-green-600 hover:from-kic-green-600 hover:to-kic-green-700 rounded-lg shadow-lg transition-all duration-300",children:"Join Now"})})]})}),une=({activeDropdown:e,user:t,onToggleDropdown:r,onSignOut:n})=>{const a=ka(),i=l=>a.pathname===l,o=[{name:"Home",href:"/",icon:s.jsx(J$,{className:"w-4 h-4"})},{name:"About Us",href:"/about",icon:s.jsx(oc,{className:"w-4 h-4"}),dropdown:[{name:"Our Story",href:"/about",description:"Learn about our journey",icon:s.jsx(ya,{className:"w-4 h-4 text-kic-green-600"})},{name:"Careers",href:"/careers",description:"Explore opportunities",icon:s.jsx(Ul,{className:"w-4 h-4 text-kic-green-600"})}]},{name:"Projects",href:"/projects",icon:s.jsx(Z$,{className:"w-4 h-4"})},{name:"Events",href:"/events",icon:s.jsx(Ae,{className:"w-4 h-4"})},{name:"Blog",href:"/blogs",icon:s.jsx(ya,{className:"w-4 h-4"})},{name:"Leaderboard",href:"/leaderboard",icon:s.jsx(Oe,{className:"w-4 h-4"})}];return s.jsx(ve.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,type:"spring",stiffness:300},className:"absolute top-full left-0 right-0 bg-white/98 backdrop-blur-xl border-t border-kic-green-100 shadow-2xl z-[95] lg:hidden",style:{backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)"},children:s.jsx("div",{className:"max-h-[calc(100vh-80px)] overflow-y-auto",children:s.jsxs("div",{className:"px-4 py-6 space-y-2 bg-gradient-to-br from-white/95 to-kic-green-50/30",children:[s.jsx("div",{className:"grid gap-2",children:o.map(l=>s.jsx("div",{className:"space-y-1",children:l.dropdown?s.jsx(lne,{name:l.name,icon:l.icon,dropdown:l.dropdown,isActive:e===l.name,isExpanded:e===l.name,onToggle:()=>r(l.name)}):s.jsx(one,{name:l.name,href:l.href,icon:l.icon,isActive:i(l.href)})},l.name))}),s.jsx(cne,{user:t,onSignOut:n})]})})})},dne=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(null),{user:a}=ye(),i=Ao(),{toast:o}=xe(),l=ka(),c=async()=>{try{await A.auth.signOut(),i("/"),o({title:"Signed out successfully",description:"You have been logged out of your account."})}catch(f){console.error("Error signing out:",f),o({title:"Error",description:"Failed to sign out. Please try again.",variant:"destructive"})}},u=f=>{n(r===f?null:f)},d=()=>{t(!e)},h=()=>{t(!1)};return O.useEffect(()=>{t(!1),n(null)},[l.pathname]),s.jsxs(s.Fragment,{children:[s.jsx(ane,{isOpen:e,onToggle:d}),s.jsx(zs,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(ine,{onClose:h}),s.jsx(une,{activeDropdown:r,user:a,onToggleDropdown:u,onSignOut:c})]})})]})},hne=()=>{const[e,t]=x.useState(!1);return ka(),x.useEffect(()=>{const r=()=>{t(window.scrollY>10)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),s.jsxs("nav",{className:ne("bg-white/98 backdrop-blur-xl sticky top-0 z-[100] transition-all duration-500 border-b-2 shadow-lg",e?"border-kic-green-200 py-2 shadow-xl shadow-kic-green-100/30 bg-white/99":"border-kic-green-100/50 py-3 shadow-lg shadow-kic-green-50/20"),style:{backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)"},children:[s.jsx("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:s.jsxs("div",{className:"flex justify-between items-center min-h-[64px] lg:min-h-[70px]",children:[s.jsx("div",{className:"flex-shrink-0 max-w-[280px] sm:max-w-none",children:s.jsx(YZ,{})}),s.jsx("div",{className:"hidden lg:flex flex-1 justify-center",children:s.jsx(Eee,{})}),s.jsx("div",{className:"hidden lg:flex flex-shrink-0",children:s.jsx(sne,{})}),s.jsx("div",{className:"lg:hidden flex-shrink-0",children:s.jsx(dne,{})})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent pointer-events-none"})]})},re=x.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));re.displayName="Input";var EI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hT=O.createContext&&O.createContext(EI),fne=["attr","size","title"];function mne(e,t){if(e==null)return{};var r=pne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(this,arguments)}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){gne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gne(e,t,r){return t=xne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xne(e){var t=vne(e,"string");return typeof t=="symbol"?t:t+""}function vne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TI(e){return e&&e.map((t,r)=>O.createElement(t.tag,qx({key:r},t.attr),TI(t.child)))}function Ws(e){return t=>O.createElement(yne,Vx({attr:qx({},e.attr)},t),TI(e.child))}function yne(e){var t=r=>{var{attr:n,size:a,title:i}=e,o=mne(e,fne),l=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),O.createElement("svg",Vx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:qx(qx({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&O.createElement("title",null,i),e.children)};return hT!==void 0?O.createElement(hT.Consumer,null,r=>t(r)):t(EI)}function bne(e){return Ws({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(e)}function wne(e){return Ws({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function jne(e){return Ws({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function Nne(e){return Ws({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function _ne(e){return Ws({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function Sne(e){return Ws({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function kne(e){return Ws({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(e)}function Cne(e){return Ws({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function Pne(e){return Ws({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Ane(e){return Ws({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function Ene(e){return Ws({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}const OI="/innovation/assets/logo-_z4xAUjz.png";function Tne(){const e=new Date().getFullYear(),t=[{icon:s.jsx(_ne,{className:"h-5 w-5"}),url:"https://twitter.com/",label:"Twitter"},{icon:s.jsx(wne,{className:"h-5 w-5"}),url:"https://github.com/",label:"GitHub"},{icon:s.jsx(Nne,{className:"h-5 w-5"}),url:"https://linkedin.com/",label:"LinkedIn"},{icon:s.jsx(jne,{className:"h-5 w-5"}),url:"https://instagram.com/",label:"Instagram"},{icon:s.jsx(Sne,{className:"h-5 w-5"}),url:"https://wa.me/254700000000",label:"WhatsApp"},{icon:s.jsx(kne,{className:"h-5 w-5"}),url:"https://youtube.com/",label:"YouTube"},{icon:s.jsx(bne,{className:"h-5 w-5"}),url:"https://discord.gg/",label:"Discord"}],r=[{label:"Home",path:"/"},{label:"About Us",path:"/about"},{label:"Projects",path:"/projects"},{label:"Events",path:"/events"},{label:"Blog",path:"/blogs"},{label:"Careers",path:"/careers"}],n=[{label:"Join Us",path:"/register"},{label:"Member Login",path:"/login"},{label:"Dashboard",path:"/dashboard"},{label:"Communities",path:"/communities"},{label:"Leaderboard",path:"/leaderboard"}],a=[{label:"Privacy Policy",path:"/privacy"},{label:"Terms of Service",path:"/terms"},{label:"Code of Conduct",path:"/conduct"},{label:"Contact Us",path:"/contact"}],i=[{icon:s.jsx(Pne,{className:"h-4 w-4"}),text:"info@karatinaclub.ac.ke"},{icon:s.jsx(Ene,{className:"h-4 w-4"}),text:"+254 700 000 000"},{icon:s.jsx(Ane,{className:"h-4 w-4"}),text:"Karatina University, Kenya"}],o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}};return s.jsxs("footer",{className:"relative overflow-hidden bg-gradient-to-br from-kic-green-900 via-kic-green-800 to-kic-green-900",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-kic-green-900/95 via-kic-green-800/90 to-kic-green-900/95"}),s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.3%22%3E%3Ccircle%20cx%3D%2230%22%20cy%3D%2230%22%20r%3D%222%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] animate-pulse"})}),s.jsx(ve.div,{animate:{x:[0,100,0],y:[0,-50,0]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 w-32 h-32 bg-gradient-to-br from-kic-green-400/20 to-kic-green-600/10 rounded-full blur-xl"}),s.jsx(ve.div,{animate:{x:[0,-80,0],y:[0,60,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-20 right-20 w-24 h-24 bg-gradient-to-br from-kic-green-300/15 to-kic-green-500/10 rounded-full blur-xl"})]}),s.jsxs(ve.div,{variants:o,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-12 lg:grid-cols-5 lg:gap-8",children:[s.jsxs(ve.div,{variants:l,className:"lg:col-span-2 space-y-8",children:[s.jsxs(st,{to:"/",className:"inline-flex items-center gap-4 group",children:[s.jsxs(ve.div,{whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-kic-green-400/30 to-kic-green-600/30 rounded-xl blur-lg group-hover:blur-xl transition-all duration-300"}),s.jsx("img",{src:OI,alt:"Karatina Innovation Club",className:"relative h-16 w-16 rounded-xl shadow-2xl border-2 border-kic-green-400/30 group-hover:border-kic-green-300/50 transition-all duration-300"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-2xl bg-gradient-to-r from-white via-kic-green-100 to-kic-green-200 bg-clip-text text-transparent",children:"Karatina Innovation Club"}),s.jsx("p",{className:"text-sm text-kic-green-200 mt-1 font-medium",children:"Building Tomorrow's Leaders"})]})]}),s.jsx("p",{className:"text-kic-green-100 leading-relaxed text-base max-w-md",children:"Empowering the next generation of innovators through cutting-edge technology, collaborative learning, and transformative projects that shape the future."}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-white text-lg mb-4",children:"Get In Touch"}),s.jsx("div",{className:"space-y-3",children:i.map((c,u)=>s.jsxs(ve.div,{whileHover:{x:5},className:"flex items-center gap-3 text-sm text-kic-green-100 hover:text-white transition-all duration-300 cursor-pointer group",children:[s.jsx("span",{className:"text-kic-green-400 group-hover:text-kic-green-300 transition-colors duration-300 p-2 bg-kic-green-800/50 rounded-lg group-hover:bg-kic-green-700/50",children:c.icon}),s.jsx("span",{children:c.text})]},u))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white mb-4 text-lg",children:"Connect With Us"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:t.map((c,u)=>s.jsxs(ve.a,{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"group relative p-3 rounded-xl bg-kic-green-800/50 hover:bg-kic-green-700/70 text-kic-green-200 hover:text-white transition-all duration-300 border border-kic-green-700/50 hover:border-kic-green-500/50",whileHover:{scale:1.1,y:-3},whileTap:{scale:.95},"aria-label":c.label,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-kic-green-400/10 to-kic-green-600/10 rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsx("span",{className:"relative z-10",children:c.icon})]},u))})]})]}),s.jsxs(ve.div,{variants:l,className:"space-y-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-white relative pb-3",children:["Quick Links",s.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-1 bg-gradient-to-r from-kic-green-400 to-kic-green-500 rounded-full"})]}),s.jsx("ul",{className:"space-y-3",children:r.map((c,u)=>s.jsx(ve.li,{whileHover:{x:8},transition:{type:"spring",stiffness:400},children:s.jsxs(st,{to:c.path,className:"text-kic-green-100 hover:text-white transition-all duration-300 flex items-center gap-3 group py-1",children:[s.jsx(ve.div,{initial:{opacity:0,scale:0},whileHover:{opacity:1,scale:1},className:"w-1.5 h-1.5 bg-kic-green-400 rounded-full"}),s.jsx("span",{className:"group-hover:text-kic-green-200",children:c.label})]})},u))})]}),s.jsxs(ve.div,{variants:l,className:"space-y-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-white relative pb-3",children:["For Members",s.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-1 bg-gradient-to-r from-kic-green-400 to-kic-green-500 rounded-full"})]}),s.jsx("ul",{className:"space-y-3",children:n.map((c,u)=>s.jsx(ve.li,{whileHover:{x:8},transition:{type:"spring",stiffness:400},children:s.jsxs(st,{to:c.path,className:"text-kic-green-100 hover:text-white transition-all duration-300 flex items-center gap-3 group py-1",children:[s.jsx(ve.div,{initial:{opacity:0,scale:0},whileHover:{opacity:1,scale:1},className:"w-1.5 h-1.5 bg-kic-green-400 rounded-full"}),s.jsx("span",{className:"group-hover:text-kic-green-200",children:c.label})]})},u))})]}),s.jsxs(ve.div,{variants:l,className:"space-y-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-white relative pb-3",children:["Stay Updated",s.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-1 bg-gradient-to-r from-kic-green-400 to-kic-green-500 rounded-full"})]}),s.jsx("p",{className:"text-kic-green-100 text-sm leading-relaxed",children:"Get the latest updates on events, projects, and opportunities delivered to your inbox."}),s.jsxs("form",{className:"space-y-4",children:[s.jsx(re,{type:"email",placeholder:"Enter your email",className:"bg-kic-green-800/50 border-kic-green-600/50 text-white placeholder:text-kic-green-300 focus:border-kic-green-400 focus:ring-2 focus:ring-kic-green-400/30 transition-all duration-300",required:!0}),s.jsxs(M,{type:"submit",className:"w-full bg-gradient-to-r from-kic-green-500 to-kic-green-600 hover:from-kic-green-400 hover:to-kic-green-500 text-white font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 border border-kic-green-400/30 hover:border-kic-green-300/50",children:["Subscribe Now",s.jsx(Cne,{className:"ml-2 h-3 w-3"})]})]}),s.jsx("p",{className:"text-xs text-kic-green-200",children:"We respect your privacy. Unsubscribe at any time."})]})]}),s.jsxs(ve.div,{variants:l,className:"mt-16 pt-8",children:[s.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-kic-green-400/50 to-transparent mb-8"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[s.jsxs("p",{className:"text-sm text-kic-green-200 text-center md:text-left",children:[" ",e," Karatina Innovation Club. Crafted by peter muraya."]}),s.jsx("div",{className:"flex flex-wrap gap-6 justify-center md:justify-end",children:a.map((c,u)=>s.jsx(st,{to:c.path,className:"text-xs text-kic-green-200 hover:text-white transition-colors duration-300 hover:underline underline-offset-4",children:c.label},u))})]})]})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-kic-green-500 via-kic-green-400 to-kic-green-500"})]})}const R=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));R.displayName="Card";const Z=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("flex flex-col space-y-1.5 p-6",e),...t}));Z.displayName="CardHeader";const ee=x.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));ee.displayName="CardTitle";const ut=x.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));ut.displayName="CardDescription";const L=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("p-6 pt-0",e),...t}));L.displayName="CardContent";const oi=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("flex items-center p-6 pt-0",e),...t}));oi.displayName="CardFooter";const One=e=>{const[t,r]=x.useState(!1);return x.useEffect(()=>{const n=window.matchMedia(e);n.matches!==t&&r(n.matches);const a=()=>r(n.matches);return n.addEventListener("change",a),()=>n.removeEventListener("change",a)},[t,e]),t},Mne=e=>({id:`user_${Date.now()}_${Math.random()}`,content:e,isUser:!0,timestamp:new Date,status:"sending"}),Rne=e=>({id:`bot_${Date.now()}_${Math.random()}`,content:e,isUser:!1,timestamp:new Date}),Dne=()=>({id:`error_${Date.now()}`,content:"I apologize, but I'm having trouble connecting right now. Please try again in a moment, or feel free to browse our website for information about KUIC!",isUser:!1,timestamp:new Date,status:"error"}),K1=e=>{var t,r;if(e)return((t=e.user_metadata)==null?void 0:t.name)||((r=e.user_metadata)==null?void 0:r.full_name)},$ne={quickReplies:["how do i join kuic?","what events are coming up?","show me cool projects","help me get started","career opportunities","tell me about communities"],welcomeMessage:e=>e?`hey ${e}!  great to see you here! i'm your enhanced kuic ai assistant. whether you need help navigating the site, want to learn about our latest opportunities, or need technical guidance - i'm here to help you succeed! what can i assist you with today?`:"welcome to kuic!  i'm your intelligent ai assistant, here to help you discover amazing opportunities, connect with fellow innovators, and advance your tech journey. ready to explore what we have to offer? what interests you most?"},Ine=(e,t)=>{const[r,n]=x.useState([]),[a,i]=x.useState(!1),[o]=x.useState(()=>`session_${Date.now()}_${Math.random()}`),l=x.useCallback(()=>{const u=K1(e),d={id:"welcome",content:t.welcomeMessage(u),isUser:!1,timestamp:new Date};n([d])},[e,t]);return{messages:r,isLoading:a,initializeChat:l,sendMessage:async u=>{if(!u.trim()||a)return;const d=Mne(u);n(h=>[...h,d]),i(!0);try{console.log("Sending message to chatbot:",{inputMessage:u,userId:e==null?void 0:e.id,sessionId:o});const h=K1(e),{data:f,error:m}=await A.functions.invoke("chatbot",{body:{message:u,userId:(e==null?void 0:e.id)||null,sessionId:o,userContext:e?{name:h,email:e.email,authenticated:!0}:{authenticated:!1}}});if(m)throw console.error("Chatbot error:",m),m;console.log("Received chatbot response:",f),n(p=>p.map(y=>y.id===d.id?{...y,status:"delivered"}:y));const g=Rne(f.response);n(p=>[...p,g])}catch(h){console.error("Chat error:",h),n(m=>m.map(g=>g.id===d.id?{...g,status:"error"}:g));const f=Dne();n(m=>[...m,f])}finally{i(!1)}},quickReplies:t.quickReplies}},Lne=({onClick:e,isMobile:t})=>s.jsxs(M,{onClick:e,className:ne("fixed shadow-lg transition-all duration-300 hover:scale-105 z-50 group","bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white","shadow-xl hover:shadow-green-500/40",t?"bottom-4 right-4 h-14 w-14 rounded-full":"bottom-6 right-6 h-16 w-16 rounded-full"),size:"icon","aria-label":"Open chat assistant",children:[s.jsx(vo,{className:ne("text-white",t?"h-6 w-6":"h-7 w-7")}),s.jsx(ms,{className:"absolute top-2 right-2 w-3 h-3 text-yellow-300 animate-bounce"}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-full animate-pulse shadow-lg"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-green-400/20 to-yellow-400/20 blur-md group-hover:blur-lg transition-all duration-300"})]}),Fne=({user:e,userName:t,isMobile:r,isMinimized:n,onClose:a,onToggleMinimize:i})=>s.jsxs(Z,{className:ne("flex flex-row items-center justify-between space-y-0 pb-3 relative overflow-hidden","bg-gradient-to-r from-green-600 via-green-700 to-green-800 text-white",r?"px-4 py-4 rounded-t-none":"px-5 py-4 rounded-t-lg","border-b border-green-800 shadow-2xl"),children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-pulse"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-green-400 via-yellow-400 to-green-400"}),s.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:ne("rounded-full bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-sm flex items-center justify-center",r?"w-10 h-10":"w-12 h-12","shadow-xl border-2 border-yellow-400/30"),children:[s.jsx(Py,{className:ne("text-white",r?"h-5 w-5":"h-6 w-6")}),s.jsx(ms,{className:"absolute -top-1 -right-1 w-3 h-3 text-yellow-300 animate-bounce"})]}),s.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-full animate-pulse border-2 border-white shadow-lg"})]}),s.jsxs("div",{children:[s.jsxs(ee,{className:ne("font-bold text-white flex items-center gap-2",r?"text-lg":"text-xl"),children:["kuic assistant",s.jsx("div",{className:"w-2 h-2 bg-yellow-300 rounded-full animate-pulse"})]}),s.jsx("p",{className:"text-sm text-green-100 opacity-90 flex items-center gap-1",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("span",{children:["hello, ",t||"there","!"]}),s.jsx(ms,{className:"w-3 h-3 text-yellow-300"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"ready to help you innovate"}),s.jsx("div",{className:"w-1 h-1 bg-yellow-400 rounded-full animate-pulse"})]})})]})]}),s.jsxs("div",{className:"flex items-center gap-1 relative z-10",children:[!r&&s.jsx(M,{variant:"ghost",size:"icon",onClick:i,className:"h-9 w-9 text-white hover:bg-white/10 transition-all duration-200 rounded-full backdrop-blur-sm border border-white/0 hover:border-yellow-300/50","aria-label":n?"Expand chat":"Minimize chat",children:n?s.jsx(mee,{className:"h-4 w-4"}):s.jsx(xee,{className:"h-4 w-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:a,className:"h-9 w-9 text-white hover:bg-red-500/20 hover:text-red-100 transition-all duration-200 rounded-full backdrop-blur-sm border border-white/0 hover:border-red-300/50","aria-label":"Close chat",children:s.jsx(Kn,{className:"h-4 w-4"})})]})]});var Bne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ke=Bne.reduce((e,t)=>{const r=x.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?ii:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function FS(e,t){e&&ac.flushSync(()=>e.dispatchEvent(t))}var Nr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function Une(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Ur=e=>{const{present:t,children:r}=e,n=zne(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=Ke(n.ref,Vne(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:i}):null};Ur.displayName="Presence";function zne(e){const[t,r]=x.useState(),n=x.useRef({}),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Une(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=sg(n.current);i.current=l==="mounted"?u:"none"},[l]),Nr(()=>{const u=n.current,d=a.current;if(d!==e){const f=i.current,m=sg(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Nr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const p=sg(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},f=m=>{m.target===t&&(i.current=sg(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function sg(e){return(e==null?void 0:e.animationName)||"none"}function Vne(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function qne(e,t){const r=x.createContext(t),n=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function gs(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=h=>{var b;const{scope:f,children:m,...g}=h,p=((b=f==null?void 0:f[e])==null?void 0:b[c])||l,y=x.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Wne(a,...t)]}function Wne(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Lt(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Hne=x.createContext(void 0);function rp(e){const t=x.useContext(Hne);return e||t||"ltr"}function G1(e,[t,r]){return Math.min(r,Math.max(t,e))}function he(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Kne(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var BS="ScrollArea",[MI,p8e]=gs(BS),[Gne,xs]=MI(BS),RI=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[h,f]=x.useState(null),[m,g]=x.useState(null),[p,y]=x.useState(null),[b,v]=x.useState(0),[w,j]=x.useState(0),[N,S]=x.useState(!1),[_,k]=x.useState(!1),C=Ke(t,E=>c(E)),P=rp(a);return s.jsx(Gne,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:y,scrollbarYEnabled:_,onScrollbarYEnabledChange:k,onCornerWidthChange:v,onCornerHeightChange:j,children:s.jsx(ke.div,{dir:P,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});RI.displayName=BS;var DI="ScrollAreaViewport",$I=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:a,nonce:i,...o}=e,l=xs(DI,r),c=x.useRef(null),u=Ke(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),s.jsx(ke.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:sse({asChild:a,children:n},d=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});$I.displayName=DI;var Ca="ScrollAreaScrollbar",US=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=xs(Ca,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Yne,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Xne,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(II,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(zS,{...n,ref:t}):null});US.displayName=Ca;var Yne=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=xs(Ca,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Ur,{present:r||i,children:s.jsx(II,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Xne=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=xs(Ca,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Vy(()=>c("SCROLL_END"),100),[l,c]=Kne("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),s.jsx(Ur,{present:r||l!=="hidden",children:s.jsx(zS,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:he(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:he(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),II=x.forwardRef((e,t)=>{const r=xs(Ca,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=x.useState(!1),l=e.orientation==="horizontal",c=Vy(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Hu(r.viewport,c),Hu(r.content,c),s.jsx(Ur,{present:n||i,children:s.jsx(zS,{"data-state":i?"visible":"hidden",...a,ref:t})})}),zS=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=xs(Ca,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=zI(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return rse(f,o.current,l,m)}return r==="horizontal"?s.jsx(Qne,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,m=mT(f,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):r==="vertical"?s.jsx(Jne,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,m=mT(f,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),Qne=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=xs(Ca,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=Ke(t,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(FI,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zy(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),qI(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Hx(o.paddingLeft),paddingEnd:Hx(o.paddingRight)}})}})}),Jne=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=xs(Ca,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=Ke(t,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(FI,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zy(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),qI(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Hx(o.paddingTop),paddingEnd:Hx(o.paddingBottom)}})}})}),[Zne,LI]=MI(Ca),FI=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=xs(Ca,r),[g,p]=x.useState(null),y=Ke(t,C=>p(C)),b=x.useRef(null),v=x.useRef(""),w=m.viewport,j=n.content-n.viewport,N=Lt(d),S=Lt(c),_=Vy(h,10);function k(C){if(b.current){const P=C.clientX-b.current.left,E=C.clientY-b.current.top;u({x:P,y:E})}}return x.useEffect(()=>{const C=P=>{const E=P.target;(g==null?void 0:g.contains(E))&&N(P,j)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,j,N]),x.useEffect(S,[n,S]),Hu(g,_),Hu(m.content,_),s.jsx(Zne,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Lt(i),onThumbPointerUp:Lt(o),onThumbPositionChange:S,onThumbPointerDown:Lt(l),children:s.jsx(ke.div,{...f,ref:y,style:{position:"absolute",...f.style},onPointerDown:he(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:he(e.onPointerMove,k),onPointerUp:he(e.onPointerUp,C=>{const P=C.target;P.hasPointerCapture(C.pointerId)&&P.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Wx="ScrollAreaThumb",BI=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=LI(Wx,e.__scopeScrollArea);return s.jsx(Ur,{present:r||a.hasThumb,children:s.jsx(ese,{ref:t,...n})})}),ese=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=xs(Wx,r),o=LI(Wx,r),{onThumbPositionChange:l}=o,c=Ke(t,h=>o.onThumbChange(h)),u=x.useRef(),d=Vy(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=nse(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),s.jsx(ke.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:he(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),g=h.clientX-m.left,p=h.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:he(e.onPointerUp,o.onThumbPointerUp)})});BI.displayName=Wx;var VS="ScrollAreaCorner",UI=x.forwardRef((e,t)=>{const r=xs(VS,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(tse,{...e,ref:t}):null});UI.displayName=VS;var tse=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=xs(VS,r),[i,o]=x.useState(0),[l,c]=x.useState(0),u=!!(i&&l);return Hu(a.scrollbarX,()=>{var h;const d=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Hu(a.scrollbarY,()=>{var h;const d=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(ke.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Hx(e){return e?parseInt(e,10):0}function zI(e,t){const r=e/t;return isNaN(r)?0:r}function zy(e){const t=zI(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function rse(e,t,r,n="ltr"){const a=zy(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return VI([c,u],h)(e)}function mT(e,t,r="ltr"){const n=zy(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=G1(e,c);return VI([0,o],[0,l])(u)}function VI(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function qI(e,t){return e>0&&e<t}var nse=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Vy(e,t){const r=Lt(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Hu(e,t){const r=Lt(t);Nr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}function sse(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const a=x.Children.only(n);return x.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var WI=RI,ase=$I,ise=UI;const qy=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(WI,{ref:n,className:ne("relative overflow-hidden",e),...r,children:[s.jsx(ase,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(HI,{}),s.jsx(ise,{})]}));qy.displayName=WI.displayName;const HI=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(US,{ref:n,orientation:t,className:ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(BI,{className:"relative flex-1 rounded-full bg-border"})}));HI.displayName=US.displayName;const ose=({message:e,onComplete:t,speed:r=25,isMobile:n})=>{const[a,i]=x.useState(""),[o,l]=x.useState(0),[c,u]=x.useState(!1),[d,h]=x.useState(!0);return x.useEffect(()=>{if(o<e.length&&!c){const f=setTimeout(()=>{i(m=>m+e[o]),l(m=>m+1)},r);return()=>clearTimeout(f)}else o>=e.length&&!c&&(u(!0),h(!1),t==null||t())},[o,e,r,t,c]),x.useEffect(()=>{if(!c&&d){const f=setInterval(()=>{h(m=>!m)},500);return()=>clearInterval(f)}},[c,d]),s.jsxs("div",{className:"flex items-start gap-3 animate-fade-in",children:[s.jsxs("div",{className:ne("rounded-full bg-gradient-to-br from-green-600 to-green-700 flex items-center justify-center flex-shrink-0 shadow-lg relative",n?"w-8 h-8":"w-9 h-9","ring-2 ring-green-300 ring-opacity-30"),children:[s.jsx(Py,{className:ne("text-white",n?"w-4 h-4":"w-5 h-5")}),s.jsx(ms,{className:"absolute -top-1 -right-1 w-3 h-3 text-yellow-300 animate-bounce"}),!c&&s.jsx("div",{className:"absolute inset-0 rounded-full bg-green-400 animate-pulse opacity-20"})]}),s.jsxs("div",{className:ne("bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-lg relative border border-gray-100 dark:border-gray-700",n?"max-w-[85%] text-sm":"max-w-[80%] text-sm","backdrop-blur-sm"),children:[s.jsx("div",{className:"relative",children:s.jsxs("p",{className:"whitespace-pre-wrap leading-relaxed text-gray-900 dark:text-gray-100",children:[a,!c&&d&&s.jsx("span",{className:"inline-block w-0.5 h-5 bg-gradient-to-b from-green-600 to-green-700 ml-1 animate-pulse"})]})}),c&&s.jsxs("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-gray-100 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-green-500 to-yellow-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"kuic assistant"})]}),s.jsx("p",{className:ne("text-xs text-gray-500 dark:text-gray-400",n?"text-[10px]":"text-xs"),children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.jsx("div",{className:"absolute -bottom-2 -left-2 w-4 h-4 bg-white dark:bg-gray-800 border-l border-b border-gray-100 dark:border-gray-700 transform rotate-45"})]})]})},lse=({message:e,isRecording:t,isMobile:r,showTypingEffect:n=!1,onTypingComplete:a})=>!e.isUser&&n?s.jsx(ose,{message:e.content,onComplete:a,speed:20,isMobile:r}):s.jsxs("div",{className:ne("flex items-start gap-3 animate-fade-in group",e.isUser?"justify-end":"justify-start"),children:[!e.isUser&&s.jsxs("div",{className:ne("rounded-full bg-gradient-to-br from-green-600 to-green-700 flex items-center justify-center flex-shrink-0 shadow-lg relative",r?"w-8 h-8":"w-9 h-9","ring-2 ring-green-300 ring-opacity-30 group-hover:ring-opacity-50 transition-all duration-200"),children:[s.jsx(Py,{className:ne("text-white",r?"w-4 h-4":"w-5 h-5")}),s.jsx(ms,{className:"absolute -top-1 -right-1 w-3 h-3 text-yellow-300 animate-bounce"})]}),s.jsxs("div",{className:ne("rounded-2xl p-4 relative transition-all duration-300 shadow-lg backdrop-blur-sm",r?"max-w-[85%] text-sm":"max-w-[80%] text-sm",e.isUser?"bg-gradient-to-br from-green-600 via-green-700 to-green-800 text-white ml-auto shadow-green-200":"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-100 dark:border-gray-700",e.status==="error"&&"border-2 border-red-400 bg-red-50 dark:bg-red-900/20",t&&"ring-2 ring-yellow-400 ring-opacity-50 animate-pulse","hover:shadow-xl transform hover:scale-[1.02] group-hover:translate-y-[-2px]"),children:[s.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:e.content}),s.jsxs("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-opacity-20 border-gray-300 dark:border-gray-600",children:[s.jsx("div",{className:"flex items-center gap-2",children:!e.isUser&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-green-500 to-yellow-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs opacity-70",children:"kuic assistant"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:ne("text-xs opacity-70",r?"text-[10px]":"text-xs"),children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),e.isUser&&s.jsxs("span",{className:"text-xs opacity-70",children:[e.status==="sending"&&s.jsx(lc,{className:"h-3 w-3 animate-spin"}),e.status==="error"&&s.jsx(An,{className:"h-3 w-3 text-red-300"}),e.status==="delivered"&&s.jsx(ree,{className:"h-3 w-3 text-green-300"})]})]})]}),e.isUser?s.jsx("div",{className:"absolute -bottom-2 -right-2 w-4 h-4 bg-gradient-to-br from-green-600 via-green-700 to-green-800 transform rotate-45"}):s.jsx("div",{className:"absolute -bottom-2 -left-2 w-4 h-4 bg-white dark:bg-gray-800 border-l border-b border-gray-100 dark:border-gray-700 transform rotate-45"})]}),e.isUser&&s.jsx("div",{className:ne("rounded-full bg-gradient-to-br from-gray-400 to-gray-600 dark:from-gray-500 dark:to-gray-700 flex items-center justify-center flex-shrink-0 shadow-lg",r?"w-8 h-8":"w-9 h-9","ring-2 ring-gray-300 ring-opacity-30 group-hover:ring-opacity-50 transition-all duration-200"),children:s.jsx(ir,{className:ne("text-white",r?"w-4 h-4":"w-5 h-5")})})]}),cse=({isMobile:e})=>s.jsxs("div",{className:"flex items-start gap-3 animate-fade-in",children:[s.jsxs("div",{className:ne("rounded-full bg-gradient-to-br from-green-600 to-green-700 flex items-center justify-center flex-shrink-0 shadow-lg relative overflow-hidden",e?"w-8 h-8":"w-9 h-9","ring-2 ring-green-300 ring-opacity-30"),children:[s.jsx(Py,{className:ne("text-white z-10",e?"w-4 h-4":"w-5 h-5")}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-20 animate-pulse"}),s.jsx(ms,{className:"absolute top-1 right-1 w-2 h-2 text-yellow-300 animate-bounce"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-lg border border-gray-100 dark:border-gray-700 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex space-x-1",children:[0,.2,.4].map((t,r)=>s.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-green-600 to-green-700 rounded-full animate-bounce",style:{animationDelay:`${t}s`}},r))}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 animate-pulse",children:"kuic assistant is thinking..."})]}),s.jsx("div",{className:"mt-3 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1 overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 via-yellow-400 to-green-600 rounded-full animate-pulse",style:{width:"60%"}})})]})]}),use=({replies:e,onSelect:t,isMobile:r})=>s.jsxs("div",{className:ne("border-t border-gray-200 dark:border-gray-700 bg-gradient-to-b from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",r?"px-3 py-4":"px-4 py-4"),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Ro,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"quick suggestions"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((n,a)=>s.jsxs(M,{variant:"outline",size:"sm",className:ne("rounded-full bg-white hover:bg-gradient-to-r hover:from-green-50 hover:to-yellow-50 border-gray-200 hover:border-green-300 transition-all duration-300","dark:bg-gray-800 dark:hover:bg-gradient-to-r dark:hover:from-green-900/20 dark:hover:to-yellow-900/20 dark:border-gray-700 dark:hover:border-green-600","text-gray-700 dark:text-gray-300 hover:text-green-700 dark:hover:text-green-400","group relative overflow-hidden shadow-sm hover:shadow-md",r?"text-xs h-8 px-3":"text-xs h-9 px-4","transform hover:scale-105 active:scale-95"),onClick:()=>t(n),style:{animationDelay:`${a*100}ms`},children:[s.jsxs("span",{className:"relative z-10 flex items-center gap-1",children:[n,s.jsx(PS,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400 via-yellow-400 to-green-600 opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]},n))}),s.jsx("div",{className:"mt-3 text-center",children:s.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"or type your own question below"})})]}),dse=({inputRef:e,value:t,onChange:r,onKeyPress:n,isLoading:a,onSend:i,isMobile:o})=>s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-gradient-to-b from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 p-4",children:[s.jsxs("div",{className:"flex gap-3 items-end",children:[s.jsxs(M,{variant:"ghost",size:"icon",className:ne("text-gray-500 hover:bg-green-50 hover:text-green-600 dark:hover:bg-green-900/20 dark:hover:text-green-400 transition-all duration-200 flex-shrink-0",o?"h-9 w-9":"h-10 w-10","group relative overflow-hidden"),"aria-label":"Attach file",children:[s.jsx(yee,{className:"h-4 w-4 group-hover:rotate-12 transition-transform duration-200"}),s.jsx("div",{className:"absolute inset-0 bg-green-500 opacity-0 group-hover:opacity-10 transition-opacity duration-200"})]}),s.jsx(M,{variant:"ghost",size:"icon",className:ne("text-gray-500 hover:bg-yellow-50 hover:text-yellow-600 dark:hover:bg-yellow-900/20 dark:hover:text-yellow-400 transition-all duration-200 flex-shrink-0",o?"h-9 w-9":"h-10 w-10","group relative overflow-hidden"),"aria-label":"Add emoji",children:s.jsx(Nee,{className:"h-4 w-4 group-hover:scale-110 transition-transform duration-200"})}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(re,{ref:e,value:t,onChange:l=>r(l.target.value),onKeyPress:n,placeholder:"ask me anything about kuic...",className:ne("pr-12 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 shadow-sm","focus:border-green-500 focus:ring-green-500/20 focus:shadow-md","rounded-full transition-all duration-200 placeholder:text-gray-400",o?"text-sm py-3 h-11":"text-sm py-3 h-12"),disabled:a}),t.length>0&&s.jsxs("div",{className:"absolute -bottom-5 right-2 text-xs text-gray-400",children:[t.length,"/500"]})]}),s.jsx(M,{variant:"ghost",size:"icon",className:ne("text-gray-500 hover:bg-blue-50 hover:text-blue-600 dark:hover:bg-blue-900/20 dark:hover:text-blue-400 transition-all duration-200 flex-shrink-0",o?"h-9 w-9":"h-10 w-10","group relative overflow-hidden"),"aria-label":"Voice input",children:s.jsx(gee,{className:"h-4 w-4 group-hover:scale-110 transition-transform duration-200"})}),s.jsxs(M,{onClick:i,disabled:!t.trim()||a,size:"icon",className:ne("rounded-full shadow-lg transition-all duration-300 transform flex-shrink-0","bg-gradient-to-r from-green-600 via-green-700 to-green-800 hover:from-green-700 hover:via-green-800 hover:to-green-900","disabled:from-gray-300 disabled:to-gray-400 dark:disabled:from-gray-600 dark:disabled:to-gray-700","hover:scale-110 active:scale-95 disabled:scale-100","hover:shadow-green-300 hover:shadow-xl",o?"h-9 w-9":"h-10 w-10","group relative overflow-hidden"),"aria-label":"Send message",children:[a?s.jsx(lc,{className:"h-4 w-4 animate-spin"}):s.jsx(Od,{className:"h-4 w-4 group-hover:translate-x-0.5 transition-transform duration-200"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-yellow-300/20 opacity-0 group-active:opacity-100 transition-opacity duration-150 rounded-full"})]})]}),s.jsx("div",{className:"flex items-center justify-center mt-2",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-green-500 to-yellow-500 rounded-full animate-pulse"}),s.jsx("span",{children:"kuic assistant is online"})]})})]}),hse=({messages:e,isLoading:t,quickReplies:r,inputMessage:n,isRecording:a,isMobile:i,typingMessageId:o,onInputChange:l,onKeyPress:c,onSendMessage:u,onQuickReply:d,onTypingComplete:h})=>{const f=x.useRef(null),m=x.useRef(null);return x.useEffect(()=>{f.current&&f.current.scrollIntoView({behavior:"smooth"})},[e,o]),s.jsxs(L,{className:"flex-1 flex flex-col p-0 overflow-hidden bg-gray-50 dark:bg-gray-900",children:[s.jsx(qy,{className:ne("flex-1",i?"px-4 py-4":"px-6 py-6"),children:s.jsxs("div",{className:"space-y-4",children:[e.map((g,p)=>s.jsx(lse,{message:g,isRecording:a,isMobile:i,showTypingEffect:!g.isUser&&g.id===o&&p===e.length-1,onTypingComplete:h},g.id)),t&&s.jsx(cse,{isMobile:i}),s.jsx("div",{ref:f})]})}),e.length===1&&s.jsx(use,{replies:r,onSelect:d,isMobile:i}),s.jsx(dse,{inputRef:m,value:n,onChange:l,onKeyPress:c,isLoading:t,onSend:u,isMobile:i})]})},fse=()=>{var E;const{user:e}=ye();xe();const t=One("(max-width: 768px)"),r=e?{id:e.id,email:e.email,user_metadata:e.user_metadata,avatar_url:(E=e.user_metadata)==null?void 0:E.avatar_url}:null,{messages:n,isLoading:a,initializeChat:i,sendMessage:o,quickReplies:l}=Ine(r,$ne),[c,u]=x.useState(!1),[d,h]=x.useState(""),[f,m]=x.useState(!1),[g,p]=x.useState(!1),[y,b]=x.useState(null),v=n.filter(T=>!T.isUser).pop(),w=v&&v.id!==y,j=()=>{d.trim()&&(o(d),h(""))},N=T=>{h(T),t&&j()},S=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),j())},_=()=>{const T=!c;u(T),p(!1),T&&i()},k=()=>{p(T=>!T)},C=()=>{v&&b(v.id)},P=K1(r);return c?s.jsxs(R,{className:ne("fixed shadow-xl z-50 flex flex-col transition-all duration-300 bg-white dark:bg-gray-900",t?["inset-0 w-full h-full max-h-none rounded-none"]:["bottom-6 right-6 rounded-lg","w-96 h-[600px]",g&&"h-16"]),children:[s.jsx(Fne,{user:e,userName:P,isMobile:t,isMinimized:g,onClose:_,onToggleMinimize:k}),!g&&s.jsx(hse,{messages:n,isLoading:a,quickReplies:l,inputMessage:d,isRecording:f,isMobile:t,typingMessageId:w?v==null?void 0:v.id:null,onInputChange:h,onKeyPress:S,onSendMessage:j,onQuickReply:N,onTypingComplete:C})]}):s.jsx(Lne,{onClick:_,isMobile:t})},mse=()=>{const{user:e}=ye();return x.useEffect(()=>{if(!e)return;(async()=>{try{const{data:n,error:a}=await A.rpc("track_website_visit",{user_id_param:e.id});a?console.error("Error tracking website visit:",a):n&&console.log("Daily website visit tracked and points awarded")}catch(n){console.error("Error in website visit tracking:",n)}})()},[e]),{awardPoints:async(r,n,a)=>{if(e)try{const{error:i}=await A.rpc("award_activity_points",{user_id_param:e.id,activity_type_param:r,source_id_param:n||null,description_param:a||null});if(i)throw i;console.log(`Points awarded for ${r}`)}catch(i){console.error("Error awarding points:",i)}}}};function pse({children:e}){return console.log("Layout component rendering"),mse(),s.jsxs("div",{className:"flex flex-col min-h-screen bg-background w-full",children:[s.jsx(hne,{}),s.jsx("main",{className:"flex-grow w-full",children:e}),s.jsx(Tne,{}),s.jsx(fse,{})]})}const uw=768;function gse(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${uw-1}px)`),n=()=>{t(window.innerWidth<uw)};return r.addEventListener("change",n),t(window.innerWidth<uw),()=>r.removeEventListener("change",n)},[]),!!e}function xse({scrollY:e}){return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute inset-0 opacity-20 sm:opacity-30",style:{transform:`translateY(${e*.5}px)`},children:[s.jsx("div",{className:"absolute top-5 sm:top-10 left-5 sm:left-10 w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 bg-green-400/20 rounded-full animate-pulse"}),s.jsx("div",{className:"absolute top-16 sm:top-32 right-10 sm:right-20 w-10 h-10 sm:w-12 sm:h-12 lg:w-16 lg:h-16 bg-yellow-400/20 rounded-full animate-bounce"}),s.jsx("div",{className:"absolute bottom-10 sm:bottom-20 left-1/4 w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-green-300/20 rounded-full animate-ping"}),s.jsx("div",{className:"absolute top-1/2 right-1/3 w-6 h-6 sm:w-8 sm:h-8 bg-yellow-300/20 rounded-full animate-pulse"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-green-900/50 to-green-900/80"}),s.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(window.innerWidth<768?10:20)].map((t,r)=>s.jsx("div",{className:"absolute w-0.5 h-0.5 sm:w-1 sm:h-1 bg-green-300/40 rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*3}s`}},r))})]})}const vse=({words:e,className:t="",typingSpeed:r=100,deletingSpeed:n=50,pauseDuration:a=2e3})=>{const[i,o]=x.useState(0),[l,c]=x.useState(""),[u,d]=x.useState(!1);return x.useEffect(()=>{const h=e[i],f=setTimeout(()=>{u?l.length>0?c(l.slice(0,-1)):(d(!1),o(m=>(m+1)%e.length)):l.length<h.length?c(h.slice(0,l.length+1)):setTimeout(()=>d(!0),a)},u?n:r);return()=>clearTimeout(f)},[l,u,i,e,r,n,a]),s.jsxs("span",{className:t,children:[l,s.jsx("span",{className:"animate-pulse",children:"|"})]})};function yse({isVisible:e,typingWords:t,isMobile:r}){return s.jsxs("div",{className:"space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsxs("div",{className:`inline-flex items-center gap-2 sm:gap-3 px-3 sm:px-4 lg:px-6 py-2 sm:py-3 rounded-full bg-gradient-to-r from-green-500/20 to-yellow-500/20 border-2 border-green-400/40 backdrop-blur-sm shadow-lg transition-all duration-700 hover:shadow-green-400/25 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[s.jsx(qn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-400 fill-yellow-400 animate-pulse"}),s.jsx("span",{className:"text-green-100 text-xs sm:text-sm font-semibold tracking-wide",children:"Karatina University Innovation Club"}),s.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-400 rounded-full animate-pulse"})]}),s.jsxs("div",{className:`space-y-3 sm:space-y-4 lg:space-y-6 transition-all duration-700 delay-200 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl 2xl:text-8xl font-bold leading-tight",children:[s.jsx("span",{className:"block text-white drop-shadow-lg",children:"Revealing the"}),s.jsx("span",{className:"block text-white drop-shadow-lg",children:"Treasures of"}),s.jsx("span",{className:"block bg-gradient-to-r from-green-300 via-yellow-300 to-green-400 bg-clip-text text-transparent filter drop-shadow-2xl",children:s.jsx(vse,{words:t,className:"inline-block min-h-[1.2em]",typingSpeed:r?100:120,deletingSpeed:r?60:80,pauseDuration:r?2e3:2500})})]}),s.jsxs("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-green-50/95 max-w-2xl leading-relaxed font-medium",children:["Dream, Create and Inspire for a Better Future. Join our community of innovators",s.jsx("span",{className:"text-yellow-300 font-semibold",children:" shaping tomorrow's technology"}),"."]})]})]})}function bse({isVisible:e,isMobile:t}){return s.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 sm:gap-6 transition-all duration-700 delay-400 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[s.jsx(M,{size:t?"default":"lg",asChild:!0,className:"group relative bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-6 sm:px-8 lg:px-10 py-3 sm:py-4 lg:py-7 text-base sm:text-lg font-bold rounded-xl sm:rounded-2xl shadow-2xl hover:shadow-green-500/40 transition-all duration-300 overflow-hidden border-2 border-green-400/30 w-full sm:w-auto",children:s.jsxs(st,{to:"/register",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),s.jsx(ms,{className:"mr-2 sm:mr-3 w-4 h-4 sm:w-5 sm:h-5 group-hover:rotate-12 transition-transform"}),"Join Our Community",s.jsx(PS,{className:"ml-2 sm:ml-3 w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform"})]})}),s.jsx(M,{size:t?"default":"lg",variant:"outline",asChild:!0,className:"group bg-gradient-to-r from-yellow-500/10 to-green-500/10 backdrop-blur-sm border-2 border-yellow-400/50 text-yellow-200 hover:bg-gradient-to-r hover:from-yellow-500/20 hover:to-green-500/20 hover:border-yellow-300 px-6 sm:px-8 lg:px-10 py-3 sm:py-4 lg:py-7 text-base sm:text-lg font-bold rounded-xl sm:rounded-2xl shadow-xl hover:shadow-yellow-400/25 transition-all duration-300 w-full sm:w-auto",children:s.jsx(st,{to:"/about",children:"Learn More About Us"})})]})}function wse({isVisible:e,isMobile:t}){const r=[{icon:Oe,title:"Tech Community",description:"Connect with like-minded innovators",color:"from-green-400 to-green-500"},{icon:Gm,title:"Code & Create",description:"Build amazing projects together",color:"from-yellow-400 to-yellow-500"},{icon:Ey,title:"Innovation Hub",description:"Transform ideas into reality",color:"from-green-400 to-yellow-400"},{icon:Wt,title:"Compete & Win",description:"Showcase your skills and achievements",color:"from-yellow-500 to-green-500"},{icon:Ro,title:"Fast Track",description:"Accelerate your tech career",color:"from-green-500 to-emerald-500"},{icon:My,title:"Goal Oriented",description:"Achieve your technology dreams",color:"from-yellow-400 to-amber-500"}];return s.jsx("div",{className:`grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4 pt-6 sm:pt-8 lg:pt-12 transition-all duration-700 delay-600 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.map((n,a)=>s.jsxs("div",{className:"group relative p-3 sm:p-4 lg:p-5 rounded-xl sm:rounded-2xl bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-sm border-2 border-green-400/20 hover:border-yellow-400/40 transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-green-400/20",children:[s.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-lg sm:rounded-xl bg-gradient-to-r ${n.color} flex items-center justify-center mb-2 sm:mb-3 lg:mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:s.jsx(n.icon,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-white"})}),s.jsx("h3",{className:"font-bold text-white mb-1 sm:mb-2 text-sm sm:text-base lg:text-lg",children:n.title}),s.jsx("p",{className:"text-xs sm:text-sm text-green-100/80 leading-relaxed",children:n.description}),s.jsx("div",{className:"absolute inset-0 rounded-xl sm:rounded-2xl bg-gradient-to-br from-green-400/5 to-yellow-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]},a))})}const Si=[{src:"https://images.unsplash.com/photo-1531482615713-2afd69097998?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80",alt:"Innovation and technology",icon:s.jsx(Ro,{className:"w-4 h-4 sm:w-6 sm:h-6 lg:w-8 lg:h-8"}),title:"Cutting-Edge Technology"},{src:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80",alt:"Team collaboration",icon:s.jsx(Oe,{className:"w-4 h-4 sm:w-6 sm:h-6 lg:w-8 lg:h-8"}),title:"Collaborative Teams"},{src:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80",alt:"Creative workspace",icon:s.jsx(Ey,{className:"w-4 h-4 sm:w-6 sm:h-6 lg:w-8 lg:h-8"}),title:"Creative Spaces"},{src:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80",alt:"Coding and development",icon:s.jsx(Gm,{className:"w-4 h-4 sm:w-6 sm:h-6 lg:w-8 lg:h-8"}),title:"Code The Future"}];function jse({isVisible:e,isMobile:t}){const[r,n]=x.useState(0),a=x.useRef(),i=()=>{a.current=setInterval(()=>{n(d=>(d+1)%Si.length)},t?4e3:5e3)};x.useEffect(()=>(i(),()=>{a.current&&clearInterval(a.current)}),[t]);const o=()=>{n(d=>d===0?Si.length-1:d-1),c()},l=()=>{n(d=>(d+1)%Si.length),c()},c=()=>{a.current&&clearInterval(a.current),i()},u=d=>{n(d),c()};return s.jsx("div",{className:`relative transition-all duration-700 delay-500 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,children:s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative aspect-square sm:aspect-video rounded-2xl sm:rounded-3xl overflow-hidden border border-emerald-400/20 shadow-2xl",children:[s.jsxs("div",{className:"absolute inset-0 w-full h-full transition-transform duration-500 ease-in-out",children:[s.jsx("img",{src:Si[r].src,alt:Si[r].alt,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-emerald-900/70 via-transparent to-emerald-500/30"}),s.jsxs("div",{className:"absolute bottom-3 left-3 sm:bottom-6 sm:left-6 lg:bottom-8 lg:left-8 bg-gradient-to-br from-emerald-500/20 to-emerald-800/30 backdrop-blur-lg p-3 sm:p-4 lg:p-6 rounded-xl sm:rounded-2xl border border-emerald-400/30 shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-1 sm:mb-2",children:[s.jsx("div",{className:"p-1 sm:p-2 bg-emerald-500/20 rounded-md sm:rounded-lg",children:Si[r].icon}),s.jsx("h3",{className:"text-sm sm:text-lg lg:text-2xl font-bold text-white",children:Si[r].title})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(_ee,{className:"w-3 h-3 sm:w-4 sm:h-4 text-emerald-300"}),s.jsx("span",{className:"text-emerald-100 text-xs sm:text-sm",children:"Innovation in progress"})]})]})]}),s.jsx(M,{variant:"ghost",size:"icon",className:"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 bg-white/5 backdrop-blur-lg border border-emerald-400/30 text-white hover:bg-emerald-500/30 transition-all duration-200 shadow-lg hover:shadow-emerald-400/20 group w-8 h-8 sm:w-10 sm:h-10",onClick:o,children:s.jsx(nee,{className:"w-4 h-4 sm:w-6 sm:h-6 group-hover:scale-110 transition-transform"})}),s.jsx(M,{variant:"ghost",size:"icon",className:"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 bg-white/5 backdrop-blur-lg border border-emerald-400/30 text-white hover:bg-emerald-500/30 transition-all duration-200 shadow-lg hover:shadow-emerald-400/20 group w-8 h-8 sm:w-10 sm:h-10",onClick:l,children:s.jsx(G$,{className:"w-4 h-4 sm:w-6 sm:h-6 group-hover:scale-110 transition-transform"})})]}),s.jsx("div",{className:"flex justify-center mt-4 sm:mt-6 lg:mt-8 gap-2 sm:gap-3",children:Si.map((d,h)=>s.jsxs("button",{className:"flex flex-col items-center group",onClick:()=>u(h),children:[s.jsx("div",{className:"relative w-8 sm:w-10 lg:w-12 h-0.5 sm:h-1 bg-emerald-400/20 rounded-full overflow-hidden",children:s.jsx("div",{className:`absolute top-0 left-0 h-full bg-emerald-400 transition-all duration-300 ${h===r?"w-full opacity-100":"w-0 opacity-50"}`})}),s.jsx("div",{className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full mt-1 sm:mt-2 transition-all duration-300 ${h===r?"bg-emerald-400 scale-150":"bg-emerald-400/30 group-hover:bg-emerald-400/50"}`})]},h))}),!t&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute -top-4 sm:-top-6 -right-4 sm:-right-6 w-16 h-16 sm:w-20 sm:h-20 lg:w-28 lg:h-28 bg-emerald-400/10 rounded-xl sm:rounded-2xl backdrop-blur-lg border border-emerald-300/30 flex items-center justify-center animate-float-slow",children:s.jsx("span",{className:"text-emerald-300 text-lg sm:text-2xl lg:text-3xl",children:""})}),s.jsxs("div",{className:"absolute -bottom-4 sm:-bottom-6 -left-4 sm:-left-6 w-24 h-16 sm:w-32 sm:h-20 lg:w-40 lg:h-24 bg-white/10 rounded-xl sm:rounded-2xl backdrop-blur-lg border border-emerald-300/30 p-2 sm:p-3 lg:p-4 animate-float-medium",children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-emerald-400 animate-pulse"}),s.jsx("div",{className:"text-emerald-100 text-xs sm:text-sm font-medium",children:"Live Metrics"})]}),s.jsxs("div",{className:"flex justify-between items-center mt-0.5 sm:mt-1",children:[s.jsx("div",{className:"text-white text-sm sm:text-lg font-bold",children:"98%"}),s.jsx("div",{className:"text-xs text-emerald-300 bg-emerald-900/30 px-1 sm:px-2 py-0.5 sm:py-1 rounded-full",children:"+2.4%"})]})]})]})]})})}function Nse({isVisible:e,isMobile:t}){return s.jsx(jse,{isVisible:e,isMobile:t})}function _se({isVisible:e,typingWords:t,isMobile:r}){return s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center",children:[s.jsxs("div",{className:"space-y-6 sm:space-y-8 order-2 lg:order-1",children:[s.jsx(yse,{isVisible:e,typingWords:t,isMobile:r}),s.jsx(bse,{isVisible:e,isMobile:r}),s.jsx(wse,{isVisible:e,isMobile:r})]}),s.jsx("div",{className:"order-1 lg:order-2",children:s.jsx(Nse,{isVisible:e,isMobile:r})})]})})}function Sse({scrollToNextSection:e}){return s.jsx("div",{className:"flex justify-center mt-12 sm:mt-16 lg:mt-20",children:s.jsxs("button",{onClick:e,className:"group flex flex-col items-center text-green-200 hover:text-green-100 transition-all duration-300 transform hover:scale-105","aria-label":"Scroll to next section",children:[s.jsxs("div",{className:"relative mb-3 sm:mb-4",children:[s.jsx("div",{className:"w-5 h-8 sm:w-6 sm:h-10 border-2 border-green-300/60 rounded-full relative overflow-hidden",children:s.jsx("div",{className:"w-0.5 h-2 sm:w-1 sm:h-3 bg-gradient-to-b from-green-400 to-yellow-400 rounded-full absolute left-1/2 top-1.5 sm:top-2 transform -translate-x-1/2 animate-bounce"})}),s.jsx(nI,{className:"w-3 h-3 sm:w-4 sm:h-4 absolute -right-1.5 sm:-right-2 -top-0.5 sm:-top-1 text-yellow-400 opacity-70 animate-pulse"})]}),s.jsx("span",{className:"text-xs sm:text-sm font-semibold mb-2 sm:mb-3 tracking-wide",children:"Explore More"}),s.jsxs("div",{className:"relative",children:[s.jsx(Km,{className:"w-5 h-5 sm:w-6 sm:h-6 animate-bounce group-hover:translate-y-1 transition-transform"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-green-400/20 to-yellow-400/20 rounded-full blur-sm group-hover:blur-md transition-all duration-300"})]}),s.jsx("div",{className:"w-px h-6 sm:h-8 bg-gradient-to-b from-green-400 to-transparent mt-2 opacity-60"})]})})}function kse(){const e=gse(),[t,r]=x.useState(0),[n,a]=x.useState(!1),i=["Innovation","Technology","Creativity","Future","Excellence"];x.useEffect(()=>{const l=()=>r(window.scrollY),c=setTimeout(()=>a(!0),200);return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l),clearTimeout(c)}},[]);const o=()=>{const l=document.getElementById("stats-section");l&&l.scrollIntoView({behavior:"smooth"})};return s.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-green-900 via-green-800 to-yellow-900",children:[s.jsx(xse,{scrollY:t}),s.jsxs("div",{className:"relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:[s.jsx(_se,{isVisible:n,typingWords:i,isMobile:e}),s.jsx(Sse,{scrollToNextSection:o})]}),s.jsx("div",{className:"absolute bottom-0 left-0 w-full overflow-hidden leading-none",children:s.jsxs("svg",{className:"relative block w-full h-16 sm:h-24 lg:h-32","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",style:{transform:`translateY(${t*.1}px)`},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"waveGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:"#f8fafc"}),s.jsx("stop",{offset:"50%",stopColor:"#f0fdf4"}),s.jsx("stop",{offset:"100%",stopColor:"#fefce8"})]})}),s.jsx("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z",fill:"url(#waveGradient)"})]})})]})}function Cse(){return s.jsx("section",{className:"py-16 bg-gradient-to-br from-innovation-800 to-innovation-950 text-white",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"font-bold text-white mb-2",children:"Our Impact"}),s.jsx("p",{className:"text-innovation-100 max-w-2xl mx-auto",children:"Building the next generation of tech leaders through community, education and innovation"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold mb-2",children:"500+"}),s.jsx("p",{className:"text-innovation-200",children:"Active Members"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold mb-2",children:"50+"}),s.jsx("p",{className:"text-innovation-200",children:"Completed Projects"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold mb-2",children:"30+"}),s.jsx("p",{className:"text-innovation-200",children:"Events Per Year"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold mb-2",children:"15+"}),s.jsx("p",{className:"text-innovation-200",children:"Industry Partners"})]})]})]})})}const Pse=Zm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function H({className:e,variant:t,...r}){return s.jsx("div",{className:ne(Pse({variant:t}),e),...r})}function Ua({className:e,...t}){return s.jsx("div",{className:ne("animate-pulse rounded-md bg-muted",e),...t})}function Ase(){const[e,t]=x.useState([]),[r,n]=x.useState(!0);x.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:i,error:o}=await A.from("featured_projects_home").select("*");if(o)throw o;t(i||[])}catch(i){console.error("Error fetching featured projects:",i)}finally{n(!1)}};return r?s.jsx("section",{className:"pt-8 pb-16 bg-white -mt-32 relative z-10",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-12",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold mb-2",children:"Featured Projects"}),s.jsx("p",{className:"text-gray-600",children:"Explore innovative projects by our members"})]}),s.jsx(M,{asChild:!0,className:"mt-4 sm:mt-0",children:s.jsx(st,{to:"/projects",children:"View All Projects"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((i,o)=>s.jsxs(R,{className:"overflow-hidden",children:[s.jsx(Ua,{className:"aspect-video w-full"}),s.jsxs(Z,{children:[s.jsx(Ua,{className:"h-6 w-3/4"}),s.jsx(Ua,{className:"h-4 w-1/2"})]}),s.jsxs(L,{children:[s.jsx(Ua,{className:"h-4 w-full mb-2"}),s.jsx(Ua,{className:"h-4 w-2/3"})]})]},o))})]})}):s.jsx("section",{className:"pt-8 pb-16 bg-white -mt-32 relative z-10",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-12",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold mb-2",children:"Featured Projects"}),s.jsx("p",{className:"text-gray-600",children:"Explore innovative projects by our members"})]}),s.jsx(M,{asChild:!0,className:"mt-4 sm:mt-0",children:s.jsx(st,{to:"/projects",children:"View All Projects"})})]}),e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"No featured projects available at the moment."}),s.jsx(M,{asChild:!0,children:s.jsx(st,{to:"/projects",children:"Browse All Projects"})})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>s.jsxs(R,{className:"card-hover overflow-hidden transform transition-all duration-300 hover:scale-105",children:[s.jsx("div",{className:"aspect-video w-full overflow-hidden",children:s.jsx("img",{src:i.thumbnail_url||"https://images.unsplash.com/photo-1498050108023-c5249f4df085?fit=crop&w=600&h=350",alt:i.title,className:"w-full h-full object-cover transition-transform hover:scale-105"})}),s.jsxs(Z,{children:[s.jsx(ee,{className:"text-xl",children:i.title}),s.jsxs(ut,{children:["By ",i.author_name||"Anonymous"]})]}),s.jsxs(L,{children:[s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:i.description}),i.tech_tags&&i.tech_tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.tech_tags.slice(0,3).map((o,l)=>s.jsx(H,{variant:"secondary",children:o},l)),i.tech_tags.length>3&&s.jsxs(H,{variant:"outline",children:["+",i.tech_tags.length-3," more"]})]})]}),s.jsxs(oi,{className:"flex justify-between",children:[s.jsx(st,{to:"/projects",className:"text-primary hover:underline font-medium",children:"View Details"}),i.github_url&&s.jsxs("a",{href:i.github_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-gray-600 hover:text-gray-900",children:[s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),s.jsx("span",{children:"GitHub"})]})]})]},i.id))})]})})}const KI=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),{toast:a}=xe(),i=async()=>{console.log("useEventsData: Starting fetchEvents");try{const{data:l,error:c}=await A.from("events").select("*").eq("is_published",!0).order("date",{ascending:!0});if(c)throw c;console.log("useEventsData: Fetched events data:",(l==null?void 0:l.length)||0,"events"),t(l||[])}catch(l){console.error("Error fetching events:",l),a({title:"Error",description:"Failed to load events",variant:"destructive"})}finally{n(!1)}};return x.useEffect(()=>{console.log("useEventsData: Hook mounted, starting data fetch"),i()},[]),{events:e,loading:r,refreshData:()=>{console.log("useEventsData: Refreshing events data"),n(!0),i()}}};function Ese(){const{events:e,loading:t}=KI(),r=new Date,n=e.filter(l=>new Date(l.date)>=r).slice(0,3),a=l=>{const c=l.title.toLowerCase();return c.includes("workshop")?"Workshop":c.includes("hackathon")?"Hackathon":c.includes("career")||c.includes("job")?"Career":c.includes("meetup")?"Meetup":c.includes("conference")?"Conference":"Event"},i=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),o=l=>new Date(l).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return t?s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-12",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold mb-2",children:"Upcoming Events"}),s.jsx("p",{className:"text-gray-600",children:"Join our workshops, hackathons, and tech talks"})]}),s.jsx(M,{variant:"outline",asChild:!0,className:"mt-4 sm:mt-0",children:s.jsx(st,{to:"/events",children:"View All Events"})})]}),s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-kic-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})]})}):s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-12",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold mb-2",children:"Upcoming Events"}),s.jsx("p",{className:"text-gray-600",children:"Join our workshops, hackathons, and tech talks"})]}),s.jsx(M,{variant:"outline",asChild:!0,className:"mt-4 sm:mt-0",children:s.jsx(st,{to:"/events",children:"View All Events"})})]}),n.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(l=>s.jsxs(R,{className:"card-hover overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-full h-48 bg-gradient-to-r from-kic-green-500 to-kic-green-600 flex items-center justify-center",children:s.jsx("h3",{className:"text-white text-xl font-bold text-center px-4",children:l.title})}),s.jsx(H,{className:"absolute top-3 right-3",children:a(l)})]}),s.jsxs(Z,{children:[s.jsx(ee,{className:"text-xl",children:l.title}),s.jsxs(ut,{className:"flex flex-col",children:[s.jsxs("span",{children:[i(l.date),"  ",o(l.date)]}),s.jsx("span",{className:"mt-1",children:l.location})]})]}),s.jsxs(L,{children:[s.jsx("p",{className:"text-gray-600",children:l.description}),l.price>0&&s.jsxs("div",{className:"mt-2 font-semibold text-kic-green-600",children:["KSh ",l.price]})]}),s.jsx(oi,{children:s.jsx(M,{className:"w-full",asChild:!0,children:s.jsx(st,{to:`/events/${l.id}`,children:l.requires_registration?"Register Now":"Learn More"})})})]},l.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"No upcoming events at the moment."}),s.jsx("p",{className:"text-gray-500",children:"Check back soon for exciting announcements!"})]})]})})}const Tse=[{id:"ai",name:"AI & Machine Learning",icon:"",description:"Explore artificial intelligence, machine learning, and data science.",memberCount:42,color:"bg-purple-100 text-purple-700"},{id:"web",name:"Web Development",icon:"",description:"Build modern web applications with the latest frameworks and tools.",memberCount:58,color:"bg-blue-100 text-blue-700"},{id:"cloud",name:"Cloud Computing",icon:"",description:"Learn about cloud infrastructure, DevOps, and serverless applications.",memberCount:35,color:"bg-cyan-100 text-cyan-700"},{id:"iot",name:"IoT & Embedded",icon:"",description:"Design and build connected devices and embedded systems.",memberCount:29,color:"bg-green-100 text-green-700"}];function Ose(){return s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-12",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold mb-2",children:"Our Communities"}),s.jsx("p",{className:"text-gray-600",children:"Join specialized tech communities based on your interests"})]}),s.jsx(M,{variant:"outline",asChild:!0,className:"mt-4 sm:mt-0",children:s.jsx(st,{to:"/communities",children:"Explore All Communities"})})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Tse.map(e=>s.jsxs(R,{className:"card-hover",children:[s.jsxs(Z,{children:[s.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center text-2xl ${e.color}`,children:e.icon}),s.jsx(ee,{className:"text-xl mt-4",children:e.name}),s.jsxs(ut,{children:[e.memberCount," members"]})]}),s.jsx(L,{children:s.jsx("p",{className:"text-gray-600",children:e.description})}),s.jsx(oi,{children:s.jsx(M,{variant:"outline",className:"w-full",asChild:!0,children:s.jsx(st,{to:`/communities/${e.id}`,children:"Join Community"})})})]},e.id))})]})})}const Mse=({maxAds:e=3,showTitle:t=!0})=>{const[r,n]=x.useState([]),[a,i]=x.useState(!0),o=async()=>{try{const{data:c,error:u}=await A.rpc("get_random_election_ads",{limit_count:e});if(u)throw u;n(c||[])}catch(c){console.error("Error fetching election ads:",c)}finally{i(!1)}},l=async c=>{var u;try{await A.rpc("track_ad_impression",{ad_id:c,user_id_param:((u=(await A.auth.getUser()).data.user)==null?void 0:u.id)||null,session_id_param:sessionStorage.getItem("session_id")||Math.random().toString(36)})}catch(d){console.error("Error tracking impression:",d)}};return x.useEffect(()=>{o();const c=setInterval(o,3e4);return()=>clearInterval(c)},[e]),x.useEffect(()=>{r.forEach(c=>{l(c.id)})},[r]),a?s.jsxs("div",{className:"space-y-4",children:[t&&s.jsx("h3",{className:"text-lg font-semibold",children:"Election Campaigns"}),s.jsx("div",{className:"grid gap-4",children:Array.from({length:e}).map((c,u)=>s.jsx(R,{className:"animate-pulse",children:s.jsxs(L,{className:"p-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})},u))})]}):r.length===0?null:s.jsxs("div",{className:"space-y-4",children:[t&&s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Election Campaigns"}),s.jsx("div",{className:"grid gap-4",children:r.map(c=>s.jsx(R,{className:"hover:shadow-lg transition-shadow border-l-4 border-l-blue-500",children:s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:c.title}),s.jsx(H,{variant:"outline",className:"text-xs",children:c.position_type.replace("_"," ").toUpperCase()})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:c.content}),c.image_url&&s.jsx("img",{src:c.image_url,alt:c.title,className:"w-full h-32 object-cover rounded mb-3"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:c.candidate_name}),s.jsx("p",{className:"text-xs text-gray-500",children:c.election_title})]}),c.video_url&&s.jsx(M,{size:"sm",variant:"outline",asChild:!0,children:s.jsxs("a",{href:c.video_url,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(Oo,{className:"w-3 h-3 mr-1"}),"Watch"]})})]}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-400",children:[s.jsx(Or,{className:"w-3 h-3 mr-1"}),"Campaign Advertisement"]})]})},c.id))})]})};function Rse(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];function u(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[e][c])||l,y=x.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:y,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Dse(a,...t)]}function Dse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var qS="Progress",WS=100,[$se,g8e]=Rse(qS),[Ise,Lse]=$se(qS),GI=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=Fse,...o}=e;(a||a===0)&&!pT(a)&&console.error(Bse(`${a}`,"Progress"));const l=pT(a)?a:WS;n!==null&&!gT(n,l)&&console.error(Use(`${n}`,"Progress"));const c=gT(n,l)?n:null,u=Kx(c)?i(c,l):void 0;return s.jsx(Ise,{scope:r,value:c,max:l,children:s.jsx(ke.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Kx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":QI(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});GI.displayName=qS;var YI="ProgressIndicator",XI=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=Lse(YI,r);return s.jsx(ke.div,{"data-state":QI(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});XI.displayName=YI;function Fse(e,t){return`${Math.round(e/t*100)}%`}function QI(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Kx(e){return typeof e=="number"}function pT(e){return Kx(e)&&!isNaN(e)&&e>0}function gT(e,t){return Kx(e)&&!isNaN(e)&&e<=t&&e>=0}function Bse(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${WS}\`.`}function Use(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${WS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var JI=GI,zse=XI;const HS=x.forwardRef(({className:e,value:t,...r},n)=>s.jsx(JI,{ref:n,className:ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(zse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));HS.displayName=JI.displayName;const ZI=({electionId:e,showTitle:t=!0,compact:r=!1})=>{const[n,a]=x.useState([]),[i,o]=x.useState([]),[l,c]=x.useState(null),[u,d]=x.useState(!0),h=async()=>{if(e){const{data:y}=await A.from("elections").select("*").eq("id",e).single();return c(y),y}else{const{data:y}=await A.from("elections").select("*").eq("status","voting_open").single();return c(y),y}},f=async y=>{if(y)try{const{data:b,error:v}=await A.rpc("get_election_vote_counts",{election_id_param:y.id});if(v)throw v;a(b||[])}catch(b){console.error("Error fetching vote counts:",b)}},m=async y=>{if(y)try{const{data:b,error:v}=await A.from("election_vote_tracking").select("*").eq("election_id",y.id);if(v)throw v;o(b||[])}catch(b){console.error("Error fetching vote tracking:",b)}};if(x.useEffect(()=>{(async()=>{d(!0);const b=await h();b&&await Promise.all([f(b),m(b)]),d(!1)})()},[e]),x.useEffect(()=>{if(!l)return;const y=A.channel("vote-tracking-updates").on("postgres_changes",{event:"*",schema:"public",table:"election_vote_tracking",filter:`election_id=eq.${l.id}`},b=>{console.log("Vote tracking update:",b),m(l),f(l)}).subscribe();return()=>{A.removeChannel(y)}},[l]),u)return s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Bn,{className:"w-5 h-5"}),"Live Vote Tracker"]})}),s.jsx(L,{children:s.jsx("div",{className:"animate-pulse space-y-4",children:Array.from({length:3}).map((y,b)=>s.jsxs("div",{children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-2 bg-gray-200 rounded"})]},b))})})]});if(!l||n.length===0)return s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5"}),"Live Vote Tracker"]})}),s.jsx(L,{children:s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No active election or votes yet"})})]});const g=n.reduce((y,b)=>(y[b.position_type]||(y[b.position_type]=[]),y[b.position_type].push(b),y),{}),p=i.reduce((y,b)=>y+b.total_votes,0);return r?s.jsx(R,{className:"border-green-200",children:s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-green-700",children:"Live Votes"}),s.jsxs(H,{variant:"outline",className:"bg-green-50",children:[p," votes"]})]}),s.jsx("div",{className:"space-y-2",children:Object.entries(g).slice(0,2).map(([y,b])=>{var j;const v=b[0],w=((j=b[0])==null?void 0:j.total_position_votes)||0;return s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-medium capitalize",children:y.replace("_"," ")}),s.jsxs("span",{className:"text-gray-500",children:[w," votes"]})]}),v&&s.jsxs("div",{className:"text-xs text-green-600",children:["Leading: ",v.candidate_name," (",v.vote_count,")"]})]},y)})})]})}):s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Bn,{className:"w-5 h-5 text-green-600"}),t&&"Live Vote Tracker",s.jsxs(H,{variant:"outline",className:"ml-auto",children:[s.jsx(Oe,{className:"w-3 h-3 mr-1"}),p," total votes"]})]})}),s.jsxs(L,{className:"space-y-6",children:[Object.entries(g).map(([y,b])=>{var w;const v=((w=b[0])==null?void 0:w.total_position_votes)||0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h4",{className:"font-semibold capitalize text-gray-800",children:y.replace("_"," ")}),s.jsxs(H,{variant:"secondary",children:[v," votes"]})]}),s.jsx("div",{className:"space-y-3",children:b.map((j,N)=>{const S=v>0?j.vote_count/v*100:0;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:j.candidate_name}),N===0&&v>0&&s.jsx(H,{variant:"default",className:"bg-green-500",children:"Leading"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[j.vote_count," votes (",S.toFixed(1),"%)"]})]}),s.jsx(HS,{value:S,className:"h-2"})]},j.candidate_id)})})]},y)}),s.jsxs("div",{className:"text-xs text-gray-400 border-t pt-2",children:["Last updated: ",new Date().toLocaleTimeString()]})]})]})},Vse=()=>s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 py-8",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx(Mse,{maxAds:2}),s.jsx(ZI,{compact:!0,showTitle:!1})]})})}),qse=({title:e="Karatina Innovation Club - Leading Innovation in Kenya",description:t="Join Karatina Innovation Club, Kenya's premier innovation community. Connect with innovators, participate in events, showcase projects, and advance your tech career.",keywords:r="innovation, technology, Kenya, Karatina, programming, coding, tech community, startups, projects, events",image:n="/placeholder.svg",url:a="https://kic.lovable.app",type:i="website"})=>{const o=e.includes("KIC")?e:`${e} | KIC`;return s.jsxs(W2,{children:[s.jsx("title",{children:o}),s.jsx("meta",{name:"title",content:o}),s.jsx("meta",{name:"description",content:t}),s.jsx("meta",{name:"keywords",content:r}),s.jsx("meta",{name:"robots",content:"index, follow"}),s.jsx("meta",{name:"language",content:"English"}),s.jsx("meta",{name:"author",content:"Karatina Innovation Club"}),s.jsx("link",{rel:"canonical",href:a}),s.jsx("meta",{property:"og:type",content:i}),s.jsx("meta",{property:"og:url",content:a}),s.jsx("meta",{property:"og:title",content:o}),s.jsx("meta",{property:"og:description",content:t}),s.jsx("meta",{property:"og:image",content:n}),s.jsx("meta",{property:"og:site_name",content:"Karatina Innovation Club"}),s.jsx("meta",{property:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{property:"twitter:url",content:a}),s.jsx("meta",{property:"twitter:title",content:o}),s.jsx("meta",{property:"twitter:description",content:t}),s.jsx("meta",{property:"twitter:image",content:n}),s.jsx("meta",{name:"theme-color",content:"#2563eb"}),s.jsx("meta",{name:"msapplication-TileColor",content:"#2563eb"}),s.jsx("meta",{"http-equiv":"X-Content-Type-Options",content:"nosniff"}),s.jsx("meta",{"http-equiv":"X-Frame-Options",content:"DENY"}),s.jsx("meta",{"http-equiv":"X-XSS-Protection",content:"1; mode=block"}),s.jsx("meta",{"http-equiv":"Referrer-Policy",content:"strict-origin-when-cross-origin"}),s.jsx("meta",{"http-equiv":"Permissions-Policy",content:"camera=(), microphone=(), geolocation=()"})]})},eL=({type:e,events:t})=>{const r=()=>({"@context":"https://schema.org","@type":"Organization",name:"Karatina Innovation Club",alternateName:"KIC",url:"https://karatinatech.com",logo:"https://karatinatech.com/logo.png",description:"Karatina University Innovation Club - Building technology leaders of tomorrow",sameAs:["https://twitter.com/KaratinaInnoClub","https://linkedin.com/company/karatina-innovation-club"],contactPoint:{"@type":"ContactPoint",contactType:"General",email:"info@karatinatech.com"}}),n=()=>!t||t.length===0?null:t.map(o=>({"@context":"https://schema.org","@type":"Event",name:o.title,description:o.description,startDate:`${o.date}T${o.time}`,location:{"@type":"Place",name:o.location},organizer:{"@type":"Organization",name:"Karatina Innovation Club"},eventStatus:"https://schema.org/EventScheduled"})),a=()=>({"@context":"https://schema.org","@type":"WebPage",name:"Karatina Innovation Club",description:"Building technology leaders of tomorrow through innovation and collaboration",publisher:{"@type":"Organization",name:"Karatina Innovation Club"}});let i;switch(e){case"organization":i=r();break;case"events":i=n();break;case"webpage":i=a();break;default:i=null}return i?s.jsx(W2,{children:s.jsx("script",{type:"application/ld+json",children:JSON.stringify(i)})}):null},Wse=()=>{const e=x.useRef(null);return s.jsxs(s.Fragment,{children:[s.jsx(qse,{title:"Home",description:"Welcome to Kabarak University Innovation Club - Where creativity meets technology. Join our community of innovators, developers, and tech enthusiasts.",keywords:"innovation, technology, university club, programming, development, students"}),s.jsx(eL,{type:"organization"}),s.jsxs("div",{className:"min-h-screen",children:[s.jsx(kse,{}),s.jsx(Vse,{}),s.jsx("div",{ref:e,children:s.jsx(Cse,{})}),s.jsx(Ase,{}),s.jsx(Ese,{}),s.jsx(Ose,{})]})]})},Hse=()=>{const{signOut:e}=ye();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray py-12 px-4",children:s.jsxs(R,{className:"max-w-md w-full",children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(vt,{className:"w-8 h-8 text-yellow-600"})}),s.jsx(ee,{className:"text-2xl font-bold text-kic-gray",children:"Registration Pending"})]}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-kic-gray/70",children:[s.jsx("p",{className:"mb-4",children:"Your registration has been submitted successfully and is currently under review by our administrators."}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm bg-blue-50 p-3 rounded-lg",children:[s.jsx(Xm,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{children:"You'll receive an email notification once your account is approved"})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(M,{onClick:e,variant:"outline",className:"w-full",children:"Sign Out"})})]})]})})},$o=()=>{const{user:e}=ye(),[t,r]=x.useState(null),[n,a]=x.useState(!0);x.useEffect(()=>{(async()=>{if(!e){r(null),a(!1);return}try{const{data:f,error:m}=await A.from("user_roles_with_hierarchy").select("*").eq("user_id",e.id).single();m?(console.error("Error fetching role info:",m),r(null)):r({assignedRole:f.assigned_role,inheritedRoles:f.inherited_roles||[],permissions:f.permissions||[]})}catch(f){console.error("Failed to fetch role info:",f),r(null)}finally{a(!1)}})()},[e]);const i=async h=>{if(!e)return!1;if((t==null?void 0:t.assignedRole)==="super_admin")return!0;try{const{data:f,error:m}=await A.rpc("has_role_or_higher",{_user_id:e.id,_required_role:h});return m?!1:f}catch{return!1}},o=async h=>{if(!e)return!1;if((t==null?void 0:t.assignedRole)==="super_admin")return!0;try{const{data:f,error:m}=await A.rpc("has_permission",{_user_id:e.id,_permission_key:h});return m?!1:f}catch{return!1}},l=(t==null?void 0:t.assignedRole)!=="member"&&(t==null?void 0:t.assignedRole)!==null,c=(t==null?void 0:t.assignedRole)==="super_admin",u=(t==null?void 0:t.assignedRole)==="chairman",d=(t==null?void 0:t.assignedRole)==="vice_chairman";return{roleInfo:t,loading:n,hasRole:i,hasPermission:o,isAdmin:l,isSuperAdmin:c,isChairman:u,isViceChairman:d}},Kse=({currentView:e,isHighRole:t})=>s.jsxs(ve.div,{whileHover:{scale:1.1,rotate:5},whileTap:{scale:.95},className:"relative",children:[s.jsx(zs,{mode:"wait",children:e==="admin"?s.jsx(ve.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{duration:.4,ease:"backInOut"},className:"flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 shadow-lg",children:t?s.jsx(Ux,{className:"w-6 h-6 text-white"}):s.jsx(Jr,{className:"w-6 h-6 text-white"})},"admin-icon"):s.jsx(ve.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{duration:.4,ease:"backInOut"},className:"flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 shadow-lg",children:s.jsx(ir,{className:"w-6 h-6 text-white"})},"user-icon")}),s.jsx(ve.div,{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-yellow-400 flex items-center justify-center",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:s.jsx(ms,{className:"w-2 h-2 text-yellow-800"})})]}),Gse=({currentView:e,roleDisplayName:t})=>s.jsxs("div",{className:"space-y-1",children:[s.jsx(ve.h3,{className:"font-bold text-xl",animate:{color:e==="admin"?"#3b82f6":"#10b981"},transition:{duration:.3},children:s.jsx(zs,{mode:"wait",children:s.jsx(ve.span,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:e==="admin"?"Admin Dashboard":"Member Dashboard"},e)})}),s.jsx(ve.p,{className:"text-sm font-medium",animate:{color:e==="admin"?"#6366f1":"#059669"},transition:{duration:.3},children:s.jsx(zs,{mode:"wait",children:s.jsx(ve.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:e==="admin"?`${t}  Administrative Access`:"Standard Member  Club Participation"},`${e}-${t}`)})})]});function ja({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Yse({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=Lt(r),c=x.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else a(u)},[i,e,a,l]);return[o,c]}function Yse({defaultProp:e,onChange:t}){const r=x.useState(e),[n]=r,a=x.useRef(n),i=Lt(t);return x.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}function KS(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function GS(e){const[t,r]=x.useState(void 0);return Nr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var YS="Switch",[Xse,x8e]=gs(YS),[Qse,Jse]=Xse(YS),tL=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=x.useState(null),g=Ke(t,w=>m(w)),p=x.useRef(!1),y=f?d||!!f.closest("form"):!0,[b=!1,v]=ja({prop:a,defaultProp:i,onChange:u});return s.jsxs(Qse,{scope:r,checked:b,disabled:l,children:[s.jsx(ke.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":sL(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:he(e.onClick,w=>{v(j=>!j),y&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),y&&s.jsx(Zse,{control:f,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});tL.displayName=YS;var rL="SwitchThumb",nL=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Jse(rL,r);return s.jsx(ke.span,{"data-state":sL(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});nL.displayName=rL;var Zse=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,i=x.useRef(null),o=KS(r),l=GS(t);return x.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&h){const f=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(f)}},[o,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sL(e){return e?"checked":"unchecked"}var aL=tL,eae=nL;const Gl=x.forwardRef(({className:e,...t},r)=>s.jsx(aL,{className:ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(eae,{className:ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Gl.displayName=aL.displayName;const tae=({currentView:e,isAnimating:t,onToggle:r})=>s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ve.span,{className:"text-sm font-semibold",animate:{color:e==="user"?"#10b981":"#6b7280",scale:e==="user"?1.05:1},transition:{duration:.3},children:"Member"}),s.jsx(ve.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:s.jsx(Gl,{checked:e==="admin",onCheckedChange:r,disabled:t,className:"data-[state=checked]:bg-gradient-to-r data-[state=checked]:from-blue-500 data-[state=checked]:to-purple-600 data-[state=unchecked]:bg-gradient-to-r data-[state=unchecked]:from-green-500 data-[state=unchecked]:to-emerald-600"})}),s.jsx(ve.span,{className:"text-sm font-semibold",animate:{color:e==="admin"?"#3b82f6":"#6b7280",scale:e==="admin"?1.05:1},transition:{duration:.3},children:"Admin"})]}),s.jsx(ve.div,{whileHover:{rotate:180},transition:{duration:.3},children:s.jsx(Oy,{className:"w-5 h-5 text-gray-400"})})]}),rae=({currentView:e})=>s.jsxs(ve.div,{className:"mt-4 flex items-center space-x-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[s.jsx(ve.div,{className:"h-1 rounded-full flex-1",animate:{background:e==="admin"?"linear-gradient(90deg, #3b82f6, #8b5cf6)":"linear-gradient(90deg, #10b981, #059669)"},transition:{duration:.5}}),s.jsx(ve.span,{className:"text-xs font-medium",animate:{color:e==="admin"?"#6366f1":"#059669"},children:e==="admin"?"Administrative Mode":"Member Experience"})]}),nae=({currentView:e,onViewChange:t})=>{const{isAdmin:r}=ye(),{roleInfo:n,loading:a,isAdmin:i}=$o(),[o,l]=x.useState(!1),c=r||i;if(console.log("DashboardSwitcher - hasAdminAccess:",c,"isAdmin:",r,"roleBasedAdmin:",i,"loading:",a),a)return console.log("DashboardSwitcher - still loading role permissions"),null;if(!c)return console.log("DashboardSwitcher - no admin access detected"),null;if(!n)return console.log("DashboardSwitcher - no role info available"),null;console.log("DashboardSwitcher - rendering with roleInfo:",n);const u=async m=>{o||(l(!0),await new Promise(g=>setTimeout(g,300)),t(m?"admin":"user"),l(!1))},d=m=>({super_admin:"Super Admin",general_admin:"General Admin",community_admin:"Community Admin",events_admin:"Events Admin",projects_admin:"Projects Admin",finance_admin:"Finance Admin",content_admin:"Content Admin",technical_admin:"Technical Admin",marketing_admin:"Marketing Admin",chairman:"Chairman",vice_chairman:"Vice Chairman"})[m]||m.replace("_"," ").replace(/\b\w/g,p=>p.toUpperCase()),h=["super_admin","chairman","vice_chairman"].includes(n.assignedRole),f=d(n.assignedRole);return s.jsx(ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:s.jsxs(R,{className:"mb-6 border-2 overflow-hidden relative",children:[s.jsx(ve.div,{className:"absolute inset-0 opacity-20",animate:{background:e==="admin"?"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)":"linear-gradient(135deg, #10b981 0%, #059669 100%)"},transition:{duration:.6,ease:"easeInOut"}}),s.jsxs(L,{className:"p-6 relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Kse,{currentView:e,isHighRole:h}),s.jsx(Gse,{currentView:e,roleDisplayName:f})]}),s.jsx(tae,{currentView:e,isAnimating:o,onToggle:u})]}),s.jsx(rae,{currentView:e})]}),s.jsx(zs,{children:o&&s.jsx(ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-20",children:s.jsx(ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full"})})})]})})},sae=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray",children:s.jsx(R,{children:s.jsxs(L,{className:"p-6",children:[s.jsx(ve.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{children:"Loading dashboard..."})]})})}),aae=Zm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ht=x.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ne(aae({variant:t}),e),...r}));Ht.displayName="Alert";const iae=x.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ne("mb-1 font-medium leading-none tracking-tight",e),...t}));iae.displayName="AlertTitle";const Kt=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("text-sm [&_p]:leading-relaxed",e),...t}));Kt.displayName="AlertDescription";const oae=({memberData:e,isApproved:t,hasAdminAccess:r})=>e?null:s.jsx("div",{className:"min-h-screen bg-kic-lightGray",children:s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs(Ht,{variant:"destructive",className:"max-w-2xl mx-auto border-red-500 bg-red-50",children:[s.jsx(Kl,{className:"h-4 w-4"}),s.jsx(Kt,{className:"text-red-800 font-medium",children:"You are not a registered member of KIC. Please complete your registration to access the dashboard."})]}),s.jsx(R,{className:"max-w-2xl mx-auto mt-6",children:s.jsxs(L,{className:"p-6 text-center",children:[s.jsx(Kl,{className:"w-16 h-16 mx-auto mb-4 text-red-500"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Your account is not registered with the Karatina Innovation Club. To access the dashboard and participate in club activities, you need to:"}),s.jsx("div",{className:"text-left bg-gray-50 p-4 rounded-lg mb-4",children:s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-700",children:[s.jsx("li",{children:"Complete the member registration process"}),s.jsx("li",{children:"Wait for admin approval"}),s.jsx("li",{children:"Complete payment for registration and subscription"})]})}),s.jsx("p",{className:"text-sm text-gray-500",children:"Please contact the club administrators for assistance with registration."})]})})]})});var XS="Avatar",[lae,v8e]=gs(XS),[cae,iL]=lae(XS),oL=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=x.useState("idle");return s.jsx(cae,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(ke.span,{...n,ref:t})})});oL.displayName=XS;var lL="AvatarImage",cL=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=iL(lL,r),l=uae(n,i.referrerPolicy),c=Lt(u=>{a(u),o.onImageLoadingStatusChange(u)});return Nr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(ke.img,{...i,ref:t,src:n}):null});cL.displayName=lL;var uL="AvatarFallback",dL=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=iL(uL,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(ke.span,{...a,ref:t}):null});dL.displayName=uL;function uae(e,t){const[r,n]=x.useState("idle");return Nr(()=>{if(!e){n("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&n(l)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var hL=oL,fL=cL,mL=dL;const dc=x.forwardRef(({className:e,...t},r)=>s.jsx(hL,{ref:r,className:ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));dc.displayName=hL.displayName;const Dd=x.forwardRef(({className:e,...t},r)=>s.jsx(fL,{ref:r,className:ne("aspect-square h-full w-full",e),...t}));Dd.displayName=fL.displayName;const hc=x.forwardRef(({className:e,...t},r)=>s.jsx(mL,{ref:r,className:ne("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));hc.displayName=mL.displayName;function dae(e,t=globalThis==null?void 0:globalThis.document){const r=Lt(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var hae="DismissableLayer",Y1="dismissableLayer.update",fae="dismissableLayer.pointerDownOutside",mae="dismissableLayer.focusOutside",xT,pL=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$d=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(pL),[d,h]=x.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),g=Ke(t,_=>h(_)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(y),v=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=b,N=gae(_=>{const k=_.target,C=[...u.branches].some(P=>P.contains(k));!j||C||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},f),S=xae(_=>{const k=_.target;[...u.branches].some(P=>P.contains(k))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},f);return dae(_=>{v===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},f),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(xT=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),vT(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=xT)}},[d,f,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),vT())},[d,u]),x.useEffect(()=>{const _=()=>m({});return document.addEventListener(Y1,_),()=>document.removeEventListener(Y1,_)},[]),s.jsx(ke.div,{...c,ref:g,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:he(e.onFocusCapture,S.onFocusCapture),onBlurCapture:he(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:he(e.onPointerDownCapture,N.onPointerDownCapture)})});$d.displayName=hae;var pae="DismissableLayerBranch",gL=x.forwardRef((e,t)=>{const r=x.useContext(pL),n=x.useRef(null),a=Ke(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(ke.div,{...e,ref:a})});gL.displayName=pae;function gae(e,t=globalThis==null?void 0:globalThis.document){const r=Lt(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){xL(fae,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function xae(e,t=globalThis==null?void 0:globalThis.document){const r=Lt(e),n=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!n.current&&xL(mae,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function vT(){const e=new CustomEvent(Y1);document.dispatchEvent(e)}function xL(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?FS(a,i):a.dispatchEvent(i)}var vae=$d,yae=gL,dw=0;function Wy(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yT()),document.body.insertAdjacentElement("beforeend",e[1]??yT()),dw++,()=>{dw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),dw--}},[])}function yT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hw="focusScope.autoFocusOnMount",fw="focusScope.autoFocusOnUnmount",bT={bubbles:!1,cancelable:!0},bae="FocusScope",np=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=Lt(a),d=Lt(i),h=x.useRef(null),f=Ke(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?h.current=j:Ti(h.current,{select:!0})},y=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Ti(h.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Ti(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),v.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){jT.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(hw,bT);l.addEventListener(hw,u),l.dispatchEvent(b),b.defaultPrevented||(wae(kae(vL(l)),{select:!0}),document.activeElement===p&&Ti(l))}return()=>{l.removeEventListener(hw,u),setTimeout(()=>{const b=new CustomEvent(fw,bT);l.addEventListener(fw,d),l.dispatchEvent(b),b.defaultPrevented||Ti(p??document.body,{select:!0}),l.removeEventListener(fw,d),jT.remove(m)},0)}}},[l,u,d,m]);const g=x.useCallback(p=>{if(!r&&!n||m.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(y&&b){const v=p.currentTarget,[w,j]=jae(v);w&&j?!p.shiftKey&&b===j?(p.preventDefault(),r&&Ti(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&Ti(j,{select:!0})):b===v&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(ke.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});np.displayName=bae;function wae(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ti(n,{select:t}),document.activeElement!==r)return}function jae(e){const t=vL(e),r=wT(t,e),n=wT(t.reverse(),e);return[r,n]}function vL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function wT(e,t){for(const r of e)if(!Nae(r,{upTo:t}))return r}function Nae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _ae(e){return e instanceof HTMLInputElement&&"select"in e}function Ti(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&_ae(e)&&t&&e.select()}}var jT=Sae();function Sae(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=NT(e,t),e.unshift(t)},remove(t){var r;e=NT(e,t),(r=e[0])==null||r.resume()}}}function NT(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function kae(e){return e.filter(t=>t.tagName!=="A")}var Cae=T5.useId||(()=>{}),Pae=0;function Ls(e){const[t,r]=x.useState(Cae());return Nr(()=>{e||r(n=>n??String(Pae++))},[e]),e||(t?`radix-${t}`:"")}const Aae=["top","right","bottom","left"],bo=Math.min,$n=Math.max,Gx=Math.round,ag=Math.floor,wo=e=>({x:e,y:e}),Eae={left:"right",right:"left",bottom:"top",top:"bottom"},Tae={start:"end",end:"start"};function X1(e,t,r){return $n(e,bo(t,r))}function li(e,t){return typeof e=="function"?e(t):e}function ci(e){return e.split("-")[0]}function Id(e){return e.split("-")[1]}function QS(e){return e==="x"?"y":"x"}function JS(e){return e==="y"?"height":"width"}function jo(e){return["top","bottom"].includes(ci(e))?"y":"x"}function ZS(e){return QS(jo(e))}function Oae(e,t,r){r===void 0&&(r=!1);const n=Id(e),a=ZS(e),i=JS(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Yx(o)),[o,Yx(o)]}function Mae(e){const t=Yx(e);return[Q1(e),t,Q1(t)]}function Q1(e){return e.replace(/start|end/g,t=>Tae[t])}function Rae(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function Dae(e,t,r,n){const a=Id(e);let i=Rae(ci(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Q1)))),i}function Yx(e){return e.replace(/left|right|bottom|top/g,t=>Eae[t])}function $ae(e){return{top:0,right:0,bottom:0,left:0,...e}}function yL(e){return typeof e!="number"?$ae(e):{top:e,right:e,bottom:e,left:e}}function Xx(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function _T(e,t,r){let{reference:n,floating:a}=e;const i=jo(t),o=ZS(t),l=JS(o),c=ci(t),u=i==="y",d=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,f=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-a.width,y:h};break;default:m={x:n.x,y:n.y}}switch(Id(t)){case"start":m[o]-=f*(r&&u?-1:1);break;case"end":m[o]+=f*(r&&u?-1:1);break}return m}const Iae=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=_T(u,n,c),f=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:y,fn:b}=l[p],{x:v,y:w,data:j,reset:N}=await b({x:d,y:h,initialPlacement:n,placement:f,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=v??d,h=w??h,m={...m,[y]:{...m[y],...j}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:h}=_T(u,f,c)),p=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:m}};async function Kf(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=li(t,e),g=yL(m),y=l[f?h==="floating"?"reference":"floating":h],b=Xx(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Xx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(b.top-N.top+g.top)/j.y,bottom:(N.bottom-b.bottom+g.bottom)/j.y,left:(b.left-N.left+g.left)/j.x,right:(N.right-b.right+g.right)/j.x}}const Lae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=li(e,t)||{};if(u==null)return{};const h=yL(d),f={x:r,y:n},m=ZS(a),g=JS(m),p=await o.getDimensions(u),y=m==="y",b=y?"top":"left",v=y?"bottom":"right",w=y?"clientHeight":"clientWidth",j=i.reference[g]+i.reference[m]-f[m]-i.floating[g],N=f[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=S?S[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(S)))&&(_=l.floating[w]||i.floating[g]);const k=j/2-N/2,C=_/2-p[g]/2-1,P=bo(h[b],C),E=bo(h[v],C),T=P,F=_-p[g]-E,D=_/2-p[g]/2+k,$=X1(T,D,F),U=!c.arrow&&Id(a)!=null&&D!==$&&i.reference[g]/2-(D<T?P:E)-p[g]/2<0,q=U?D<T?D-T:D-F:0;return{[m]:f[m]+q,data:{[m]:$,centerOffset:D-$-q,...U&&{alignmentOffset:q}},reset:U}}}),Fae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...y}=li(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=ci(a),v=jo(l),w=ci(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=f||(w||!p?[Yx(l)]:Mae(l)),S=g!=="none";!f&&S&&N.push(...Dae(l,p,g,j));const _=[l,...N],k=await Kf(t,y),C=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[b]),h){const D=Oae(a,o,j);C.push(k[D[0]],k[D[1]])}if(P=[...P,{placement:a,overflows:C}],!C.every(D=>D<=0)){var E,T;const D=(((E=i.flip)==null?void 0:E.index)||0)+1,$=_[D];if($)return{data:{index:D,overflows:P},reset:{placement:$}};let U=(T=P.filter(q=>q.overflows[0]<=0).sort((q,I)=>q.overflows[1]-I.overflows[1])[0])==null?void 0:T.placement;if(!U)switch(m){case"bestFit":{var F;const q=(F=P.filter(I=>{if(S){const V=jo(I.placement);return V===v||V==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(V=>V>0).reduce((V,Y)=>V+Y,0)]).sort((I,V)=>I[1]-V[1])[0])==null?void 0:F[0];q&&(U=q);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function ST(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kT(e){return Aae.some(t=>e[t]>=0)}const Bae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=li(e,t);switch(n){case"referenceHidden":{const i=await Kf(t,{...a,elementContext:"reference"}),o=ST(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kT(o)}}}case"escaped":{const i=await Kf(t,{...a,altBoundary:!0}),o=ST(i,r.floating);return{data:{escapedOffsets:o,escaped:kT(o)}}}default:return{}}}}};async function Uae(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ci(r),l=Id(r),c=jo(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,h=li(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const zae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Uae(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Vae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:b,y:v}=y;return{x:b,y:v}}},...c}=li(e,t),u={x:r,y:n},d=await Kf(t,c),h=jo(ci(a)),f=QS(h);let m=u[f],g=u[h];if(i){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=m+d[y],w=m-d[b];m=X1(v,m,w)}if(o){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=g+d[y],w=g-d[b];g=X1(v,g,w)}const p=l.fn({...t,[f]:m,[h]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[f]:i,[h]:o}}}}}},qae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=li(e,t),d={x:r,y:n},h=jo(a),f=QS(h);let m=d[f],g=d[h];const p=li(l,t),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=f==="y"?"height":"width",j=i.reference[f]-i.floating[w]+y.mainAxis,N=i.reference[f]+i.reference[w]-y.mainAxis;m<j?m=j:m>N&&(m=N)}if(u){var b,v;const w=f==="y"?"width":"height",j=["top","left"].includes(ci(a)),N=i.reference[h]-i.floating[w]+(j&&((b=o.offset)==null?void 0:b[h])||0)+(j?0:y.crossAxis),S=i.reference[h]+i.reference[w]+(j?0:((v=o.offset)==null?void 0:v[h])||0)-(j?y.crossAxis:0);g<N?g=N:g>S&&(g=S)}return{[f]:m,[h]:g}}}},Wae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=li(e,t),d=await Kf(t,u),h=ci(a),f=Id(a),m=jo(a)==="y",{width:g,height:p}=i.floating;let y,b;h==="top"||h==="bottom"?(y=h,b=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,y=f==="end"?"top":"bottom");const v=p-d.top-d.bottom,w=g-d.left-d.right,j=bo(p-d[y],v),N=bo(g-d[b],w),S=!t.middlewareData.shift;let _=j,k=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=v),S&&!f){const P=$n(d.left,0),E=$n(d.right,0),T=$n(d.top,0),F=$n(d.bottom,0);m?k=g-2*(P!==0||E!==0?P+E:$n(d.left,d.right)):_=p-2*(T!==0||F!==0?T+F:$n(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:_});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function Hy(){return typeof window<"u"}function Ld(e){return bL(e)?(e.nodeName||"").toLowerCase():"#document"}function Un(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pa(e){var t;return(t=(bL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bL(e){return Hy()?e instanceof Node||e instanceof Un(e).Node:!1}function Vs(e){return Hy()?e instanceof Element||e instanceof Un(e).Element:!1}function Na(e){return Hy()?e instanceof HTMLElement||e instanceof Un(e).HTMLElement:!1}function CT(e){return!Hy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Un(e).ShadowRoot}function sp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=qs(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function Hae(e){return["table","td","th"].includes(Ld(e))}function Ky(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ek(e){const t=tk(),r=Vs(e)?qs(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Kae(e){let t=No(e);for(;Na(t)&&!Ku(t);){if(ek(t))return t;if(Ky(t))return null;t=No(t)}return null}function tk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ku(e){return["html","body","#document"].includes(Ld(e))}function qs(e){return Un(e).getComputedStyle(e)}function Gy(e){return Vs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function No(e){if(Ld(e)==="html")return e;const t=e.assignedSlot||e.parentNode||CT(e)&&e.host||Pa(e);return CT(t)?t.host:t}function wL(e){const t=No(e);return Ku(t)?e.ownerDocument?e.ownerDocument.body:e.body:Na(t)&&sp(t)?t:wL(t)}function Gf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=wL(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Un(a);if(i){const l=J1(o);return t.concat(o,o.visualViewport||[],sp(a)?a:[],l&&r?Gf(l):[])}return t.concat(a,Gf(a,[],r))}function J1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jL(e){const t=qs(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Na(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Gx(r)!==i||Gx(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function rk(e){return Vs(e)?e:e.contextElement}function hu(e){const t=rk(e);if(!Na(t))return wo(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=jL(t);let o=(i?Gx(r.width):r.width)/n,l=(i?Gx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Gae=wo(0);function NL(e){const t=Un(e);return!tk()||!t.visualViewport?Gae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Yae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Un(e)?!1:t}function Yl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=rk(e);let o=wo(1);t&&(n?Vs(n)&&(o=hu(n)):o=hu(e));const l=Yae(i,r,n)?NL(i):wo(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(i){const f=Un(i),m=n&&Vs(n)?Un(n):n;let g=f,p=J1(g);for(;p&&n&&m!==g;){const y=hu(p),b=p.getBoundingClientRect(),v=qs(p),w=b.left+(p.clientLeft+parseFloat(v.paddingLeft))*y.x,j=b.top+(p.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=w,u+=j,g=Un(p),p=J1(g)}}return Xx({width:d,height:h,x:c,y:u})}function Xae(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Pa(n),l=t?Ky(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=wo(1);const d=wo(0),h=Na(n);if((h||!h&&!i)&&((Ld(n)!=="body"||sp(o))&&(c=Gy(n)),Na(n))){const f=Yl(n);u=hu(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function Qae(e){return Array.from(e.getClientRects())}function Z1(e,t){const r=Gy(e).scrollLeft;return t?t.left+r:Yl(Pa(e)).left+r}function Jae(e){const t=Pa(e),r=Gy(e),n=e.ownerDocument.body,a=$n(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=$n(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Z1(e);const l=-r.scrollTop;return qs(n).direction==="rtl"&&(o+=$n(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Zae(e,t){const r=Un(e),n=Pa(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=tk();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function eie(e,t){const r=Yl(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Na(e)?hu(e):wo(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function PT(e,t,r){let n;if(t==="viewport")n=Zae(e,r);else if(t==="document")n=Jae(Pa(e));else if(Vs(t))n=eie(t,r);else{const a=NL(e);n={...t,x:t.x-a.x,y:t.y-a.y}}return Xx(n)}function _L(e,t){const r=No(e);return r===t||!Vs(r)||Ku(r)?!1:qs(r).position==="fixed"||_L(r,t)}function tie(e,t){const r=t.get(e);if(r)return r;let n=Gf(e,[],!1).filter(l=>Vs(l)&&Ld(l)!=="body"),a=null;const i=qs(e).position==="fixed";let o=i?No(e):e;for(;Vs(o)&&!Ku(o);){const l=qs(o),c=ek(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||sp(o)&&!c&&_L(e,o))?n=n.filter(d=>d!==o):a=l,o=No(o)}return t.set(e,n),n}function rie(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Ky(t)?[]:tie(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=PT(t,d,a);return u.top=$n(h.top,u.top),u.right=bo(h.right,u.right),u.bottom=bo(h.bottom,u.bottom),u.left=$n(h.left,u.left),u},PT(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nie(e){const{width:t,height:r}=jL(e);return{width:t,height:r}}function sie(e,t,r){const n=Na(t),a=Pa(t),i=r==="fixed",o=Yl(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=wo(0);if(n||!n&&!i)if((Ld(t)!=="body"||sp(a))&&(l=Gy(t)),n){const m=Yl(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&(c.x=Z1(a));let u=0,d=0;if(a&&!n&&!i){const m=a.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-Z1(a,m)}const h=o.left+l.scrollLeft-c.x-u,f=o.top+l.scrollTop-c.y-d;return{x:h,y:f,width:o.width,height:o.height}}function mw(e){return qs(e).position==="static"}function AT(e,t){if(!Na(e)||qs(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Pa(e)===r&&(r=r.ownerDocument.body),r}function SL(e,t){const r=Un(e);if(Ky(e))return r;if(!Na(e)){let a=No(e);for(;a&&!Ku(a);){if(Vs(a)&&!mw(a))return a;a=No(a)}return r}let n=AT(e,t);for(;n&&Hae(n)&&mw(n);)n=AT(n,t);return n&&Ku(n)&&mw(n)&&!ek(n)?r:n||Kae(e)||r}const aie=async function(e){const t=this.getOffsetParent||SL,r=this.getDimensions,n=await r(e.floating);return{reference:sie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function iie(e){return qs(e).direction==="rtl"}const oie={convertOffsetParentRelativeRectToViewportRelativeRect:Xae,getDocumentElement:Pa,getClippingRect:rie,getOffsetParent:SL,getElementRects:aie,getClientRects:Qae,getDimensions:nie,getScale:hu,isElement:Vs,isRTL:iie};function lie(e,t){let r=null,n;const a=Pa(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:h,height:f}=e.getBoundingClientRect();if(l||t(),!h||!f)return;const m=ag(d),g=ag(a.clientWidth-(u+h)),p=ag(a.clientHeight-(d+f)),y=ag(u),v={rootMargin:-m+"px "+-g+"px "+-p+"px "+-y+"px",threshold:$n(0,bo(1,c))||1};let w=!0;function j(N){const S=N[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(j,{...v,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,v)}r.observe(e)}return o(!0),i}function cie(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=rk(e),d=a||i?[...u?Gf(u):[],...Gf(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const h=u&&l?lie(u,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?Yl(e):null;c&&y();function y(){const b=Yl(e);p&&(b.x!==p.x||b.y!==p.y||b.width!==p.width||b.height!==p.height)&&r(),p=b,g=requestAnimationFrame(y)}return r(),()=>{var b;d.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const uie=zae,die=Vae,hie=Fae,fie=Wae,mie=Bae,ET=Lae,pie=qae,gie=(e,t,r)=>{const n=new Map,a={platform:oie,...r},i={...a.platform,_c:n};return Iae(e,t,{...a,platform:i})};var Jg=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Qx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Qx(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Qx(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function kL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function TT(e,t){const r=kL(e);return Math.round(t*r)/r}function pw(e){const t=x.useRef(e);return Jg(()=>{t.current=e}),t}function xie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=x.useState(n);Qx(f,n)||m(n);const[g,p]=x.useState(null),[y,b]=x.useState(null),v=x.useCallback(I=>{I!==S.current&&(S.current=I,p(I))},[]),w=x.useCallback(I=>{I!==_.current&&(_.current=I,b(I))},[]),j=i||g,N=o||y,S=x.useRef(null),_=x.useRef(null),k=x.useRef(d),C=c!=null,P=pw(c),E=pw(a),T=pw(u),F=x.useCallback(()=>{if(!S.current||!_.current)return;const I={placement:t,strategy:r,middleware:f};E.current&&(I.platform=E.current),gie(S.current,_.current,I).then(V=>{const Y={...V,isPositioned:T.current!==!1};D.current&&!Qx(k.current,Y)&&(k.current=Y,ac.flushSync(()=>{h(Y)}))})},[f,t,r,E,T]);Jg(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[u]);const D=x.useRef(!1);Jg(()=>(D.current=!0,()=>{D.current=!1}),[]),Jg(()=>{if(j&&(S.current=j),N&&(_.current=N),j&&N){if(P.current)return P.current(j,N,F);F()}},[j,N,F,P,C]);const $=x.useMemo(()=>({reference:S,floating:_,setReference:v,setFloating:w}),[v,w]),U=x.useMemo(()=>({reference:j,floating:N}),[j,N]),q=x.useMemo(()=>{const I={position:r,left:0,top:0};if(!U.floating)return I;const V=TT(U.floating,d.x),Y=TT(U.floating,d.y);return l?{...I,transform:"translate("+V+"px, "+Y+"px)",...kL(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:V,top:Y}},[r,l,U.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:F,refs:$,elements:U,floatingStyles:q}),[d,F,$,U,q])}const vie=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ET({element:n.current,padding:a}).fn(r):{}:n?ET({element:n,padding:a}).fn(r):{}}}},yie=(e,t)=>({...uie(e),options:[e,t]}),bie=(e,t)=>({...die(e),options:[e,t]}),wie=(e,t)=>({...pie(e),options:[e,t]}),jie=(e,t)=>({...hie(e),options:[e,t]}),Nie=(e,t)=>({...fie(e),options:[e,t]}),_ie=(e,t)=>({...mie(e),options:[e,t]}),Sie=(e,t)=>({...vie(e),options:[e,t]});var kie="Arrow",CL=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(ke.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});CL.displayName=kie;var Cie=CL;function Pie(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];function u(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[e][c])||l,y=x.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:y,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Aie(a,...t)]}function Aie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var nk="Popper",[PL,Fd]=Pie(nk),[Eie,AL]=PL(nk),EL=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return s.jsx(Eie,{scope:t,anchor:n,onAnchorChange:a,children:r})};EL.displayName=nk;var TL="PopperAnchor",OL=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=AL(TL,r),o=x.useRef(null),l=Ke(t,o);return x.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(ke.div,{...a,ref:l})});OL.displayName=TL;var sk="PopperContent",[Tie,Oie]=PL(sk),ML=x.forwardRef((e,t)=>{var pe,Ue,oe,ge,be,Q;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,y=AL(sk,r),[b,v]=x.useState(null),w=Ke(t,Ye=>v(Ye)),[j,N]=x.useState(null),S=GS(j),_=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,C=n+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],T=E.length>0,F={padding:P,boundary:E.filter(Rie),altBoundary:T},{refs:D,floatingStyles:$,placement:U,isPositioned:q,middlewareData:I}=xie({strategy:"fixed",placement:C,whileElementsMounted:(...Ye)=>cie(...Ye,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[yie({mainAxis:a+k,alignmentAxis:o}),c&&bie({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?wie():void 0,...F}),c&&jie({...F}),Nie({...F,apply:({elements:Ye,rects:Be,availableWidth:St,availableHeight:jt})=>{const{width:ur,height:B}=Be.reference,K=Ye.floating.style;K.setProperty("--radix-popper-available-width",`${St}px`),K.setProperty("--radix-popper-available-height",`${jt}px`),K.setProperty("--radix-popper-anchor-width",`${ur}px`),K.setProperty("--radix-popper-anchor-height",`${B}px`)}}),j&&Sie({element:j,padding:l}),Die({arrowWidth:_,arrowHeight:k}),f&&_ie({strategy:"referenceHidden",...F})]}),[V,Y]=$L(U),se=Lt(g);Nr(()=>{q&&(se==null||se())},[q,se]);const ie=(pe=I.arrow)==null?void 0:pe.x,je=(Ue=I.arrow)==null?void 0:Ue.y,Ee=((oe=I.arrow)==null?void 0:oe.centerOffset)!==0,[at,et]=x.useState();return Nr(()=>{b&&et(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:q?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:at,"--radix-popper-transform-origin":[(ge=I.transformOrigin)==null?void 0:ge.x,(be=I.transformOrigin)==null?void 0:be.y].join(" "),...((Q=I.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Tie,{scope:r,placedSide:V,onArrowChange:N,arrowX:ie,arrowY:je,shouldHideArrow:Ee,children:s.jsx(ke.div,{"data-side":V,"data-align":Y,...p,ref:w,style:{...p.style,animation:q?void 0:"none"}})})})});ML.displayName=sk;var RL="PopperArrow",Mie={top:"bottom",right:"left",bottom:"top",left:"right"},DL=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Oie(RL,n),o=Mie[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Cie,{...a,ref:r,style:{...a.style,display:"block"}})})});DL.displayName=RL;function Rie(e){return e!==null}var Die=e=>({name:"transformOrigin",options:e,fn(t){var y,b,v;const{placement:r,rects:n,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=$L(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,m=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?h:`${f}px`,p=`${-c}px`):u==="top"?(g=o?h:`${f}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?h:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?h:`${m}px`),{data:{x:g,y:p}}}});function $L(e){const[t,r="center"]=e.split("-");return[t,r]}var ak=EL,Yy=OL,ik=ML,ok=DL,$ie="Portal",Bd=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=x.useState(!1);Nr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?AH.createPortal(s.jsx(ke.div,{...n,ref:t}),o):null});Bd.displayName=$ie;var Iie=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Nc=new WeakMap,ig=new WeakMap,og={},gw=0,IL=function(e){return e&&(e.host||IL(e.parentNode))},Lie=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=IL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Fie=function(e,t,r,n){var a=Lie(t,Array.isArray(e)?e:[e]);og[r]||(og[r]=new WeakMap);var i=og[r],o=[],l=new Set,c=new Set(a),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(n),g=m!==null&&m!=="false",p=(Nc.get(f)||0)+1,y=(i.get(f)||0)+1;Nc.set(f,p),i.set(f,y),o.push(f),p===1&&g&&ig.set(f,!0),y===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(t),l.clear(),gw++,function(){o.forEach(function(h){var f=Nc.get(h)-1,m=i.get(h)-1;Nc.set(h,f),i.set(h,m),f||(ig.has(h)||h.removeAttribute(n),ig.delete(h)),m||h.removeAttribute(r)}),gw--,gw||(Nc=new WeakMap,Nc=new WeakMap,ig=new WeakMap,og={})}},Xy=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Iie(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Fie(n,a,r,"aria-hidden")):function(){return null}},sa=function(){return sa=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},sa.apply(this,arguments)};function LL(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Bie(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Zg="right-scroll-bar-position",ex="width-before-scroll-bar",Uie="with-scroll-bars-hidden",zie="--removed-body-scroll-bar-size";function xw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Vie(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var qie=typeof window<"u"?x.useLayoutEffect:x.useEffect,OT=new WeakMap;function Wie(e,t){var r=Vie(null,function(n){return e.forEach(function(a){return xw(a,n)})});return qie(function(){var n=OT.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||xw(l,null)}),i.forEach(function(l){a.has(l)||xw(l,o)})}OT.set(r,e)},[e]),r}function Hie(e){return e}function Kie(e,t){t===void 0&&(t=Hie);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Gie(e){e===void 0&&(e={});var t=Kie(null);return t.options=sa({async:!0,ssr:!1},e),t}var FL=function(e){var t=e.sideCar,r=LL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,sa({},r))};FL.isSideCarExport=!0;function Yie(e,t){return e.useMedium(t),FL}var BL=Gie(),vw=function(){},Qy=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:vw,onWheelCapture:vw,onTouchMoveCapture:vw}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noIsolation,g=e.inert,p=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,v=e.gapMode,w=LL(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,N=Wie([r,t]),S=sa(sa({},w),a);return x.createElement(x.Fragment,null,d&&x.createElement(j,{sideCar:BL,removeScrollBar:u,shards:h,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:v}),o?x.cloneElement(x.Children.only(l),sa(sa({},S),{ref:N})):x.createElement(b,sa({},S,{className:c,ref:N}),l))});Qy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qy.classNames={fullWidth:ex,zeroRight:Zg};var Xie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Qie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Xie();return t&&e.setAttribute("nonce",t),e}function Jie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Zie(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var eoe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Qie())&&(Jie(t,r),Zie(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},toe=function(){var e=eoe();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},UL=function(){var e=toe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},roe={left:0,top:0,right:0,gap:0},yw=function(e){return parseInt(e||"",10)||0},noe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[yw(r),yw(n),yw(a)]},soe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return roe;var t=noe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},aoe=UL(),fu="data-scroll-locked",ioe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Uie,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(fu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ex,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Zg," .").concat(Zg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ex," .").concat(ex,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(fu,`] {
    `).concat(zie,": ").concat(l,`px;
  }
`)},MT=function(){var e=parseInt(document.body.getAttribute(fu)||"0",10);return isFinite(e)?e:0},ooe=function(){x.useEffect(function(){return document.body.setAttribute(fu,(MT()+1).toString()),function(){var e=MT()-1;e<=0?document.body.removeAttribute(fu):document.body.setAttribute(fu,e.toString())}},[])},loe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;ooe();var i=x.useMemo(function(){return soe(a)},[a]);return x.createElement(aoe,{styles:ioe(i,!t,a,r?"":"!important")})},eN=!1;if(typeof window<"u")try{var lg=Object.defineProperty({},"passive",{get:function(){return eN=!0,!0}});window.addEventListener("test",lg,lg),window.removeEventListener("test",lg,lg)}catch{eN=!1}var _c=eN?{passive:!1}:!1,coe=function(e){return e.tagName==="TEXTAREA"},zL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!coe(e)&&r[t]==="visible")},uoe=function(e){return zL(e,"overflowY")},doe=function(e){return zL(e,"overflowX")},RT=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=VL(e,n);if(a){var i=qL(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},hoe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},foe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},VL=function(e,t){return e==="v"?uoe(t):doe(t)},qL=function(e,t){return e==="v"?hoe(t):foe(t)},moe=function(e,t){return e==="h"&&t==="rtl"?-1:1},poe=function(e,t,r,n,a){var i=moe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{var m=qL(e,l),g=m[0],p=m[1],y=m[2],b=p-y-i*g;(g||b)&&VL(e,l)&&(h+=b,f+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(u=!0),u},cg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},DT=function(e){return[e.deltaX,e.deltaY]},$T=function(e){return e&&"current"in e?e.current:e},goe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xoe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},voe=0,Sc=[];function yoe(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(voe++)[0],i=x.useState(UL)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Bie([e.lockRef.current],(e.shards||[]).map($T),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=cg(p),v=r.current,w="deltaX"in p?p.deltaX:v[0]-b[0],j="deltaY"in p?p.deltaY:v[1]-b[1],N,S=p.target,_=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in p&&_==="h"&&S.type==="range")return!1;var k=RT(_,S);if(!k)return!0;if(k?N=_:(N=_==="v"?"h":"v",k=RT(_,S)),!k)return!1;if(!n.current&&"changedTouches"in p&&(w||j)&&(n.current=N),!N)return!0;var C=n.current||N;return poe(C,y,p,C==="h"?w:j,!0)},[]),c=x.useCallback(function(p){var y=p;if(!(!Sc.length||Sc[Sc.length-1]!==i)){var b="deltaY"in y?DT(y):cg(y),v=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&goe(N.delta,b)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var w=(o.current.shards||[]).map($T).filter(Boolean).filter(function(N){return N.contains(y.target)}),j=w.length>0?l(y,w[0]):!o.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),u=x.useCallback(function(p,y,b,v){var w={name:p,delta:y,target:b,should:v,shadowParent:boe(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=x.useCallback(function(p){r.current=cg(p),n.current=void 0},[]),h=x.useCallback(function(p){u(p.type,DT(p),p.target,l(p,e.lockRef.current))},[]),f=x.useCallback(function(p){u(p.type,cg(p),p.target,l(p,e.lockRef.current))},[]);x.useEffect(function(){return Sc.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,_c),document.addEventListener("touchmove",c,_c),document.addEventListener("touchstart",d,_c),function(){Sc=Sc.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,_c),document.removeEventListener("touchmove",c,_c),document.removeEventListener("touchstart",d,_c)}},[]);var m=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(i,{styles:xoe(a)}):null,m?x.createElement(loe,{gapMode:e.gapMode}):null)}function boe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const woe=Yie(BL,yoe);var ap=x.forwardRef(function(e,t){return x.createElement(Qy,sa({},e,{ref:t,sideCar:woe}))});ap.classNames=Qy.classNames;var lk="Popover",[WL,y8e]=gs(lk,[Fd]),ip=Fd(),[joe,Io]=WL(lk),HL=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=ip(t),c=x.useRef(null),[u,d]=x.useState(!1),[h=!1,f]=ja({prop:n,defaultProp:a,onChange:i});return s.jsx(ak,{...l,children:s.jsx(joe,{scope:t,contentId:Ls(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:r})})};HL.displayName=lk;var KL="PopoverAnchor",Noe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Io(KL,r),i=ip(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Yy,{...i,...n,ref:t})});Noe.displayName=KL;var GL="PopoverTrigger",YL=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Io(GL,r),i=ip(r),o=Ke(t,a.triggerRef),l=s.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":e8(a.open),...n,ref:o,onClick:he(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Yy,{asChild:!0,...i,children:l})});YL.displayName=GL;var ck="PopoverPortal",[_oe,Soe]=WL(ck,{forceMount:void 0}),XL=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Io(ck,t);return s.jsx(_oe,{scope:t,forceMount:r,children:s.jsx(Ur,{present:r||i.open,children:s.jsx(Bd,{asChild:!0,container:a,children:n})})})};XL.displayName=ck;var Gu="PopoverContent",QL=x.forwardRef((e,t)=>{const r=Soe(Gu,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Io(Gu,e.__scopePopover);return s.jsx(Ur,{present:n||i.open,children:i.modal?s.jsx(koe,{...a,ref:t}):s.jsx(Coe,{...a,ref:t})})});QL.displayName=Gu;var koe=x.forwardRef((e,t)=>{const r=Io(Gu,e.__scopePopover),n=x.useRef(null),a=Ke(t,n),i=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return Xy(o)},[]),s.jsx(ap,{as:ii,allowPinchZoom:!0,children:s.jsx(JL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:he(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Coe=x.forwardRef((e,t)=>{const r=Io(Gu,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(JL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),JL=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=Io(Gu,r),m=ip(r);return Wy(),s.jsx(np,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx($d,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(ik,{"data-state":e8(f.open),role:"dialog",id:f.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ZL="PopoverClose",Poe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Io(ZL,r);return s.jsx(ke.button,{type:"button",...n,ref:t,onClick:he(e.onClick,()=>a.onOpenChange(!1))})});Poe.displayName=ZL;var Aoe="PopoverArrow",Eoe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ip(r);return s.jsx(ok,{...a,...n,ref:t})});Eoe.displayName=Aoe;function e8(e){return e?"open":"closed"}var Toe=HL,Ooe=YL,Moe=XL,t8=QL;const Roe=Toe,Doe=Ooe,r8=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(Moe,{children:s.jsx(t8,{ref:a,align:t,sideOffset:r,className:ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));r8.displayName=t8.displayName;function Nt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _o(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const n8=6048e5,$oe=864e5,ug=43200,IT=1440;let Ioe={};function op(){return Ioe}function Yf(e,t){var l,c,u,d;const r=op(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Nt(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Jx(e){return Yf(e,{weekStartsOn:1})}function s8(e){const t=Nt(e),r=t.getFullYear(),n=_o(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Jx(n),i=_o(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Jx(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function LT(e){const t=Nt(e);return t.setHours(0,0,0,0),t}function Zx(e){const t=Nt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Loe(e,t){const r=LT(e),n=LT(t),a=+r-Zx(r),i=+n-Zx(n);return Math.round((a-i)/$oe)}function Foe(e){const t=s8(e),r=_o(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Jx(r)}function tx(e,t){const r=Nt(e),n=Nt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Boe(e){return _o(e,Date.now())}function Uoe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zoe(e){if(!Uoe(e)&&typeof e!="number")return!1;const t=Nt(e);return!isNaN(Number(t))}function Voe(e,t){const r=Nt(e),n=Nt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function qoe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Woe(e,t){return+Nt(e)-+Nt(t)}function Hoe(e){const t=Nt(e);return t.setHours(23,59,59,999),t}function Koe(e){const t=Nt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Goe(e){const t=Nt(e);return+Hoe(t)==+Koe(t)}function Yoe(e,t){const r=Nt(e),n=Nt(t),a=tx(r,n),i=Math.abs(Voe(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=tx(r,n)===-a;Goe(Nt(e))&&i===1&&tx(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function Xoe(e,t,r){const n=Woe(e,t)/1e3;return qoe(r==null?void 0:r.roundingMethod)(n)}function Qoe(e){const t=Nt(e),r=_o(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Joe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zoe=(e,t,r)=>{let n;const a=Joe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function bw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ele={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nle={date:bw({formats:ele,defaultWidth:"full"}),time:bw({formats:tle,defaultWidth:"full"}),dateTime:bw({formats:rle,defaultWidth:"full"})},sle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ale=(e,t,r,n)=>sle[e];function xh(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const ile={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ole={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ule={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hle=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fle={ordinalNumber:hle,era:xh({values:ile,defaultWidth:"wide"}),quarter:xh({values:ole,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xh({values:lle,defaultWidth:"wide"}),day:xh({values:cle,defaultWidth:"wide"}),dayPeriod:xh({values:ule,defaultWidth:"wide",formattingValues:dle,defaultFormattingWidth:"wide"})};function vh(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ple(l,h=>h.test(o)):mle(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function mle(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ple(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function gle(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const xle=/^(\d+)(th|st|nd|rd)?/i,vle=/\d+/i,yle={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ble={any:[/^b/i,/^(a|c)/i]},wle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jle={any:[/1/i,/2/i,/3/i,/4/i]},Nle={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_le={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kle={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ple={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ale={ordinalNumber:gle({matchPattern:xle,parsePattern:vle,valueCallback:e=>parseInt(e,10)}),era:vh({matchPatterns:yle,defaultMatchWidth:"wide",parsePatterns:ble,defaultParseWidth:"any"}),quarter:vh({matchPatterns:wle,defaultMatchWidth:"wide",parsePatterns:jle,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vh({matchPatterns:Nle,defaultMatchWidth:"wide",parsePatterns:_le,defaultParseWidth:"any"}),day:vh({matchPatterns:Sle,defaultMatchWidth:"wide",parsePatterns:kle,defaultParseWidth:"any"}),dayPeriod:vh({matchPatterns:Cle,defaultMatchWidth:"any",parsePatterns:Ple,defaultParseWidth:"any"})},a8={code:"en-US",formatDistance:Zoe,formatLong:nle,formatRelative:ale,localize:fle,match:Ale,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ele(e){const t=Nt(e);return Loe(t,Qoe(t))+1}function Tle(e){const t=Nt(e),r=+Jx(t)-+Foe(t);return Math.round(r/n8)+1}function i8(e,t){var d,h,f,m;const r=Nt(e),n=r.getFullYear(),a=op(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(f=a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=_o(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Yf(o,t),c=_o(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Yf(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Ole(e,t){var l,c,u,d;const r=op(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=i8(e,t),i=_o(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Yf(i,t)}function Mle(e,t){const r=Nt(e),n=+Yf(r,t)-+Ole(r,t);return Math.round(n/n8)+1}function ft(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ki={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ft(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ft(r+1,2)},d(e,t){return ft(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ft(e.getHours()%12||12,t.length)},H(e,t){return ft(e.getHours(),t.length)},m(e,t){return ft(e.getMinutes(),t.length)},s(e,t){return ft(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ft(a,t.length)}},kc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},FT={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ki.y(e,t)},Y:function(e,t,r,n){const a=i8(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ft(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ft(i,t.length)},R:function(e,t){const r=s8(e);return ft(r,t.length)},u:function(e,t){const r=e.getFullYear();return ft(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ft(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ft(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ki.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ft(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Mle(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ft(a,t.length)},I:function(e,t,r){const n=Tle(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ft(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ki.d(e,t)},D:function(e,t,r){const n=Ele(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ft(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ft(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ft(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ft(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=kc.noon:n===0?a=kc.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=kc.evening:n>=12?a=kc.afternoon:n>=4?a=kc.morning:a=kc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ki.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ki.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ft(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ft(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ki.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ki.s(e,t)},S:function(e,t){return ki.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return UT(n);case"XXXX":case"XX":return el(n);case"XXXXX":case"XXX":default:return el(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return UT(n);case"xxxx":case"xx":return el(n);case"xxxxx":case"xxx":default:return el(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+BT(n,":");case"OOOO":default:return"GMT"+el(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+BT(n,":");case"zzzz":default:return"GMT"+el(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ft(n,t.length)},T:function(e,t,r){const n=e.getTime();return ft(n,t.length)}};function BT(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+ft(i,2)}function UT(e,t){return e%60===0?(e>0?"-":"+")+ft(Math.abs(e)/60,2):el(e,t)}function el(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ft(Math.trunc(n/60),2),i=ft(n%60,2);return r+a+t+i}const zT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},o8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Rle=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return zT(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",zT(n,t)).replace("{{time}}",o8(a,t))},Dle={p:o8,P:Rle},$le=/^D+$/,Ile=/^Y+$/,Lle=["D","DD","YY","YYYY"];function Fle(e){return $le.test(e)}function Ble(e){return Ile.test(e)}function Ule(e,t,r){const n=zle(e,t,r);if(console.warn(n),Lle.includes(e))throw new RangeError(n)}function zle(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wle=/^'([^]*?)'?$/,Hle=/''/g,Kle=/[a-zA-Z]/;function ui(e,t,r){var d,h,f,m;const n=op(),a=n.locale??a8,i=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,l=Nt(e);if(!zoe(l))throw new RangeError("Invalid time value");let c=t.match(qle).map(g=>{const p=g[0];if(p==="p"||p==="P"){const y=Dle[p];return y(g,a.formatLong)}return g}).join("").match(Vle).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:Gle(g)};if(FT[p])return{isToken:!0,value:g};if(p.match(Kle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(Ble(p)||Fle(p))&&Ule(p,t,String(e));const y=FT[p[0]];return y(l,p,a.localize,u)}).join("")}function Gle(e){const t=e.match(Wle);return t?t[1].replace(Hle,"'"):e}function Yle(e,t,r){const n=op(),a=(r==null?void 0:r.locale)??n.locale??a8,i=2520,o=tx(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Nt(t),u=Nt(e)):(c=Nt(e),u=Nt(t));const d=Xoe(u,c),h=(Zx(u)-Zx(c))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<IT){const g=Math.round(f/60);return a.formatDistance("aboutXHours",g,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<ug){const g=Math.round(f/IT);return a.formatDistance("xDays",g,l)}else if(f<ug*2)return m=Math.round(f/ug),a.formatDistance("aboutXMonths",m,l)}if(m=Yoe(u,c),m<12){const g=Math.round(f/ug);return a.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function Xle(e,t){return Yle(e,Boe(e),t)}const Qle={event:s.jsx(Ae,{className:"w-4 h-4"}),payment:s.jsx(gi,{className:"w-4 h-4"}),approval:s.jsx(qn,{className:"w-4 h-4"}),announcement:s.jsx(nf,{className:"w-4 h-4"}),alert:s.jsx(An,{className:"w-4 h-4"}),success:s.jsx(Ze,{className:"w-4 h-4"}),info:s.jsx(oc,{className:"w-4 h-4"}),warning:s.jsx(cc,{className:"w-4 h-4"}),achievement:s.jsx(Wt,{className:"w-4 h-4"})},Jle=({notifications:e,onMarkAllRead:t,onDismiss:r})=>{const[n,a]=x.useState(e),[i,o]=x.useState(null),[l,c]=x.useState(null);x.useEffect(()=>{a(e),e.forEach(g=>{var p;(p=g.metadata)!=null&&p.isWorldClass&&!g.is_read&&(c(g.id),setTimeout(()=>c(null),3e3))})},[e]);const u=async g=>{try{await A.from("notifications").update({is_read:!0}).eq("id",g),a(p=>p.map(y=>y.id===g?{...y,is_read:!0}:y))}catch(p){console.error("Error marking notification as read:",p)}},d=async g=>{try{await A.from("notifications").delete().eq("id",g),a(p=>p.filter(y=>y.id!==g)),r&&r(g)}catch(p){console.error("Error dismissing notification:",p)}},h=g=>{switch(g){case"event":return"bg-blue-100 text-blue-800 border-blue-200";case"payment":return"bg-green-100 text-green-800 border-green-200";case"approval":return"bg-amber-100 text-amber-800 border-amber-200";case"announcement":return"bg-purple-100 text-purple-800 border-purple-200";case"alert":return"bg-red-100 text-red-800 border-red-200";case"success":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"info":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"warning":return"bg-orange-100 text-orange-800 border-orange-200";case"achievement":return"bg-gradient-to-r from-yellow-100 to-amber-100 text-amber-800 border-amber-300";default:return"bg-gray-100 text-gray-800 border-gray-200"}},f=g=>{switch(g){case"urgent":return"border-l-4 border-l-red-600 shadow-lg shadow-red-100";case"high":return"border-l-4 border-l-red-500 shadow-md shadow-red-50";case"medium":return"border-l-4 border-l-amber-500";case"low":return"border-l-4 border-l-blue-500";default:return""}},m=g=>{var p;return(p=g.metadata)!=null&&p.isWorldClass?`ring-2 ring-gradient-to-r from-purple-400 to-pink-400 shadow-xl bg-gradient-to-r from-purple-50 via-pink-50 to-yellow-50 ${l===g.id?"animate-pulse":""}`:""};return n.length===0?s.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:s.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[s.jsx(Pn,{className:"w-16 h-16 text-gray-300 mb-4 mx-auto"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications yet"}),s.jsx("p",{className:"text-gray-500",children:"We'll notify you when something amazing happens!"})]})}):s.jsxs("div",{className:"space-y-3",children:[t&&n.some(g=>!g.is_read)&&s.jsxs("div",{className:"flex justify-between items-center px-2 py-1",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[n.filter(g=>!g.is_read).length," unread notifications"]}),s.jsxs(M,{variant:"ghost",size:"sm",onClick:t,className:"text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-50",children:[s.jsx(zl,{className:"w-3 h-3 mr-1"}),"Mark all as read"]})]}),s.jsx(zs,{children:n.map(g=>{var p,y,b,v;return s.jsx(ve.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:100,scale:.95},transition:{duration:.3,ease:"easeOut"},className:`relative ${f(g.priority)}`,onMouseEnter:()=>o(g.id),onMouseLeave:()=>o(null),children:s.jsxs("div",{className:`p-4 rounded-xl border transition-all duration-300 ${g.is_read?"bg-gray-50/50 border-gray-200":"bg-white border-gray-300 shadow-sm"} ${i===g.id?"ring-2 ring-blue-200 shadow-md transform scale-[1.01]":""} ${m(g)}`,children:[((p=g.metadata)==null?void 0:p.isWorldClass)&&l===g.id&&s.jsx("div",{className:"absolute -top-2 -right-2",children:s.jsxs(ve.div,{initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{duration:.6},className:"relative",children:[s.jsx(ms,{className:"w-6 h-6 text-yellow-500"}),Array.from({length:3}).map((w,j)=>s.jsx(ve.div,{className:"absolute w-1 h-1 bg-yellow-400 rounded-full",initial:{opacity:1,scale:1,x:0,y:0},animate:{opacity:0,scale:0,x:Math.random()*40-20,y:Math.random()*40-20},transition:{duration:1,delay:j*.2}},j))]})}),s.jsxs("div",{className:"flex justify-between items-start gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ve.div,{className:`p-2 rounded-lg ${h(g.type)}`,whileHover:{scale:1.1},transition:{duration:.2},children:Qle[g.type]||s.jsx(Pn,{className:"w-4 h-4"})}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("h4",{className:`font-semibold text-sm ${g.is_read?"text-gray-600":"text-gray-900"} ${(y=g.metadata)!=null&&y.isWorldClass?"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600":""}`,children:[g.title,((b=g.metadata)==null?void 0:b.isWorldClass)&&s.jsxs(ve.span,{className:"ml-2 inline-flex items-center",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:[s.jsx(Ro,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsx("span",{className:"text-xs bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-2 py-1 rounded-full font-bold",children:"WORLD CLASS"})]})]}),s.jsx(H,{variant:"outline",className:`text-xs capitalize ${h(g.type)}`,children:g.type}),g.priority==="urgent"&&s.jsx(ve.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:s.jsx(H,{variant:"destructive",className:"text-xs",children:"URGENT"})})]})})]}),s.jsx("p",{className:`text-sm mt-2 leading-relaxed ${g.is_read?"text-gray-500":"text-gray-700"} ${(v=g.metadata)!=null&&v.isWorldClass?"font-medium":""}`,children:g.message}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("p",{className:"text-xs text-gray-400",children:Xle(new Date(g.created_at),{addSuffix:!0})}),g.action_url&&s.jsx(M,{variant:"link",size:"sm",className:"text-xs h-auto p-0 text-blue-600 hover:text-blue-800",asChild:!0,children:s.jsxs("a",{href:g.action_url,className:"flex items-center gap-1",children:["View details",s.jsx(ve.div,{whileHover:{x:2},children:""})]})})]})]}),s.jsxs("div",{className:"flex gap-1",children:[!g.is_read&&s.jsx(ve.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>u(g.id),className:"h-8 w-8 hover:bg-blue-100 text-blue-600",title:"Mark as read",children:s.jsx(zl,{className:"w-4 h-4"})})}),s.jsx(ve.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>d(g.id),className:"h-8 w-8 hover:bg-red-100 text-red-600",title:"Dismiss",children:s.jsx(Kn,{className:"w-4 h-4"})})})]})]})]})},g.id)})})]})},Zle=({memberData:e,user:t})=>{var c,u;const{signOut:r}=ye(),[n,a]=x.useState(Date.now()),i=[],o=0,l=()=>{console.log("Mark all as read")};return s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(dc,{className:"w-12 h-12",children:[s.jsx(Dd,{src:e!=null&&e.avatar_url?`${e.avatar_url}?t=${n}`:void 0},n),s.jsx(hc,{className:"bg-kic-green-500 text-white",children:((c=e==null?void 0:e.name)==null?void 0:c.split(" ").map(d=>d[0]).join("").toUpperCase())||((u=t==null?void 0:t.email)==null?void 0:u.charAt(0).toUpperCase())||"U"})]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-kic-gray",children:["Welcome back, ",(e==null?void 0:e.name)||(t==null?void 0:t.email)]}),s.jsx("p",{className:"text-kic-gray/70 text-sm sm:text-base",children:"Manage your KIC membership and activities"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Roe,{children:[s.jsx(Doe,{asChild:!0,children:s.jsxs(M,{variant:"outline",size:"sm",className:"relative",children:[s.jsx(Pn,{className:"w-4 h-4"}),o>0]})}),s.jsxs(r8,{className:"w-80 p-0",align:"end",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium",children:"Notifications"}),o>0]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.jsx(Jle,{notifications:i.slice(0,10),onMarkAllRead:l})})]})]}),s.jsx(M,{onClick:r,variant:"outline",size:"sm",children:"Sign Out"})]})]})},l8=({notifications:e,projects:t,certificates:r,upcomingEvents:n})=>{const{user:a}=ye(),[i,o]=x.useState(null),[l,c]=x.useState({registration:!1,subscription:!1,loading:!0});x.useEffect(()=>{a&&(u(),d())},[a]);const u=async()=>{if(a)try{const{data:h,error:f}=await A.rpc("calculate_detailed_member_ranking");if(f)throw f;const m=h==null?void 0:h.find(g=>g.user_id===a.id);m&&o({rank:m.rank,total_points:m.total_points})}catch(h){console.error("Error fetching user ranking:",h)}},d=async()=>{if(a)try{const{data:h,error:f}=await A.from("mpesa_payments").select("payment_type, status").eq("user_id",a.id).eq("status","completed");if(f)throw f;const m=(h==null?void 0:h.some(p=>p.payment_type==="membership"||p.payment_type==="registration"))||!1,g=(h==null?void 0:h.some(p=>p.payment_type==="subscription"))||!1;c({registration:m,subscription:g,loading:!1})}catch(h){console.error("Error fetching payment status:",h),c(f=>({...f,loading:!1}))}};return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsx(R,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Notifications"}),s.jsx("p",{className:"text-3xl font-bold",children:e.length})]}),s.jsx(Pn,{className:"h-8 w-8 text-blue-200"})]})})}),s.jsx(R,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Projects"}),s.jsx("p",{className:"text-3xl font-bold",children:t.length})]}),s.jsx(cee,{className:"h-8 w-8 text-green-200"})]})})}),s.jsx(R,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Certificates"}),s.jsx("p",{className:"text-3xl font-bold",children:r.length})]}),s.jsx(Wt,{className:"h-8 w-8 text-purple-200"})]})})}),s.jsx(R,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Upcoming Events"}),s.jsx("p",{className:"text-3xl font-bold",children:n.length})]}),s.jsx(Ae,{className:"h-8 w-8 text-orange-200"})]})})})]})};function ece(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];function u(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[e][c])||l,y=x.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:y,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,tce(a,...t)]}function tce(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Jy(e){const t=e+"CollectionProvider",[r,n]=ece(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:p}=m,y=O.useRef(null),b=O.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:b,collectionRef:y,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=O.forwardRef((m,g)=>{const{scope:p,children:y}=m,b=i(l,p),v=Ke(g,b.collectionRef);return s.jsx(ii,{ref:v,children:y})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=O.forwardRef((m,g)=>{const{scope:p,children:y,...b}=m,v=O.useRef(null),w=Ke(g,v),j=i(u,p);return O.useEffect(()=>(j.itemMap.set(v,{ref:v,...b}),()=>void j.itemMap.delete(v))),s.jsx(ii,{[d]:"",ref:w,children:y})});h.displayName=u;function f(m){const g=i(e+"CollectionConsumer",m);return O.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((j,N)=>b.indexOf(j.ref.current)-b.indexOf(N.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,n]}function rce(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];function u(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[e][c])||l,y=x.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:y,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,nce(a,...t)]}function nce(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var ww="rovingFocusGroup.onEntryFocus",sce={bubbles:!1,cancelable:!0},Zy="RovingFocusGroup",[tN,c8,ace]=Jy(Zy),[ice,e0]=rce(Zy,[ace]),[oce,lce]=ice(Zy),u8=x.forwardRef((e,t)=>s.jsx(tN.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(tN.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(cce,{...e,ref:t})})}));u8.displayName=Zy;var cce=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=x.useRef(null),m=Ke(t,f),g=rp(i),[p=null,y]=ja({prop:o,defaultProp:l,onChange:c}),[b,v]=x.useState(!1),w=Lt(u),j=c8(r),N=x.useRef(!1),[S,_]=x.useState(0);return x.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(ww,w),()=>k.removeEventListener(ww,w)},[w]),s.jsx(oce,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:x.useCallback(k=>y(k),[y]),onItemShiftTab:x.useCallback(()=>v(!0),[]),onFocusableItemAdd:x.useCallback(()=>_(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>_(k=>k-1),[]),children:s.jsx(ke.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:he(e.onMouseDown,()=>{N.current=!0}),onFocus:he(e.onFocus,k=>{const C=!N.current;if(k.target===k.currentTarget&&C&&!b){const P=new CustomEvent(ww,sce);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const E=j().filter(U=>U.focusable),T=E.find(U=>U.active),F=E.find(U=>U.id===p),$=[T,F,...E].filter(Boolean).map(U=>U.ref.current);f8($,d)}}N.current=!1}),onBlur:he(e.onBlur,()=>v(!1))})})}),d8="RovingFocusGroupItem",h8=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...o}=e,l=Ls(),c=i||l,u=lce(d8,r),d=u.currentTabStopId===c,h=c8(r),{onFocusableItemAdd:f,onFocusableItemRemove:m}=u;return x.useEffect(()=>{if(n)return f(),()=>m()},[n,f,m]),s.jsx(tN.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(ke.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:he(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:he(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:he(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=hce(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(v=>v.focusable).map(v=>v.ref.current);if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const v=b.indexOf(g.currentTarget);b=u.loop?fce(b,v+1):b.slice(v+1)}setTimeout(()=>f8(b))}})})})});h8.displayName=d8;var uce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function hce(e,t,r){const n=dce(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return uce[n]}function f8(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function fce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var m8=u8,p8=h8,uk="Tabs",[mce,b8e]=gs(uk,[e0]),g8=e0(),[pce,dk]=mce(uk),x8=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=rp(l),[h,f]=ja({prop:n,onChange:a,defaultProp:i});return s.jsx(pce,{scope:r,baseId:Ls(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:s.jsx(ke.div,{dir:d,"data-orientation":o,...u,ref:t})})});x8.displayName=uk;var v8="TabsList",y8=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=dk(v8,r),o=g8(r);return s.jsx(m8,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(ke.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});y8.displayName=v8;var b8="TabsTrigger",w8=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=dk(b8,r),l=g8(r),c=_8(o.baseId,n),u=S8(o.baseId,n),d=n===o.value;return s.jsx(p8,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(ke.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:he(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:he(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:he(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!a&&h&&o.onValueChange(n)})})})});w8.displayName=b8;var j8="TabsContent",N8=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=dk(j8,r),c=_8(l.baseId,n),u=S8(l.baseId,n),d=n===l.value,h=x.useRef(d);return x.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(Ur,{present:a||d,children:({present:f})=>s.jsx(ke.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});N8.displayName=j8;function _8(e,t){return`${e}-trigger-${t}`}function S8(e,t){return`${e}-content-${t}`}var gce=x8,k8=y8,C8=w8,P8=N8;const Mr=gce,Yt=x.forwardRef(({className:e,...t},r)=>s.jsx(k8,{ref:r,className:ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Yt.displayName=k8.displayName;const te=x.forwardRef(({className:e,...t},r)=>s.jsx(C8,{ref:r,className:ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));te.displayName=C8.displayName;const de=x.forwardRef(({className:e,...t},r)=>s.jsx(P8,{ref:r,className:ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));de.displayName=P8.displayName;const xce=()=>s.jsxs("div",{className:"w-full mb-6",children:[s.jsx("div",{className:"block lg:hidden",children:s.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:s.jsxs(Yt,{className:"inline-flex h-12 items-center justify-start rounded-md bg-muted p-1 text-muted-foreground min-w-max",children:[s.jsxs(te,{value:"overview",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(ir,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Overview"})]}),s.jsxs(te,{value:"profile",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(ir,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Profile"})]}),s.jsxs(te,{value:"events",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(Ae,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Events"})]}),s.jsxs(te,{value:"projects",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(ql,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Projects"})]}),s.jsxs(te,{value:"certificates",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Certificates"})]}),s.jsxs(te,{value:"payments",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(aa,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Payments"})]}),s.jsxs(te,{value:"submissions",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(vo,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Submissions"})]}),s.jsxs(te,{value:"constitution",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(Fr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Constitution"})]}),s.jsxs(te,{value:"communities",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(Oe,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Communities"})]}),s.jsxs(te,{value:"elections",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(Ds,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Elections"})]}),s.jsxs(te,{value:"blogging",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(KE,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Blogging"})]}),s.jsxs(te,{value:"careers",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(Ul,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Careers"})]})]})})}),s.jsx("div",{className:"hidden lg:block",children:s.jsxs(Yt,{className:"grid w-full grid-cols-12 h-12 bg-muted",children:[s.jsxs(te,{value:"overview",className:"flex items-center gap-2 px-2",children:[s.jsx(ir,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Overview"})]}),s.jsxs(te,{value:"profile",className:"flex items-center gap-2 px-2",children:[s.jsx(ir,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Profile"})]}),s.jsxs(te,{value:"events",className:"flex items-center gap-2 px-2",children:[s.jsx(Ae,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Events"})]}),s.jsxs(te,{value:"projects",className:"flex items-center gap-2 px-2",children:[s.jsx(ql,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Projects"})]}),s.jsxs(te,{value:"certificates",className:"flex items-center gap-2 px-2",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Certificates"})]}),s.jsxs(te,{value:"payments",className:"flex items-center gap-2 px-2",children:[s.jsx(aa,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Payments"})]}),s.jsxs(te,{value:"submissions",className:"flex items-center gap-2 px-2",children:[s.jsx(vo,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Submissions"})]}),s.jsxs(te,{value:"constitution",className:"flex items-center gap-2 px-2",children:[s.jsx(Fr,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Constitution"})]}),s.jsxs(te,{value:"communities",className:"flex items-center gap-2 px-2",children:[s.jsx(Oe,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Communities"})]}),s.jsxs(te,{value:"elections",className:"flex items-center gap-2 px-2",children:[s.jsx(Ds,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Elections"})]}),s.jsxs(te,{value:"blogging",className:"flex items-center gap-2 px-2",children:[s.jsx(KE,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Blogging"})]}),s.jsxs(te,{value:"careers",className:"flex items-center gap-2 px-2",children:[s.jsx(Ul,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Careers"})]})]})})]}),vce=()=>{const{user:e}=ye(),[t,r]=x.useState([]),[n,a]=x.useState(0),[i,o]=x.useState(!0);x.useEffect(()=>{e&&(l(),c())},[e]);const l=async()=>{if(e)try{const{data:h,error:f}=await A.from("member_badges").select("*").eq("user_id",e.id).order("earned_at",{ascending:!1});if(f)throw f;r(h||[])}catch(h){console.error("Error fetching badges:",h)}finally{o(!1)}},c=async()=>{if(e)try{const{data:h,error:f}=await A.from("member_points").select("points").eq("user_id",e.id);if(f)throw f;const m=(h==null?void 0:h.reduce((g,p)=>g+p.points,0))||0;a(m)}catch(h){console.error("Error fetching points:",h)}},u=h=>{switch(h){case"achievement":return s.jsx(Wt,{className:"w-6 h-6 text-yellow-500"});case"participation":return s.jsx(qn,{className:"w-6 h-6 text-blue-500"});case"contribution":return s.jsx(My,{className:"w-6 h-6 text-green-500"});default:return s.jsx(lr,{className:"w-6 h-6 text-purple-500"})}},d=h=>{switch(h){case"achievement":return"bg-yellow-100 border-yellow-300";case"participation":return"bg-blue-100 border-blue-300";case"contribution":return"bg-green-100 border-green-300";default:return"bg-purple-100 border-purple-300"}};return i?s.jsx("div",{className:"text-center py-4",children:"Loading badges..."}):s.jsx("div",{className:"space-y-6",children:s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(lr,{className:"w-5 h-5"}),"My Achievements"]})}),s.jsxs(L,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center p-4 bg-kic-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-kic-green-600",children:t.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Badges Earned"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Points"})]})]}),s.jsx("div",{className:"space-y-4",children:t.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(lr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No badges earned yet"}),s.jsx("p",{className:"text-sm",children:"Participate in events and submit projects to earn your first badge!"})]}):t.map(h=>s.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border-2 ${d(h.category)}`,children:[u(h.category),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold",children:h.badge_type}),s.jsx(H,{variant:"secondary",children:h.category})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[s.jsxs("span",{children:[h.points," points"]}),s.jsxs("span",{children:["Earned ",new Date(h.earned_at).toLocaleDateString()]})]})]})]},h.id))})]})]})})},A8=()=>{const{user:e}=ye(),[t,r]=x.useState(null),[n,a]=x.useState(!0),i=async()=>{if(!e){a(!1);return}try{a(!0);const{data:o,error:l}=await A.from("members").select("*").eq("user_id",e.id).single();if(l&&l.code!=="PGRST116"){console.error("Error fetching member data:",l);return}r(o)}catch(o){console.error("Error fetching member data:",o)}finally{a(!1)}};return x.useEffect(()=>{e?i():a(!1)},[e]),{memberData:t,isLoading:n,refetchMemberData:i}},E8=()=>{const{user:e}=ye(),[t,r]=x.useState({totalProjects:0,eventsAttended:0,certificatesEarned:0,totalPoints:0}),[n,a]=x.useState(!0),i=async()=>{if(!e){a(!1);return}try{a(!0);const{count:o}=await A.from("project_submissions").select("*",{count:"exact",head:!0}).eq("user_id",e.id),{count:l}=await A.from("event_attendance").select("*",{count:"exact",head:!0}).eq("user_id",e.id),{count:c}=await A.from("certificates").select("*",{count:"exact",head:!0}).eq("user_id",e.id),{data:u}=await A.from("member_points").select("points").eq("user_id",e.id),d=(u==null?void 0:u.reduce((h,f)=>h+(f.points||0),0))||0;r({totalProjects:o||0,eventsAttended:l||0,certificatesEarned:c||0,totalPoints:d})}catch(o){console.error("Error fetching user stats:",o)}finally{a(!1)}};return x.useEffect(()=>{e?i():a(!1)},[e]),{stats:t,isLoading:n,refetchUserStats:i}},yce=()=>{const{memberData:e,isLoading:t}=A8(),{stats:r,isLoading:n}=E8();return t||n?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((a,i)=>s.jsxs(R,{className:"animate-pulse",children:[s.jsx(Z,{className:"space-y-0 pb-2",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),s.jsx(L,{children:s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})})]},i))})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(l8,{notifications:[],projects:[],certificates:[],upcomingEvents:[]}),s.jsx(vce,{})]})};var hk="Dialog",[T8,O8]=gs(hk),[bce,Hs]=T8(hk),M8=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u=!1,d]=ja({prop:n,defaultProp:a,onChange:i});return s.jsx(bce,{scope:t,triggerRef:l,contentRef:c,contentId:Ls(),titleId:Ls(),descriptionId:Ls(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};M8.displayName=hk;var R8="DialogTrigger",D8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hs(R8,r),i=Ke(t,a.triggerRef);return s.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":pk(a.open),...n,ref:i,onClick:he(e.onClick,a.onOpenToggle)})});D8.displayName=R8;var fk="DialogPortal",[wce,$8]=T8(fk,{forceMount:void 0}),I8=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Hs(fk,t);return s.jsx(wce,{scope:t,forceMount:r,children:x.Children.map(n,o=>s.jsx(Ur,{present:r||i.open,children:s.jsx(Bd,{asChild:!0,container:a,children:o})}))})};I8.displayName=fk;var ev="DialogOverlay",L8=x.forwardRef((e,t)=>{const r=$8(ev,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Hs(ev,e.__scopeDialog);return i.modal?s.jsx(Ur,{present:n||i.open,children:s.jsx(jce,{...a,ref:t})}):null});L8.displayName=ev;var jce=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hs(ev,r);return s.jsx(ap,{as:ii,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(ke.div,{"data-state":pk(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Xl="DialogContent",F8=x.forwardRef((e,t)=>{const r=$8(Xl,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Hs(Xl,e.__scopeDialog);return s.jsx(Ur,{present:n||i.open,children:i.modal?s.jsx(Nce,{...a,ref:t}):s.jsx(_ce,{...a,ref:t})})});F8.displayName=Xl;var Nce=x.forwardRef((e,t)=>{const r=Hs(Xl,e.__scopeDialog),n=x.useRef(null),a=Ke(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return Xy(i)},[]),s.jsx(B8,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:he(e.onFocusOutside,i=>i.preventDefault())})}),_ce=x.forwardRef((e,t)=>{const r=Hs(Xl,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(B8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),B8=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Hs(Xl,r),c=x.useRef(null),u=Ke(t,c);return Wy(),s.jsxs(s.Fragment,{children:[s.jsx(np,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx($d,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":pk(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(kce,{titleId:l.titleId}),s.jsx(Pce,{contentRef:c,descriptionId:l.descriptionId})]})]})}),mk="DialogTitle",U8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hs(mk,r);return s.jsx(ke.h2,{id:a.titleId,...n,ref:t})});U8.displayName=mk;var z8="DialogDescription",V8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hs(z8,r);return s.jsx(ke.p,{id:a.descriptionId,...n,ref:t})});V8.displayName=z8;var q8="DialogClose",W8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hs(q8,r);return s.jsx(ke.button,{type:"button",...n,ref:t,onClick:he(e.onClick,()=>a.onOpenChange(!1))})});W8.displayName=q8;function pk(e){return e?"open":"closed"}var H8="DialogTitleWarning",[Sce,K8]=qne(H8,{contentName:Xl,titleName:mk,docsSlug:"dialog"}),kce=({titleId:e})=>{const t=K8(H8),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Cce="DialogDescriptionWarning",Pce=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${K8(Cce).contentName}}.`;return x.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},gk=M8,G8=D8,xk=I8,t0=L8,r0=F8,vk=U8,yk=V8,bk=W8;const pt=gk,er=G8,Ace=xk,Y8=x.forwardRef(({className:e,...t},r)=>s.jsx(t0,{ref:r,className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Y8.displayName=t0.displayName;const yt=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Ace,{children:[s.jsx(Y8,{}),s.jsxs(r0,{ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(bk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yt.displayName=r0.displayName;const bt=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});bt.displayName="DialogHeader";const wt=x.forwardRef(({className:e,...t},r)=>s.jsx(vk,{ref:r,className:ne("text-lg font-semibold leading-none tracking-tight",e),...t}));wt.displayName=vk.displayName;const n0=x.forwardRef(({className:e,...t},r)=>s.jsx(yk,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));n0.displayName=yk.displayName;const Ece=({avatarUrl:e,setAvatarUrl:t,name:r,onAvatarUpdate:n})=>{const{user:a}=ye(),{toast:i}=xe(),[o,l]=x.useState(!1),[c,u]=x.useState(Date.now()),d=async h=>{try{if(l(!0),!h.target.files||h.target.files.length===0)return;const f=h.target.files[0],m=f.name.split(".").pop(),g=`${a==null?void 0:a.id}/${Math.random()}.${m}`,{error:p}=await A.storage.from("avatars").upload(g,f);if(p)throw p;const{data:y}=A.storage.from("avatars").getPublicUrl(g),b=y.publicUrl;t(b),u(Date.now()),await A.from("members").update({avatar_url:b}).eq("user_id",a==null?void 0:a.id),await A.from("profiles").upsert({user_id:a==null?void 0:a.id,avatar_url:b}),i({title:"Avatar uploaded",description:"Your profile picture has been updated"}),n&&n()}catch(f){console.error("Error uploading avatar:",f),i({title:"Upload failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}finally{l(!1)}};return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(dc,{className:"w-20 h-20",children:[s.jsx(Dd,{src:e?`${e}?t=${c}`:void 0},c),s.jsx(hc,{children:r.split(" ").map(h=>h[0]).join("").toUpperCase()||"U"})]}),s.jsxs("div",{children:[s.jsxs(M,{variant:"outline",disabled:o,className:"relative overflow-hidden",children:[s.jsx(tee,{className:"w-4 h-4 mr-2"}),o?"Uploading...":"Change Avatar",s.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"absolute inset-0 opacity-0 cursor-pointer",disabled:o})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload a profile picture"})]})]})},Tce=({name:e,setName:t,email:r,phone:n,setPhone:a,course:i,setCourse:o})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name"}),s.jsx(re,{value:e,onChange:l=>t(l.target.value),placeholder:"Your full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),s.jsx(re,{value:r,disabled:!0,className:"bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),s.jsx(re,{value:n,onChange:l=>a(l.target.value),placeholder:"Your phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Course"}),s.jsx(re,{value:i,onChange:l=>o(l.target.value),placeholder:"Your course/program"})]})]}),ct=x.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ct.displayName="Textarea";const Oce=({bio:e,setBio:t})=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bio"}),s.jsx(ct,{value:e,onChange:r=>t(r.target.value),placeholder:"Tell us about yourself...",rows:4})]}),Mce=({memberData:e,onUpdate:t})=>{const{user:r}=ye(),{toast:n}=xe(),[a,i]=x.useState(null),[o,l]=x.useState(!0),[c,u]=x.useState(!1),[d,h]=x.useState(""),[f,m]=x.useState(""),[g,p]=x.useState(""),[y,b]=x.useState(""),[v,w]=x.useState(""),[j,N]=x.useState(null);x.useEffect(()=>{r&&e&&(S(),h(e.name||""),m(e.email||""),N(e.avatar_url||null))},[r,e]);const S=async()=>{if(r)try{const{data:C,error:P}=await A.from("profiles").select("*").eq("user_id",r.id).single();if(P&&P.code!=="PGRST116")throw P;C&&(i(C),p(C.phone||""),b(C.course||""),w(C.bio||""),N(C.avatar_url))}catch(C){console.error("Error fetching profile:",C)}finally{l(!1)}},_=()=>{t&&t()},k=async()=>{if(r)try{u(!0),await A.from("members").update({name:d.trim(),phone:g.trim()||null,course:y.trim()||null,avatar_url:j}).eq("user_id",r.id),await A.from("profiles").upsert({user_id:r.id,avatar_url:j,phone:g.trim()||null,course:y.trim()||null,bio:v.trim()||null}),n({title:"Profile updated",description:"Your profile has been saved successfully"}),t&&t()}catch(C){console.error("Error saving profile:",C),n({title:"Save failed",description:"Failed to save profile. Please try again.",variant:"destructive"})}finally{u(!1)}};return o?s.jsx("div",{className:"text-center py-8",children:"Loading profile..."}):s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Edit Profile"})}),s.jsxs(L,{className:"space-y-6",children:[s.jsx(Ece,{avatarUrl:j,setAvatarUrl:N,name:d,onAvatarUpdate:_}),s.jsx(Tce,{name:d,setName:h,email:f,phone:g,setPhone:p,course:y,setCourse:b}),s.jsx(Oce,{bio:v,setBio:w}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(M,{onClick:k,disabled:c,children:[s.jsx(Ty,{className:"w-4 h-4 mr-2"}),c?"Saving...":"Save Profile"]})})]})]})};var Rce="Label",X8=x.forwardRef((e,t)=>s.jsx(ke.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));X8.displayName=Rce;var Q8=X8;const Dce=Zm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),W=x.forwardRef(({className:e,...t},r)=>s.jsx(Q8,{ref:r,className:ne(Dce(),e),...t}));W.displayName=Q8.displayName;const J8=({password:e})=>{const t=l=>{let c=0;const u={length:!1,uppercase:!1,lowercase:!1,number:!1,specialChar:!1,uncommon:!1};l.length>=12?(c+=25,u.length=!0):l.length>=8&&(c+=15),/[a-z]/.test(l)&&(c+=15,u.lowercase=!0),/[A-Z]/.test(l)&&(c+=15,u.uppercase=!0),/\d/.test(l)&&(c+=15,u.number=!0),/[^a-zA-Z0-9]/.test(l)&&(c+=15,u.specialChar=!0),l.length>16&&u.specialChar&&(c+=15),/(123|abc|password|qwerty)/i.test(l)&&(c=Math.max(0,c-20));let d,h,f;return c>=90?(d="BULLETPROOF",h="bg-emerald-400 shadow-lg shadow-emerald-500/20",f=""):c>=70?(d="STRONG",h="bg-teal-400 shadow-lg shadow-teal-500/20",f=""):c>=50?(d="MODERATE",h="bg-amber-400 shadow-lg shadow-amber-500/20",f=""):c>=30?(d="WEAK",h="bg-orange-500 shadow-lg shadow-orange-500/20",f=""):(d="CRITICAL",h="bg-red-600 shadow-lg shadow-red-500/20",f=""),{score:Math.min(100,c),strength:d,colorClass:h,icon:f,requirements:u}};if(!e)return null;const{score:r,strength:n,colorClass:a,icon:i,requirements:o}=t(e);return s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs font-mono text-gray-400 tracking-wider",children:"SECURITY METER"}),s.jsx("span",{className:"text-xs",children:i})]}),s.jsx("span",{className:`text-xs font-mono font-bold ${n==="BULLETPROOF"?"text-emerald-400":n==="STRONG"?"text-teal-400":n==="MODERATE"?"text-amber-400":n==="WEAK"?"text-orange-500":"text-red-600"}`,children:n})]}),s.jsx("div",{className:"relative h-1.5 w-full bg-gray-800 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${a}`,style:{width:`${r}%`,transition:"width 0.3s ease"}})}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[s.jsx("div",{className:`text-xs p-1.5 rounded text-center font-mono ${o.length?"bg-emerald-900/50 text-emerald-300":"bg-gray-800 text-gray-500"}`,children:e.length>=12?"12+ chars":"8+ chars"}),s.jsx("div",{className:`text-xs p-1.5 rounded text-center font-mono ${o.uppercase?"bg-emerald-900/50 text-emerald-300":"bg-gray-800 text-gray-500"}`,children:"A-Z"}),s.jsx("div",{className:`text-xs p-1.5 rounded text-center font-mono ${o.lowercase?"bg-emerald-900/50 text-emerald-300":"bg-gray-800 text-gray-500"}`,children:"a-z"}),s.jsx("div",{className:`text-xs p-1.5 rounded text-center font-mono ${o.number?"bg-emerald-900/50 text-emerald-300":"bg-gray-800 text-gray-500"}`,children:"0-9"}),s.jsx("div",{className:`text-xs p-1.5 rounded text-center font-mono ${o.specialChar?"bg-emerald-900/50 text-emerald-300":"bg-gray-800 text-gray-500"}`,children:"!@#"}),s.jsx("div",{className:`text-xs p-1.5 rounded text-center font-mono ${e.length>16?"bg-emerald-900/50 text-emerald-300":"bg-gray-800 text-gray-500"}`,children:"entropy+"})]}),n==="CRITICAL"&&s.jsxs("div",{className:"mt-2 px-3 py-2 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-300 font-mono",children:[s.jsx("span",{className:"font-bold",children:"SECURITY ALERT:"})," This password would be cracked instantly"]})]})},$ce=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,i]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState(""),{toast:d}=xe(),h=m=>m.length>=8&&/[a-z]/.test(m)&&/[A-Z]/.test(m)&&/\d/.test(m),f=async m=>{if(m.preventDefault(),l(!0),u(""),!h(r)){u("New password must be at least 8 characters with uppercase, lowercase, and number"),l(!1);return}if(r!==a){u("New passwords do not match"),l(!1);return}if(e===r){u("New password must be different from current password"),l(!1);return}try{const{error:g}=await A.auth.updateUser({password:r});if(g)throw g;d({title:"Password changed!",description:"Your password has been successfully updated."}),t(""),n(""),i("")}catch(g){u(g.message||"Failed to change password")}finally{l(!1)}};return s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Change Password"})}),s.jsxs(L,{children:[c&&s.jsx(Ht,{variant:"destructive",className:"mb-4",children:s.jsx(Kt,{children:c})}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(re,{id:"currentPassword",type:"password",value:e,onChange:m=>t(m.target.value),placeholder:"Enter current password",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"newPassword",children:"New Password"}),s.jsx(re,{id:"newPassword",type:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter new password",required:!0,className:"mt-1"}),s.jsx(J8,{password:r})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(re,{id:"confirmPassword",type:"password",value:a,onChange:m=>i(m.target.value),placeholder:"Confirm new password",required:!0,className:"mt-1"})]}),s.jsx(M,{type:"submit",className:"w-full bg-kic-green-500 hover:bg-kic-green-600",disabled:o||!h(r)||r!==a,children:o?"Updating...":"Change Password"})]})]})]})},Ice=({memberData:e,onDataUpdate:t})=>{var u;const[r,n]=x.useState(!1),[a,i]=x.useState(!1),[o,l]=x.useState(Date.now()),c=()=>{n(!1),l(Date.now()),t?t():window.location.reload()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(R,{children:[s.jsxs(Z,{className:"flex flex-row items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center space-x-2",children:[s.jsx(ir,{className:"h-5 w-5"}),s.jsx("span",{children:"Profile Information"})]}),s.jsxs(pt,{open:r,onOpenChange:n,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{variant:"outline",size:"sm",children:[s.jsx(yo,{className:"h-4 w-4 mr-2"}),"Edit"]})}),s.jsxs(yt,{className:"max-w-2xl",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Edit Profile"})}),s.jsx(Mce,{memberData:e,onUpdate:c})]})]})]}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 pb-4 border-b",children:[s.jsxs(dc,{className:"w-16 h-16",children:[s.jsx(Dd,{src:e!=null&&e.avatar_url?`${e.avatar_url}?t=${o}`:void 0},o),s.jsx(hc,{className:"bg-kic-green-500 text-white",children:((u=e==null?void 0:e.name)==null?void 0:u.split(" ").map(d=>d[0]).join("").toUpperCase())||"U"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:e.name}),s.jsx("p",{className:"text-sm text-kic-gray/70",children:e.email})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ir,{className:"h-4 w-4 text-kic-gray/70"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-kic-gray/70",children:"Name"}),s.jsx("p",{className:"font-medium",children:e.name})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xm,{className:"h-4 w-4 text-kic-gray/70"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-kic-gray/70",children:"Email"}),s.jsx("p",{className:"font-medium",children:e.email})]})]}),e.phone&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(OS,{className:"h-4 w-4 text-kic-gray/70"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-kic-gray/70",children:"Phone"}),s.jsx("p",{className:"font-medium",children:e.phone})]})]}),e.course&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Q$,{className:"h-4 w-4 text-kic-gray/70"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-kic-gray/70",children:"Course"}),s.jsx("p",{className:"font-medium",children:e.course})]})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-kic-gray/70",children:"Registration Status"}),s.jsx(H,{variant:e.registration_status==="approved"?"default":"secondary",children:e.registration_status})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-kic-gray/70",children:"Member Since"}),s.jsx("p",{className:"text-sm font-medium",children:new Date(e.created_at).toLocaleDateString()})]})]})})]})]}),s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center space-x-2",children:[s.jsx(eI,{className:"h-5 w-5"}),s.jsx("span",{children:"Security Settings"})]})}),s.jsx(L,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Password"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Keep your account secure with a strong password"}),s.jsxs(pt,{open:a,onOpenChange:i,children:[s.jsx(er,{asChild:!0,children:s.jsx(M,{variant:"outline",size:"sm",children:"Change Password"})}),s.jsxs(yt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Change Password"})}),s.jsx($ce,{})]})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Account Security"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Your account is protected with industry-standard security measures"}),s.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-green-600",children:"Account Secure"})]})]})]})})]})]}),e.bio&&s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"About Me"})}),s.jsx(L,{children:s.jsx("p",{className:"text-kic-gray",children:e.bio})})]})]})},Lce=()=>{const{user:e}=ye(),{toast:t}=xe(),[r,n]=x.useState([]),[a,i]=x.useState(!0),[o,l]=x.useState(new Set);x.useEffect(()=>{c(),e&&u()},[e]);const c=async()=>{try{const{data:h,error:f}=await A.from("events").select("*").eq("is_published",!0).gte("date",new Date().toISOString()).order("date",{ascending:!0});if(f)throw f;n(h||[])}catch(h){console.error("Error fetching events:",h),t({title:"Error",description:"Failed to load events",variant:"destructive"})}finally{i(!1)}},u=async()=>{if(e)try{const{data:h,error:f}=await A.from("event_registrations").select("event_id").eq("user_id",e.id);if(f)throw f;const m=new Set((h==null?void 0:h.map(g=>g.event_id))||[]);l(m)}catch(h){console.error("Error fetching user registrations:",h)}},d=async h=>{if(!e){t({title:"Authentication required",description:"Please log in to register for events",variant:"destructive"});return}try{const{error:f}=await A.from("event_registrations").insert({event_id:h,user_id:e.id,payment_status:"pending"});if(f)throw f;t({title:"Registration successful",description:"You have been registered for the event"}),await u()}catch(f){console.error("Error registering for event:",f),t({title:"Error",description:"Failed to register for event",variant:"destructive"})}};return a?s.jsx("div",{className:"text-center py-8",children:"Loading events..."}):s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Available Events"})}),s.jsx(L,{children:s.jsxs("div",{className:"grid gap-4",children:[r.map(h=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-medium text-kic-gray",children:h.title}),h.visibility==="members"&&s.jsx(H,{variant:"secondary",children:"Members Only"}),h.requires_registration&&s.jsx(H,{variant:"outline",children:"Registration Required"})]}),s.jsx("p",{className:"text-sm text-kic-gray/70 mb-3",children:h.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-kic-gray/70 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ae,{className:"h-4 w-4"}),new Date(h.date).toLocaleDateString()," at ",new Date(h.date).toLocaleTimeString()]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mo,{className:"h-4 w-4"}),h.location]}),h.max_attendees&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Oe,{className:"h-4 w-4"}),"Max ",h.max_attendees]})]}),h.price>0&&s.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-kic-green-600 mb-3",children:[s.jsx(gi,{className:"h-4 w-4"}),"KSh ",h.price]})]}),s.jsx("div",{className:"ml-4",children:o.has(h.id)?s.jsx(H,{className:"bg-green-500",children:"Registered"}):s.jsx(M,{className:"bg-kic-green-500 hover:bg-kic-green-600",onClick:()=>d(h.id),children:"Register"})})]})},h.id)),r.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ae,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-kic-gray/70",children:"No upcoming events at the moment."})]})]})})]})},Fce=({onSuccess:e})=>{const{user:t}=ye(),{toast:r}=xe(),[n,a]=x.useState(!1),[i,o]=x.useState({title:"",description:"",github_url:"",thumbnail_url:""}),[l,c]=x.useState([]),[u,d]=x.useState(""),h=()=>{u.trim()&&!l.includes(u.trim())&&(c([...l,u.trim()]),d(""))},f=g=>{c(l.filter(p=>p!==g))},m=async g=>{g.preventDefault(),a(!0);try{const{error:p}=await A.from("project_submissions").insert({user_id:t==null?void 0:t.id,title:i.title,description:i.description,github_url:i.github_url,thumbnail_url:i.thumbnail_url||null,tech_tags:l});if(p)throw p;r({title:"Success!",description:"Project submitted successfully. It will be reviewed by an admin."}),o({title:"",description:"",github_url:"",thumbnail_url:""}),c([]),e()}catch(p){console.error("Error submitting project:",p),r({title:"Error",description:"Failed to submit project. Please try again.",variant:"destructive"})}finally{a(!1)}};return s.jsxs(R,{children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Submit New Project"}),s.jsx(ut,{children:"Share your project with the KIC community. Submissions are reviewed by admins before publishing."})]}),s.jsx(L,{children:s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Project Title"}),s.jsx(re,{id:"title",value:i.title,onChange:g=>o({...i,title:g.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:i.description,onChange:g=>o({...i,description:g.target.value}),rows:4,required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"github_url",children:"GitHub Repository URL"}),s.jsx(re,{id:"github_url",type:"url",value:i.github_url,onChange:g=>o({...i,github_url:g.target.value}),placeholder:"https://github.com/username/repo",required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"thumbnail_url",children:"Thumbnail Image URL (Optional)"}),s.jsx(re,{id:"thumbnail_url",type:"url",value:i.thumbnail_url,onChange:g=>o({...i,thumbnail_url:g.target.value}),placeholder:"https://example.com/image.jpg"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"tech_tags",children:"Technology Tags"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(re,{id:"tech_tags",value:u,onChange:g=>d(g.target.value),placeholder:"e.g., React, TypeScript, Node.js",onKeyPress:g=>{g.key==="Enter"&&(g.preventDefault(),h())}}),s.jsx(M,{type:"button",onClick:h,variant:"outline",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.map((g,p)=>s.jsxs(H,{variant:"secondary",className:"flex items-center space-x-1",children:[s.jsx("span",{children:g}),s.jsx("button",{type:"button",onClick:()=>f(g),className:"ml-1 hover:bg-gray-200 rounded-full p-1",children:s.jsx(Kn,{className:"h-3 w-3"})})]},p))})]}),s.jsx(M,{type:"submit",disabled:n,className:"bg-kic-green-500 hover:bg-kic-green-600",children:n?"Submitting...":"Submit Project"})]})})]})},Bce=({project:e,onSuccess:t,onCancel:r})=>{ye();const{toast:n}=xe(),[a,i]=x.useState(!1),[o,l]=x.useState({title:e.title,description:e.description,github_url:e.github_url,thumbnail_url:e.thumbnail_url||""}),[c,u]=x.useState(e.tech_tags||[]),[d,h]=x.useState(""),f=()=>{d.trim()&&!c.includes(d.trim())&&(u([...c,d.trim()]),h(""))},m=p=>{u(c.filter(y=>y!==p))},g=async p=>{p.preventDefault(),i(!0);try{const{error:y}=await A.from("project_submissions").update({title:o.title,description:o.description,github_url:o.github_url,thumbnail_url:o.thumbnail_url||null,tech_tags:c,updated_at:new Date().toISOString()}).eq("id",e.id);if(y)throw y;n({title:"Success!",description:"Project updated successfully."}),t()}catch(y){console.error("Error updating project:",y),n({title:"Error",description:"Failed to update project. Please try again.",variant:"destructive"})}finally{i(!1)}};return s.jsxs(R,{children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Edit Project"}),s.jsx(ut,{children:"Update your project details. Changes will need to be reviewed again if the project was previously approved."})]}),s.jsx(L,{children:s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Project Title"}),s.jsx(re,{id:"title",value:o.title,onChange:p=>l({...o,title:p.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:o.description,onChange:p=>l({...o,description:p.target.value}),rows:4,required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"github_url",children:"GitHub Repository URL"}),s.jsx(re,{id:"github_url",type:"url",value:o.github_url,onChange:p=>l({...o,github_url:p.target.value}),placeholder:"https://github.com/username/repo",required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"thumbnail_url",children:"Thumbnail Image URL (Optional)"}),s.jsx(re,{id:"thumbnail_url",type:"url",value:o.thumbnail_url,onChange:p=>l({...o,thumbnail_url:p.target.value}),placeholder:"https://example.com/image.jpg"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"tech_tags",children:"Technology Tags"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(re,{id:"tech_tags",value:d,onChange:p=>h(p.target.value),placeholder:"e.g., React, TypeScript, Node.js",onKeyPress:p=>{p.key==="Enter"&&(p.preventDefault(),f())}}),s.jsx(M,{type:"button",onClick:f,variant:"outline",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:c.map((p,y)=>s.jsxs(H,{variant:"secondary",className:"flex items-center space-x-1",children:[s.jsx("span",{children:p}),s.jsx("button",{type:"button",onClick:()=>m(p),className:"ml-1 hover:bg-gray-200 rounded-full p-1",children:s.jsx(Kn,{className:"h-3 w-3"})})]},y))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{type:"submit",disabled:a,className:"bg-kic-green-500 hover:bg-kic-green-600",children:a?"Updating...":"Update Project"}),s.jsx(M,{type:"button",variant:"outline",onClick:r,children:"Cancel"})]})]})})]})},Uce=({open:e,onClose:t,onConfirm:r,title:n,description:a})=>s.jsx(gk,{open:e,onOpenChange:t,children:s.jsxs(xk,{children:[s.jsx(t0,{className:"fixed inset-0 bg-black/40 z-50"}),s.jsxs(r0,{className:"fixed z-50 bg-white p-6 rounded-lg max-w-sm w-full top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:n}),s.jsx("button",{onClick:t,children:s.jsx(Kn,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:a}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(M,{variant:"outline",onClick:t,children:"Cancel"}),s.jsx(M,{className:"bg-red-600 hover:bg-red-700",onClick:r,children:"Confirm"})]})]})]})}),zce=({project:e,onUpdate:t,onEdit:r})=>{const{toast:n}=xe(),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(!1),d=async()=>{l(!0);try{const{error:f}=await A.from("project_submissions").delete().eq("id",e.id);if(f)throw f;n({title:"Success",description:"Project deleted successfully"}),t()}catch(f){console.error("Error deleting project:",f),n({title:"Error",description:"Failed to delete project",variant:"destructive"})}finally{l(!1),i(!1)}},h=async()=>{u(!0);try{const{error:f}=await A.from("project_submissions").update({status:"pending",reviewed_by:null,reviewed_at:null,admin_notes:null,admin_feedback:null,updated_at:new Date().toISOString()}).eq("id",e.id);if(f)throw f;n({title:"Success",description:"Project resubmitted for review"}),t()}catch(f){console.error("Error resubmitting project:",f),n({title:"Error",description:"Failed to resubmit project",variant:"destructive"})}finally{u(!1)}};return s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>r(e),className:"flex items-center gap-1",children:[s.jsx(yo,{className:"w-4 h-4"}),"Edit"]}),(e.status==="rejected"||e.status==="approved")&&s.jsxs(M,{variant:"outline",size:"sm",onClick:h,disabled:c,className:"flex items-center gap-1",children:[s.jsx(Wf,{className:`w-4 h-4 ${c?"animate-spin":""}`}),c?"Resubmitting...":"Resubmit"]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>i(!0),className:"flex items-center gap-1 text-red-600 hover:text-red-700",children:[s.jsx(en,{className:"w-4 h-4"}),"Delete"]}),s.jsx(Uce,{open:a,onClose:()=>i(!1),onConfirm:d,title:"Delete Project",description:"Are you sure you want to delete this project? This action cannot be undone."})]})},dg=({projects:e,onUpdate:t,onEdit:r})=>{const n=i=>{switch(i){case"approved":return s.jsx(Ze,{className:"w-4 h-4 text-green-500"});case"rejected":return s.jsx(jr,{className:"w-4 h-4 text-red-500"});default:return s.jsx(vt,{className:"w-4 h-4 text-yellow-500"})}},a=i=>{switch(i){case"approved":return"default";case"rejected":return"destructive";default:return"secondary"}};return s.jsx("div",{className:"grid gap-4",children:e.map(i=>s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[i.title,n(i.status)]}),s.jsx(H,{variant:a(i.status),children:i.status})]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:i.description}),i.tech_tags&&i.tech_tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:i.tech_tags.map(o=>s.jsx(H,{variant:"outline",className:"text-xs",children:o},o))}),i.admin_feedback&&s.jsxs(Ht,{children:[s.jsx(An,{className:"h-4 w-4"}),s.jsxs(Kt,{children:[s.jsx("strong",{children:"Admin Feedback:"})," ",i.admin_feedback]})]}),i.admin_notes&&s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Notes:"})," ",i.admin_notes]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsxs("span",{children:["Submitted: ",new Date(i.created_at).toLocaleDateString()]}),i.reviewed_at&&s.jsxs("span",{children:["Reviewed: ",new Date(i.reviewed_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex gap-2",children:s.jsx(M,{variant:"outline",size:"sm",asChild:!0,children:s.jsx("a",{href:i.github_url,target:"_blank",rel:"noopener noreferrer",children:"View on GitHub"})})}),s.jsx(zce,{project:i,onUpdate:t,onEdit:r})]})]})]},i.id))})},Vce=({projects:e,onUpdate:t,onEdit:r})=>{const n=e.filter(o=>o.status==="pending"),a=e.filter(o=>o.status==="approved"),i=e.filter(o=>o.status==="rejected");return s.jsxs(Mr,{defaultValue:"all",className:"space-y-4",children:[s.jsxs(Yt,{children:[s.jsxs(te,{value:"all",children:["All (",e.length,")"]}),s.jsxs(te,{value:"pending",children:["Pending (",n.length,")"]}),s.jsxs(te,{value:"approved",children:["Approved (",a.length,")"]}),s.jsxs(te,{value:"rejected",children:["Rejected (",i.length,")"]})]}),s.jsx(de,{value:"all",children:s.jsx(dg,{projects:e,onUpdate:t,onEdit:r})}),s.jsx(de,{value:"pending",children:n.length===0?s.jsx(R,{children:s.jsx(L,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No pending projects."})})}):s.jsxs(s.Fragment,{children:[s.jsxs(Ht,{children:[s.jsx(An,{className:"h-4 w-4"}),s.jsx(Kt,{children:"These projects are awaiting admin review. You'll be notified once they're reviewed."})]}),s.jsx(dg,{projects:n,onUpdate:t,onEdit:r})]})}),s.jsx(de,{value:"approved",children:a.length===0?s.jsx(R,{children:s.jsx(L,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No approved projects yet."})})}):s.jsx(dg,{projects:a,onUpdate:t,onEdit:r})}),s.jsx(de,{value:"rejected",children:i.length===0?s.jsx(R,{children:s.jsx(L,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No rejected projects."})})}):s.jsx(dg,{projects:i,onUpdate:t,onEdit:r})})]})},qce=({onSubmitProject:e})=>s.jsx(R,{children:s.jsxs(L,{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-600",children:"You haven't submitted any projects yet."}),s.jsx(M,{className:"mt-4",onClick:e,children:"Submit Your First Project"})]})}),jw=({onSubmitProject:e,onBackToProjects:t,title:r="My Projects",showBackButton:n=!1})=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:r}),n&&t?s.jsx(M,{variant:"outline",onClick:t,children:"Back to Projects"}):s.jsxs(M,{onClick:e,children:[s.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Submit Project"]})]}),Wce=({projects:e,onSuccess:t})=>{const[r,n]=x.useState(!1),[a,i]=x.useState(null),o=d=>{i(d),n(!1)},l=()=>{i(null),t()},c=()=>{i(null)},u=()=>{n(!1),t()};return r?s.jsxs("div",{className:"space-y-4",children:[s.jsx(jw,{title:"Submit New Project",onSubmitProject:()=>n(!0),onBackToProjects:()=>n(!1),showBackButton:!0}),s.jsx(Fce,{onSuccess:u})]}):a?s.jsxs("div",{className:"space-y-4",children:[s.jsx(jw,{title:"Edit Project",onSubmitProject:()=>n(!0),onBackToProjects:c,showBackButton:!0}),s.jsx(Bce,{project:a,onSuccess:l,onCancel:c})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(jw,{onSubmitProject:()=>n(!0)}),e.length===0?s.jsx(qce,{onSubmitProject:()=>n(!0)}):s.jsx(Vce,{projects:e,onUpdate:t,onEdit:o})]})};Array(12).fill(0);O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}));O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}));O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"}));O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}));var rN=1,Hce=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:rN++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0;return n.then(async i=>{if(Gce(i)&&!i.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||rN++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Ns=new Hce,Kce=(e,t)=>{let r=(t==null?void 0:t.id)||rN++;return Ns.addToast({title:e,...t,id:r}),r},Gce=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Yce=Kce,Xce=()=>Ns.toasts,ar=Object.assign(Yce,{success:Ns.success,info:Ns.info,warning:Ns.warning,error:Ns.error,custom:Ns.custom,message:Ns.message,promise:Ns.promise,dismiss:Ns.dismiss,loading:Ns.loading},{getHistory:Xce});function Qce(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Qce(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);const Jce=()=>{const{user:e}=ye(),[t,r]=x.useState([]),[n,a]=x.useState(!0);x.useEffect(()=>{e&&i()},[e]);const i=async()=>{try{const{data:c,error:u}=await A.from("certificates").select(`
          *,
          events (title, date, location)
        `).eq("user_id",e==null?void 0:e.id).order("issue_date",{ascending:!1});if(u)throw u;r(c||[])}catch(c){console.error("Error fetching certificates:",c),ar.error("Failed to load certificates")}finally{a(!1)}},o=c=>{switch(c){case"completion":return"";case"participation":return"";case"achievement":return"";case"membership":return"";default:return""}},l=c=>{switch(c){case"completion":return"bg-green-100 text-green-800";case"participation":return"bg-blue-100 text-blue-800";case"achievement":return"bg-yellow-100 text-yellow-800";case"membership":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return n?s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"My Certificates"})}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3].map(c=>s.jsx("div",{className:"h-24 bg-gray-200 rounded animate-pulse"},c))})})]}):s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(lr,{className:"h-5 w-5 text-kic-green-500"}),"My Certificates"]})}),s.jsx(L,{children:t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(lr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No certificates yet"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Complete events and workshops to earn certificates"})]}):s.jsx("div",{className:"space-y-4",children:t.map(c=>{var u,d,h;return s.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:o(c.certificate_type)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-kic-gray",children:((u=c.events)==null?void 0:u.title)||"General Certificate"}),s.jsx(H,{className:l(c.certificate_type),children:c.certificate_type.charAt(0).toUpperCase()+c.certificate_type.slice(1)})]})]}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4"}),s.jsxs("span",{children:["Issued: ",new Date(c.issue_date).toLocaleDateString()]})]}),((d=c.events)==null?void 0:d.date)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4"}),s.jsxs("span",{children:["Event Date: ",new Date(c.events.date).toLocaleDateString()]})]}),((h=c.events)==null?void 0:h.location)&&s.jsxs("p",{children:["Location: ",c.events.location]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(M,{size:"sm",variant:"outline",onClick:()=>window.open(c.certificate_url,"_blank"),children:[s.jsx(Or,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsx(M,{size:"sm",className:"bg-kic-green-500 hover:bg-kic-green-600",asChild:!0,children:s.jsxs("a",{href:c.certificate_url,download:`certificate_${c.id}.pdf`,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(Ym,{className:"h-4 w-4 mr-1"}),"Download"]})})]})]})},c.id)})})})]})},Zce=({certificates:e})=>s.jsx(Jce,{}),eue=({amount:e,phoneNumber:t,setPhoneNumber:r,loading:n,onPhoneChange:a})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"amount",children:"Amount (KSh)"}),s.jsxs("div",{className:"relative",children:[s.jsx(aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(re,{id:"amount",type:"number",value:e,disabled:!0,className:"bg-gray-50 pl-10"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"phone",children:"Safaricom Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(Vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(re,{id:"phone",type:"tel",placeholder:"0712345678 or 254712345678",value:t,onChange:i=>{r(i.target.value),a==null||a()},disabled:n,className:"pl-10"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter your Safaricom number to receive the payment prompt"})]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:s.jsx("p",{className:"text-sm text-blue-700",children:" You will receive an M-PESA prompt on your phone. Please enter your M-PESA PIN to complete the payment."})})]}),Z8=e=>{const t=e.replace(/\D/g,"");return t.startsWith("0")?"254"+t.substring(1):t.startsWith("254")?t:t.length===9?"254"+t:t},tue=e=>{const t=Z8(e);return t.length!==12?"Please enter a valid Kenyan phone number":t.startsWith("254")?null:"Phone number must be a Kenyan number"},rue=({amount:e,paymentType:t,referenceId:r,onSuccess:n,onError:a})=>{const{user:i}=ye(),[o,l]=x.useState(""),[c,u]=x.useState(!1),[d,h]=x.useState("");return{phoneNumber:o,setPhoneNumber:l,loading:c,error:d,handlePayment:async()=>{if(!i){ar.error("Please log in to make a payment");return}if(!o){h("Please enter your phone number");return}const g=tue(o);if(g){h(g);return}const p=Z8(o);u(!0),h("");try{const{data:y,error:b}=await A.from("payment_requests").insert({user_id:i.id,amount:e,phone_number:p,payment_type:t,reference_id:r}).select().single();if(b)throw b;console.log("Payment request created:",y);const{data:v,error:w}=await A.functions.invoke("mpesa-payment",{body:{amount:e,phoneNumber:p,paymentRequestId:y.id}});if(console.log("Edge function response:",{data:v,error:w}),w)throw w;if(v.success)ar.success("Payment request sent! Please check your phone for the MPESA prompt."),l(""),n==null||n();else throw new Error(v.message||"Payment request failed")}catch(y){console.error("Payment error:",y);const b=y.message||"Failed to initiate payment. Please try again.";h(b),ar.error(b),a==null||a(b)}finally{u(!1)}},clearError:()=>h("")}},wk=({amount:e,paymentType:t,referenceId:r,onSuccess:n,onError:a})=>{const{phoneNumber:i,setPhoneNumber:o,loading:l,error:c,handlePayment:u,clearError:d}=rue({amount:e,paymentType:t,referenceId:r,onSuccess:n,onError:a});return s.jsxs(R,{className:"max-w-md mx-auto",children:[s.jsx(Z,{className:"text-center",children:s.jsxs(ee,{className:"flex items-center justify-center gap-2",children:[s.jsx(Vu,{className:"w-6 h-6 text-green-600"}),"M-PESA Payment"]})}),s.jsxs(L,{className:"space-y-4",children:[c&&s.jsx(Ht,{variant:"destructive",children:s.jsx(Kt,{children:c})}),s.jsx(eue,{amount:e,phoneNumber:i,setPhoneNumber:o,loading:l,onPhoneChange:d}),s.jsx(M,{onClick:u,disabled:l||!i,className:"w-full bg-green-600 hover:bg-green-700",size:"lg",children:l?"Processing...":`Pay KSh ${e} via M-PESA`}),s.jsx("p",{className:"text-xs text-center text-gray-500",children:"Powered by Safaricom M-PESA  Secure payment processing"})]})]})},eF=({payments:e})=>{const{user:t}=ye(),{toast:r}=xe(),[n,a]=x.useState({registration:!1,subscription:!1,loading:!0}),[i,o]=x.useState(!1),[l,c]=x.useState("membership");x.useEffect(()=>{u()},[t]);const u=async()=>{if(t)try{const{data:f,error:m}=await A.from("mpesa_payments").select("payment_type, status").eq("user_id",t.id).eq("status","completed");if(m)throw m;const g=(f==null?void 0:f.some(y=>y.payment_type==="membership"||y.payment_type==="registration"))||!1,p=(f==null?void 0:f.some(y=>y.payment_type==="subscription"))||!1;a({registration:g,subscription:p,loading:!1})}catch(f){console.error("Error fetching payment status:",f),a(m=>({...m,loading:!1}))}},d=()=>{o(!1),u(),r({title:"Payment Successful!",description:"Your payment has been processed successfully"})},h=f=>{c("membership"),o(!0)};return i?s.jsxs("div",{className:"space-y-4",children:[s.jsx(M,{variant:"outline",onClick:()=>o(!1),className:"mb-4",children:" Back to Payments"}),s.jsx(wk,{amount:100,paymentType:"membership",onSuccess:d,onError:f=>r({title:"Payment Error",description:f,variant:"destructive"})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center space-x-2",children:[s.jsx(aa,{className:"h-5 w-5"}),s.jsx("span",{children:"Payment Status"})]})}),s.jsxs(L,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-medium text-kic-gray",children:"Registration Fee"}),s.jsx(H,{variant:n.registration?"default":"destructive",children:n.registration?s.jsxs(s.Fragment,{children:[s.jsx(Ze,{className:"w-3 h-3 mr-1"})," Paid"]}):s.jsxs(s.Fragment,{children:[s.jsx(jr,{className:"w-3 h-3 mr-1"})," Unpaid"]})})]}),s.jsx("p",{className:"text-sm text-kic-gray/70 mb-3",children:"One-time registration fee to join KIC community"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-bold text-lg",children:"KSh 100"}),!n.registration&&s.jsxs(M,{size:"sm",onClick:()=>h(),className:"bg-kic-green-500 hover:bg-kic-green-600",children:[s.jsx(Vu,{className:"w-4 h-4 mr-2"}),"Pay Now"]})]})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-medium text-kic-gray",children:"Semester Subscription"}),s.jsx(H,{variant:n.subscription?"default":"destructive",children:n.subscription?s.jsxs(s.Fragment,{children:[s.jsx(Ze,{className:"w-3 h-3 mr-1"})," Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(jr,{className:"w-3 h-3 mr-1"})," Inactive"]})})]}),s.jsx("p",{className:"text-sm text-kic-gray/70 mb-3",children:"Current semester access to premium features"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-bold text-lg",children:"KSh 100"}),!n.subscription&&s.jsxs(M,{size:"sm",onClick:()=>h(),className:"bg-kic-green-500 hover:bg-kic-green-600",children:[s.jsx(Vu,{className:"w-4 h-4 mr-2"}),"Subscribe"]})]})]})]}),!n.registration&&s.jsx(Ht,{className:"mt-4 border-orange-200 bg-orange-50",children:s.jsx(Kt,{className:"text-orange-800",children:"Complete your registration payment to access all KIC features and events."})})]})]}),s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Payment History"})}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-4",children:[e.map(f=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-kic-gray",children:["KSh ",f.amount]}),s.jsx("p",{className:"text-sm text-kic-gray/70 capitalize",children:f.payment_type}),s.jsx("p",{className:"text-sm text-kic-gray/70",children:new Date(f.created_at).toLocaleDateString()}),f.mpesa_receipt_number&&s.jsxs("p",{className:"text-xs text-kic-gray/60",children:["Receipt: ",f.mpesa_receipt_number]})]}),s.jsx(H,{variant:f.status==="completed"?"default":f.status==="failed"?"destructive":"secondary",children:f.status})]})},f.id)),e.length===0&&s.jsx("p",{className:"text-kic-gray/70 text-center py-8",children:"No payment history"})]})})]})]})};var lp=e=>e.type==="checkbox",hl=e=>e instanceof Date,an=e=>e==null;const tF=e=>typeof e=="object";var cr=e=>!an(e)&&!Array.isArray(e)&&tF(e)&&!hl(e),nue=e=>cr(e)&&e.target?lp(e.target)?e.target.checked:e.target.value:e,sue=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,aue=(e,t)=>e.has(sue(t)),iue=e=>{const t=e.constructor&&e.constructor.prototype;return cr(t)&&t.hasOwnProperty("isPrototypeOf")},jk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jn(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(jk&&(e instanceof Blob||e instanceof FileList))&&(r||cr(e)))if(t=r?[]:{},!r&&!iue(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Jn(e[n]));else return e;return t}var s0=e=>Array.isArray(e)?e.filter(Boolean):[],nr=e=>e===void 0,Se=(e,t,r)=>{if(!t||!cr(e))return r;const n=s0(t.split(/[,[\].]+?/)).reduce((a,i)=>an(a)?a:a[i],e);return nr(n)||n===e?nr(e[t])?r:e[t]:n},Qs=e=>typeof e=="boolean",Nk=e=>/^\w*$/.test(e),rF=e=>s0(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Mt=(e,t,r)=>{let n=-1;const a=Nk(t)?[t]:rF(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=cr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const VT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Os={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ma={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};O.createContext(null);var oue=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Os.all&&(t._proxyFormState[o]=!n||Os.all),e[o]}});return a},vn=e=>cr(e)&&!Object.keys(e).length,lue=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return vn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===Os.all)},rx=e=>Array.isArray(e)?e:[e];function cue(e){const t=O.useRef(e);t.current=e,O.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var ia=e=>typeof e=="string",uue=(e,t,r,n,a)=>ia(e)?(n&&t.watch.add(e),Se(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Se(r,i))):(n&&(t.watchAll=!0),r),due=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},qT=e=>({isOnSubmit:!e||e===Os.onSubmit,isOnBlur:e===Os.onBlur,isOnChange:e===Os.onChange,isOnAll:e===Os.all,isOnTouch:e===Os.onTouched}),WT=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const cf=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Se(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(cf(l,t))break}else if(cr(l)&&cf(l,t))break}}};var hue=(e,t,r)=>{const n=rx(Se(e,r));return Mt(n,"root",t[r]),Mt(e,r,n),e},_k=e=>e.type==="file",qa=e=>typeof e=="function",tv=e=>{if(!jk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},nx=e=>ia(e),Sk=e=>e.type==="radio",rv=e=>e instanceof RegExp;const HT={value:!1,isValid:!1},KT={value:!0,isValid:!0};var nF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!nr(e[0].attributes.value)?nr(e[0].value)||e[0].value===""?KT:{value:e[0].value,isValid:!0}:KT:HT}return HT};const GT={isValid:!1,value:null};var sF=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,GT):GT;function YT(e,t,r="validate"){if(nx(e)||Array.isArray(e)&&e.every(nx)||Qs(e)&&!e)return{type:r,message:nx(e)?e:"",ref:t}}var Cc=e=>cr(e)&&!rv(e)?e:{value:e,message:""},XT=async(e,t,r,n,a)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:m,name:g,valueAsNumber:p,mount:y,disabled:b}=e._f,v=Se(t,g);if(!y||b)return{};const w=o?o[0]:i,j=T=>{n&&w.reportValidity&&(w.setCustomValidity(Qs(T)?"":T||""),w.reportValidity())},N={},S=Sk(i),_=lp(i),k=S||_,C=(p||_k(i))&&nr(i.value)&&nr(v)||tv(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,P=due.bind(null,g,r,N),E=(T,F,D,$=Ma.maxLength,U=Ma.minLength)=>{const q=T?F:D;N[g]={type:T?$:U,message:q,ref:i,...P(T?$:U,q)}};if(a?!Array.isArray(v)||!v.length:l&&(!k&&(C||an(v))||Qs(v)&&!v||_&&!nF(o).isValid||S&&!sF(o).isValid)){const{value:T,message:F}=nx(l)?{value:!!l,message:l}:Cc(l);if(T&&(N[g]={type:Ma.required,message:F,ref:w,...P(Ma.required,F)},!r))return j(F),N}if(!C&&(!an(d)||!an(h))){let T,F;const D=Cc(h),$=Cc(d);if(!an(v)&&!isNaN(v)){const U=i.valueAsNumber||v&&+v;an(D.value)||(T=U>D.value),an($.value)||(F=U<$.value)}else{const U=i.valueAsDate||new Date(v),q=Y=>new Date(new Date().toDateString()+" "+Y),I=i.type=="time",V=i.type=="week";ia(D.value)&&v&&(T=I?q(v)>q(D.value):V?v>D.value:U>new Date(D.value)),ia($.value)&&v&&(F=I?q(v)<q($.value):V?v<$.value:U<new Date($.value))}if((T||F)&&(E(!!T,D.message,$.message,Ma.max,Ma.min),!r))return j(N[g].message),N}if((c||u)&&!C&&(ia(v)||a&&Array.isArray(v))){const T=Cc(c),F=Cc(u),D=!an(T.value)&&v.length>+T.value,$=!an(F.value)&&v.length<+F.value;if((D||$)&&(E(D,T.message,F.message),!r))return j(N[g].message),N}if(f&&!C&&ia(v)){const{value:T,message:F}=Cc(f);if(rv(T)&&!v.match(T)&&(N[g]={type:Ma.pattern,message:F,ref:i,...P(Ma.pattern,F)},!r))return j(F),N}if(m){if(qa(m)){const T=await m(v,t),F=YT(T,w);if(F&&(N[g]={...F,...P(Ma.validate,F.message)},!r))return j(F.message),N}else if(cr(m)){let T={};for(const F in m){if(!vn(T)&&!r)break;const D=YT(await m[F](v,t),w,F);D&&(T={...D,...P(F,D.message)},j(D.message),r&&(N[g]=T))}if(!vn(T)&&(N[g]={ref:w,...T},!r))return N}}return j(!0),N};function fue(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=nr(e)?n++:e[t[n++]];return e}function mue(e){for(const t in e)if(e.hasOwnProperty(t)&&!nr(e[t]))return!1;return!0}function gr(e,t){const r=Array.isArray(t)?t:Nk(t)?[t]:rF(t),n=r.length===1?e:fue(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(cr(n)&&vn(n)||Array.isArray(n)&&mue(n))&&gr(e,r.slice(0,-1)),e}var Nw=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},nN=e=>an(e)||!tF(e);function Bi(e,t){if(nN(e)||nN(t))return e===t;if(hl(e)&&hl(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(hl(i)&&hl(o)||cr(i)&&cr(o)||Array.isArray(i)&&Array.isArray(o)?!Bi(i,o):i!==o)return!1}}return!0}var aF=e=>e.type==="select-multiple",pue=e=>Sk(e)||lp(e),_w=e=>tv(e)&&e.isConnected,iF=e=>{for(const t in e)if(qa(e[t]))return!0;return!1};function nv(e,t={}){const r=Array.isArray(e);if(cr(e)||r)for(const n in e)Array.isArray(e[n])||cr(e[n])&&!iF(e[n])?(t[n]=Array.isArray(e[n])?[]:{},nv(e[n],t[n])):an(e[n])||(t[n]=!0);return t}function oF(e,t,r){const n=Array.isArray(e);if(cr(e)||n)for(const a in e)Array.isArray(e[a])||cr(e[a])&&!iF(e[a])?nr(t)||nN(r[a])?r[a]=Array.isArray(e[a])?nv(e[a],[]):{...nv(e[a])}:oF(e[a],an(t)?{}:t[a],r[a]):r[a]=!Bi(e[a],t[a]);return r}var yh=(e,t)=>oF(e,t,nv(t)),lF=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>nr(e)?e:t?e===""?NaN:e&&+e:r&&ia(e)?new Date(e):n?n(e):e;function Sw(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return _k(t)?t.files:Sk(t)?sF(e.refs).value:aF(t)?[...t.selectedOptions].map(({value:r})=>r):lp(t)?nF(e.refs).value:lF(nr(t.value)?e.ref.value:t.value,e)}var gue=(e,t,r,n)=>{const a={};for(const i of e){const o=Se(t,i);o&&Mt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},bh=e=>nr(e)?e:rv(e)?e.source:cr(e)?rv(e.value)?e.value.source:e.value:e;const QT="AsyncFunction";var xue=e=>(!e||!e.validate)&&!!(qa(e.validate)&&e.validate.constructor.name===QT||cr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===QT)),vue=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function JT(e,t,r){const n=Se(e,r);if(n||Nk(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Se(t,i),l=Se(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var yue=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,bue=(e,t)=>!s0(Se(e,t)).length&&gr(e,t);const wue={mode:Os.onSubmit,reValidateMode:Os.onChange,shouldFocusError:!0};function jue(e={}){let t={...wue,...e},r={submitCount:0,isDirty:!1,isLoading:qa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=cr(t.defaultValues)||cr(t.values)?Jn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Jn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Nw(),array:Nw(),state:Nw()},f=qT(t.mode),m=qT(t.reValidateMode),g=t.criteriaMode===Os.all,p=B=>K=>{clearTimeout(u),u=setTimeout(B,K)},y=async B=>{if(!e.disabled&&(d.isValid||B)){const K=t.resolver?vn((await k()).errors):await P(n,!0);K!==r.isValid&&h.state.next({isValid:K})}},b=(B,K)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((B||Array.from(l.mount)).forEach(X=>{X&&(K?Mt(r.validatingFields,X,K):gr(r.validatingFields,X))}),h.state.next({validatingFields:r.validatingFields,isValidating:!vn(r.validatingFields)}))},v=(B,K=[],X,me,fe=!0,ue=!0)=>{if(me&&X&&!e.disabled){if(o.action=!0,ue&&Array.isArray(Se(n,B))){const Ce=X(Se(n,B),me.argA,me.argB);fe&&Mt(n,B,Ce)}if(ue&&Array.isArray(Se(r.errors,B))){const Ce=X(Se(r.errors,B),me.argA,me.argB);fe&&Mt(r.errors,B,Ce),bue(r.errors,B)}if(d.touchedFields&&ue&&Array.isArray(Se(r.touchedFields,B))){const Ce=X(Se(r.touchedFields,B),me.argA,me.argB);fe&&Mt(r.touchedFields,B,Ce)}d.dirtyFields&&(r.dirtyFields=yh(a,i)),h.state.next({name:B,isDirty:T(B,K),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Mt(i,B,K)},w=(B,K)=>{Mt(r.errors,B,K),h.state.next({errors:r.errors})},j=B=>{r.errors=B,h.state.next({errors:r.errors,isValid:!1})},N=(B,K,X,me)=>{const fe=Se(n,B);if(fe){const ue=Se(i,B,nr(X)?Se(a,B):X);nr(ue)||me&&me.defaultChecked||K?Mt(i,B,K?ue:Sw(fe._f)):$(B,ue),o.mount&&y()}},S=(B,K,X,me,fe)=>{let ue=!1,Ce=!1;const Xe={name:B};if(!e.disabled){const Sr=!!(Se(n,B)&&Se(n,B)._f&&Se(n,B)._f.disabled);if(!X||me){d.isDirty&&(Ce=r.isDirty,r.isDirty=Xe.isDirty=T(),ue=Ce!==Xe.isDirty);const kr=Sr||Bi(Se(a,B),K);Ce=!!(!Sr&&Se(r.dirtyFields,B)),kr||Sr?gr(r.dirtyFields,B):Mt(r.dirtyFields,B,!0),Xe.dirtyFields=r.dirtyFields,ue=ue||d.dirtyFields&&Ce!==!kr}if(X){const kr=Se(r.touchedFields,B);kr||(Mt(r.touchedFields,B,X),Xe.touchedFields=r.touchedFields,ue=ue||d.touchedFields&&kr!==X)}ue&&fe&&h.state.next(Xe)}return ue?Xe:{}},_=(B,K,X,me)=>{const fe=Se(r.errors,B),ue=d.isValid&&Qs(K)&&r.isValid!==K;if(e.delayError&&X?(c=p(()=>w(B,X)),c(e.delayError)):(clearTimeout(u),c=null,X?Mt(r.errors,B,X):gr(r.errors,B)),(X?!Bi(fe,X):fe)||!vn(me)||ue){const Ce={...me,...ue&&Qs(K)?{isValid:K}:{},errors:r.errors,name:B};r={...r,...Ce},h.state.next(Ce)}},k=async B=>{b(B,!0);const K=await t.resolver(i,t.context,gue(B||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(B),K},C=async B=>{const{errors:K}=await k(B);if(B)for(const X of B){const me=Se(K,X);me?Mt(r.errors,X,me):gr(r.errors,X)}else r.errors=K;return K},P=async(B,K,X={valid:!0})=>{for(const me in B){const fe=B[me];if(fe){const{_f:ue,...Ce}=fe;if(ue){const Xe=l.array.has(ue.name),Sr=fe._f&&xue(fe._f);Sr&&d.validatingFields&&b([me],!0);const kr=await XT(fe,i,g,t.shouldUseNativeValidation&&!K,Xe);if(Sr&&d.validatingFields&&b([me]),kr[ue.name]&&(X.valid=!1,K))break;!K&&(Se(kr,ue.name)?Xe?hue(r.errors,kr,ue.name):Mt(r.errors,ue.name,kr[ue.name]):gr(r.errors,ue.name))}!vn(Ce)&&await P(Ce,K,X)}}return X.valid},E=()=>{for(const B of l.unMount){const K=Se(n,B);K&&(K._f.refs?K._f.refs.every(X=>!_w(X)):!_w(K._f.ref))&&et(B)}l.unMount=new Set},T=(B,K)=>!e.disabled&&(B&&K&&Mt(i,B,K),!Bi(se(),a)),F=(B,K,X)=>uue(B,l,{...o.mount?i:nr(K)?a:ia(B)?{[B]:K}:K},X,K),D=B=>s0(Se(o.mount?i:a,B,e.shouldUnregister?Se(a,B,[]):[])),$=(B,K,X={})=>{const me=Se(n,B);let fe=K;if(me){const ue=me._f;ue&&(!ue.disabled&&Mt(i,B,lF(K,ue)),fe=tv(ue.ref)&&an(K)?"":K,aF(ue.ref)?[...ue.ref.options].forEach(Ce=>Ce.selected=fe.includes(Ce.value)):ue.refs?lp(ue.ref)?ue.refs.length>1?ue.refs.forEach(Ce=>(!Ce.defaultChecked||!Ce.disabled)&&(Ce.checked=Array.isArray(fe)?!!fe.find(Xe=>Xe===Ce.value):fe===Ce.value)):ue.refs[0]&&(ue.refs[0].checked=!!fe):ue.refs.forEach(Ce=>Ce.checked=Ce.value===fe):_k(ue.ref)?ue.ref.value="":(ue.ref.value=fe,ue.ref.type||h.values.next({name:B,values:{...i}})))}(X.shouldDirty||X.shouldTouch)&&S(B,fe,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&Y(B)},U=(B,K,X)=>{for(const me in K){const fe=K[me],ue=`${B}.${me}`,Ce=Se(n,ue);(l.array.has(B)||cr(fe)||Ce&&!Ce._f)&&!hl(fe)?U(ue,fe,X):$(ue,fe,X)}},q=(B,K,X={})=>{const me=Se(n,B),fe=l.array.has(B),ue=Jn(K);Mt(i,B,ue),fe?(h.array.next({name:B,values:{...i}}),(d.isDirty||d.dirtyFields)&&X.shouldDirty&&h.state.next({name:B,dirtyFields:yh(a,i),isDirty:T(B,ue)})):me&&!me._f&&!an(ue)?U(B,ue,X):$(B,ue,X),WT(B,l)&&h.state.next({...r}),h.values.next({name:o.mount?B:void 0,values:{...i}})},I=async B=>{o.mount=!0;const K=B.target;let X=K.name,me=!0;const fe=Se(n,X),ue=()=>K.type?Sw(fe._f):nue(B),Ce=Xe=>{me=Number.isNaN(Xe)||hl(Xe)&&isNaN(Xe.getTime())||Bi(Xe,Se(i,X,Xe))};if(fe){let Xe,Sr;const kr=ue(),qo=B.type===VT.BLUR||B.type===VT.FOCUS_OUT,QV=!vue(fe._f)&&!t.resolver&&!Se(r.errors,X)&&!fe._f.deps||yue(qo,Se(r.touchedFields,X),r.isSubmitted,m,f),lb=WT(X,l,qo);Mt(i,X,kr),qo?(fe._f.onBlur&&fe._f.onBlur(B),c&&c(0)):fe._f.onChange&&fe._f.onChange(B);const cb=S(X,kr,qo,!1),JV=!vn(cb)||lb;if(!qo&&h.values.next({name:X,type:B.type,values:{...i}}),QV)return d.isValid&&(e.mode==="onBlur"?qo&&y():y()),JV&&h.state.next({name:X,...lb?{}:cb});if(!qo&&lb&&h.state.next({...r}),t.resolver){const{errors:XC}=await k([X]);if(Ce(kr),me){const ZV=JT(r.errors,n,X),QC=JT(XC,n,ZV.name||X);Xe=QC.error,X=QC.name,Sr=vn(XC)}}else b([X],!0),Xe=(await XT(fe,i,g,t.shouldUseNativeValidation))[X],b([X]),Ce(kr),me&&(Xe?Sr=!1:d.isValid&&(Sr=await P(n,!0)));me&&(fe._f.deps&&Y(fe._f.deps),_(X,Sr,Xe,cb))}},V=(B,K)=>{if(Se(r.errors,K)&&B.focus)return B.focus(),1},Y=async(B,K={})=>{let X,me;const fe=rx(B);if(t.resolver){const ue=await C(nr(B)?B:fe);X=vn(ue),me=B?!fe.some(Ce=>Se(ue,Ce)):X}else B?(me=(await Promise.all(fe.map(async ue=>{const Ce=Se(n,ue);return await P(Ce&&Ce._f?{[ue]:Ce}:Ce)}))).every(Boolean),!(!me&&!r.isValid)&&y()):me=X=await P(n);return h.state.next({...!ia(B)||d.isValid&&X!==r.isValid?{}:{name:B},...t.resolver||!B?{isValid:X}:{},errors:r.errors}),K.shouldFocus&&!me&&cf(n,V,B?fe:l.mount),me},se=B=>{const K={...o.mount?i:a};return nr(B)?K:ia(B)?Se(K,B):B.map(X=>Se(K,X))},ie=(B,K)=>({invalid:!!Se((K||r).errors,B),isDirty:!!Se((K||r).dirtyFields,B),error:Se((K||r).errors,B),isValidating:!!Se(r.validatingFields,B),isTouched:!!Se((K||r).touchedFields,B)}),je=B=>{B&&rx(B).forEach(K=>gr(r.errors,K)),h.state.next({errors:B?r.errors:{}})},Ee=(B,K,X)=>{const me=(Se(n,B,{_f:{}})._f||{}).ref,fe=Se(r.errors,B)||{},{ref:ue,message:Ce,type:Xe,...Sr}=fe;Mt(r.errors,B,{...Sr,...K,ref:me}),h.state.next({name:B,errors:r.errors,isValid:!1}),X&&X.shouldFocus&&me&&me.focus&&me.focus()},at=(B,K)=>qa(B)?h.values.subscribe({next:X=>B(F(void 0,K),X)}):F(B,K,!0),et=(B,K={})=>{for(const X of B?rx(B):l.mount)l.mount.delete(X),l.array.delete(X),K.keepValue||(gr(n,X),gr(i,X)),!K.keepError&&gr(r.errors,X),!K.keepDirty&&gr(r.dirtyFields,X),!K.keepTouched&&gr(r.touchedFields,X),!K.keepIsValidating&&gr(r.validatingFields,X),!t.shouldUnregister&&!K.keepDefaultValue&&gr(a,X);h.values.next({values:{...i}}),h.state.next({...r,...K.keepDirty?{isDirty:T()}:{}}),!K.keepIsValid&&y()},pe=({disabled:B,name:K,field:X,fields:me,value:fe})=>{if(Qs(B)&&o.mount||B){const ue=B?void 0:nr(fe)?Sw(X?X._f:Se(me,K)._f):fe;Mt(i,K,ue),S(K,ue,!1,!1,!0)}},Ue=(B,K={})=>{let X=Se(n,B);const me=Qs(K.disabled)||Qs(e.disabled);return Mt(n,B,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:B}},name:B,mount:!0,...K}}),l.mount.add(B),X?pe({field:X,disabled:Qs(K.disabled)?K.disabled:e.disabled,name:B,value:K.value}):N(B,!0,K.value),{...me?{disabled:K.disabled||e.disabled}:{},...t.progressive?{required:!!K.required,min:bh(K.min),max:bh(K.max),minLength:bh(K.minLength),maxLength:bh(K.maxLength),pattern:bh(K.pattern)}:{},name:B,onChange:I,onBlur:I,ref:fe=>{if(fe){Ue(B,K),X=Se(n,B);const ue=nr(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,Ce=pue(ue),Xe=X._f.refs||[];if(Ce?Xe.find(Sr=>Sr===ue):ue===X._f.ref)return;Mt(n,B,{_f:{...X._f,...Ce?{refs:[...Xe.filter(_w),ue,...Array.isArray(Se(a,B))?[{}]:[]],ref:{type:ue.type,name:B}}:{ref:ue}}}),N(B,!1,void 0,ue)}else X=Se(n,B,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||K.shouldUnregister)&&!(aue(l.array,B)&&o.action)&&l.unMount.add(B)}}},oe=()=>t.shouldFocusError&&cf(n,V,l.mount),ge=B=>{Qs(B)&&(h.state.next({disabled:B}),cf(n,(K,X)=>{const me=Se(n,X);me&&(K.disabled=me._f.disabled||B,Array.isArray(me._f.refs)&&me._f.refs.forEach(fe=>{fe.disabled=me._f.disabled||B}))},0,!1))},be=(B,K)=>async X=>{let me;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let fe=Jn(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ue,values:Ce}=await k();r.errors=ue,fe=Ce}else await P(n);if(gr(r.errors,"root"),vn(r.errors)){h.state.next({errors:{}});try{await B(fe,X)}catch(ue){me=ue}}else K&&await K({...r.errors},X),oe(),setTimeout(oe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vn(r.errors)&&!me,submitCount:r.submitCount+1,errors:r.errors}),me)throw me},Q=(B,K={})=>{Se(n,B)&&(nr(K.defaultValue)?q(B,Jn(Se(a,B))):(q(B,K.defaultValue),Mt(a,B,Jn(K.defaultValue))),K.keepTouched||gr(r.touchedFields,B),K.keepDirty||(gr(r.dirtyFields,B),r.isDirty=K.defaultValue?T(B,Jn(Se(a,B))):T()),K.keepError||(gr(r.errors,B),d.isValid&&y()),h.state.next({...r}))},Ye=(B,K={})=>{const X=B?Jn(B):a,me=Jn(X),fe=vn(B),ue=fe?a:me;if(K.keepDefaultValues||(a=X),!K.keepValues){if(K.keepDirtyValues){const Ce=new Set([...l.mount,...Object.keys(yh(a,i))]);for(const Xe of Array.from(Ce))Se(r.dirtyFields,Xe)?Mt(ue,Xe,Se(i,Xe)):q(Xe,Se(ue,Xe))}else{if(jk&&nr(B))for(const Ce of l.mount){const Xe=Se(n,Ce);if(Xe&&Xe._f){const Sr=Array.isArray(Xe._f.refs)?Xe._f.refs[0]:Xe._f.ref;if(tv(Sr)){const kr=Sr.closest("form");if(kr){kr.reset();break}}}}n={}}i=e.shouldUnregister?K.keepDefaultValues?Jn(a):{}:Jn(ue),h.array.next({values:{...ue}}),h.values.next({values:{...ue}})}l={mount:K.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!K.keepIsValid||!!K.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:K.keepSubmitCount?r.submitCount:0,isDirty:fe?!1:K.keepDirty?r.isDirty:!!(K.keepDefaultValues&&!Bi(B,a)),isSubmitted:K.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:fe?{}:K.keepDirtyValues?K.keepDefaultValues&&i?yh(a,i):r.dirtyFields:K.keepDefaultValues&&B?yh(a,B):K.keepDirty?r.dirtyFields:{},touchedFields:K.keepTouched?r.touchedFields:{},errors:K.keepErrors?r.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Be=(B,K)=>Ye(qa(B)?B(i):B,K);return{control:{register:Ue,unregister:et,getFieldState:ie,handleSubmit:be,setError:Ee,_executeSchema:k,_getWatch:F,_getDirty:T,_updateValid:y,_removeUnmounted:E,_updateFieldArray:v,_updateDisabledField:pe,_getFieldArray:D,_reset:Ye,_resetDefaultValues:()=>qa(t.defaultValues)&&t.defaultValues().then(B=>{Be(B,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:B=>{r={...r,...B}},_disableForm:ge,_subjects:h,_proxyFormState:d,_setErrors:j,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(B){o=B},get _defaultValues(){return a},get _names(){return l},set _names(B){l=B},get _formState(){return r},set _formState(B){r=B},get _options(){return t},set _options(B){t={...t,...B}}},trigger:Y,register:Ue,handleSubmit:be,watch:at,setValue:q,getValues:se,reset:Be,resetField:Q,clearErrors:je,unregister:et,setError:Ee,setFocus:(B,K={})=>{const X=Se(n,B),me=X&&X._f;if(me){const fe=me.refs?me.refs[0]:me.ref;fe.focus&&(fe.focus(),K.shouldSelect&&fe.select())}},getFieldState:ie}}function Nue(e={}){const t=O.useRef(),r=O.useRef(),[n,a]=O.useState({isDirty:!1,isValidating:!1,isLoading:qa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:qa(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...jue(e),formState:n});const i=t.current.control;return i._options=e,cue({subject:i._subjects.state,next:o=>{lue(o,i._proxyFormState,i._updateFormState)&&a({...i._formState})}}),O.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),O.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),O.useEffect(()=>{e.values&&!Bi(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),O.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),O.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),O.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),O.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=oue(n,i),t.current}var _ue="VisuallyHidden",a0=x.forwardRef((e,t)=>s.jsx(ke.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));a0.displayName=_ue;var Sue=[" ","Enter","ArrowUp","ArrowDown"],kue=[" ","Enter"],cp="Select",[i0,o0,Cue]=Jy(cp),[Ud,w8e]=gs(cp,[Cue,Fd]),l0=Fd(),[Pue,Lo]=Ud(cp),[Aue,Eue]=Ud(cp),cF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:g}=e,p=l0(t),[y,b]=x.useState(null),[v,w]=x.useState(null),[j,N]=x.useState(!1),S=rp(u),[_=!1,k]=ja({prop:n,defaultProp:a,onChange:i}),[C,P]=ja({prop:o,defaultProp:l,onChange:c}),E=x.useRef(null),T=y?g||!!y.closest("form"):!0,[F,D]=x.useState(new Set),$=Array.from(F).map(U=>U.props.value).join(";");return s.jsx(ak,{...p,children:s.jsxs(Pue,{required:m,scope:t,trigger:y,onTriggerChange:b,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Ls(),value:C,onValueChange:P,open:_,onOpenChange:k,dir:S,triggerPointerDownPosRef:E,disabled:f,children:[s.jsx(i0.Provider,{scope:t,children:s.jsx(Aue,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(U=>{D(q=>new Set(q).add(U))},[]),onNativeOptionRemove:x.useCallback(U=>{D(q=>{const I=new Set(q);return I.delete(U),I})},[]),children:r})}),T?s.jsxs(RF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:C,onChange:U=>P(U.target.value),disabled:f,form:g,children:[C===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},$):null]})})};cF.displayName=cp;var uF="SelectTrigger",dF=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=l0(r),o=Lo(uF,r),l=o.disabled||n,c=Ke(t,o.onTriggerChange),u=o0(r),d=x.useRef("touch"),[h,f,m]=DF(p=>{const y=u().filter(w=>!w.disabled),b=y.find(w=>w.value===o.value),v=$F(y,p,b);v!==void 0&&o.onValueChange(v.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(Yy,{asChild:!0,...i,children:s.jsx(ke.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":MF(o.value)?"":void 0,...a,ref:c,onClick:he(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:he(a.onPointerDown,p=>{d.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:he(a.onKeyDown,p=>{const y=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(y&&p.key===" ")&&Sue.includes(p.key)&&(g(),p.preventDefault())})})})});dF.displayName=uF;var hF="SelectValue",fF=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Lo(hF,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Ke(t,c.onValueNodeChange);return Nr(()=>{u(d)},[u,d]),s.jsx(ke.span,{...l,ref:h,style:{pointerEvents:"none"},children:MF(c.value)?s.jsx(s.Fragment,{children:o}):i})});fF.displayName=hF;var Tue="SelectIcon",mF=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(ke.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});mF.displayName=Tue;var Oue="SelectPortal",pF=e=>s.jsx(Bd,{asChild:!0,...e});pF.displayName=Oue;var Ql="SelectContent",gF=x.forwardRef((e,t)=>{const r=Lo(Ql,e.__scopeSelect),[n,a]=x.useState();if(Nr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?ac.createPortal(s.jsx(xF,{scope:e.__scopeSelect,children:s.jsx(i0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(vF,{...e,ref:t})});gF.displayName=Ql;var _s=10,[xF,Fo]=Ud(Ql),Mue="SelectContentImpl",vF=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y,...b}=e,v=Lo(Ql,r),[w,j]=x.useState(null),[N,S]=x.useState(null),_=Ke(t,pe=>j(pe)),[k,C]=x.useState(null),[P,E]=x.useState(null),T=o0(r),[F,D]=x.useState(!1),$=x.useRef(!1);x.useEffect(()=>{if(w)return Xy(w)},[w]),Wy();const U=x.useCallback(pe=>{const[Ue,...oe]=T().map(Q=>Q.ref.current),[ge]=oe.slice(-1),be=document.activeElement;for(const Q of pe)if(Q===be||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===Ue&&N&&(N.scrollTop=0),Q===ge&&N&&(N.scrollTop=N.scrollHeight),Q==null||Q.focus(),document.activeElement!==be))return},[T,N]),q=x.useCallback(()=>U([k,w]),[U,k,w]);x.useEffect(()=>{F&&q()},[F,q]);const{onOpenChange:I,triggerPointerDownPosRef:V}=v;x.useEffect(()=>{if(w){let pe={x:0,y:0};const Ue=ge=>{var be,Q;pe={x:Math.abs(Math.round(ge.pageX)-(((be=V.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((Q=V.current)==null?void 0:Q.y)??0))}},oe=ge=>{pe.x<=10&&pe.y<=10?ge.preventDefault():w.contains(ge.target)||I(!1),document.removeEventListener("pointermove",Ue),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",oe,{capture:!0})}}},[w,I,V]),x.useEffect(()=>{const pe=()=>I(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[I]);const[Y,se]=DF(pe=>{const Ue=T().filter(be=>!be.disabled),oe=Ue.find(be=>be.ref.current===document.activeElement),ge=$F(Ue,pe,oe);ge&&setTimeout(()=>ge.ref.current.focus())}),ie=x.useCallback((pe,Ue,oe)=>{const ge=!$.current&&!oe;(v.value!==void 0&&v.value===Ue||ge)&&(C(pe),ge&&($.current=!0))},[v.value]),je=x.useCallback(()=>w==null?void 0:w.focus(),[w]),Ee=x.useCallback((pe,Ue,oe)=>{const ge=!$.current&&!oe;(v.value!==void 0&&v.value===Ue||ge)&&E(pe)},[v.value]),at=n==="popper"?sN:yF,et=at===sN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y}:{};return s.jsx(xF,{scope:r,content:w,viewport:N,onViewportChange:S,itemRefCallback:ie,selectedItem:k,onItemLeave:je,itemTextRefCallback:Ee,focusSelectedItem:q,selectedItemText:P,position:n,isPositioned:F,searchRef:Y,children:s.jsx(ap,{as:ii,allowPinchZoom:!0,children:s.jsx(np,{asChild:!0,trapped:v.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:he(a,pe=>{var Ue;(Ue=v.trigger)==null||Ue.focus({preventScroll:!0}),pe.preventDefault()}),children:s.jsx($d,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(at,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:pe=>pe.preventDefault(),...b,...et,onPlaced:()=>D(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:he(b.onKeyDown,pe=>{const Ue=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Ue&&pe.key.length===1&&se(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let ge=T().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const be=pe.target,Q=ge.indexOf(be);ge=ge.slice(Q+1)}setTimeout(()=>U(ge)),pe.preventDefault()}})})})})})})});vF.displayName=Mue;var Rue="SelectItemAlignedPosition",yF=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Lo(Ql,r),o=Fo(Ql,r),[l,c]=x.useState(null),[u,d]=x.useState(null),h=Ke(t,_=>d(_)),f=o0(r),m=x.useRef(!1),g=x.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:b,focusSelectedItem:v}=o,w=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&y&&b){const _=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),P=b.getBoundingClientRect();if(i.dir!=="rtl"){const be=P.left-k.left,Q=C.left-be,Ye=_.left-Q,Be=_.width+Ye,St=Math.max(Be,k.width),jt=window.innerWidth-_s,ur=G1(Q,[_s,Math.max(_s,jt-St)]);l.style.minWidth=Be+"px",l.style.left=ur+"px"}else{const be=k.right-P.right,Q=window.innerWidth-C.right-be,Ye=window.innerWidth-_.right-Q,Be=_.width+Ye,St=Math.max(Be,k.width),jt=window.innerWidth-_s,ur=G1(Q,[_s,Math.max(_s,jt-St)]);l.style.minWidth=Be+"px",l.style.right=ur+"px"}const E=f(),T=window.innerHeight-_s*2,F=p.scrollHeight,D=window.getComputedStyle(u),$=parseInt(D.borderTopWidth,10),U=parseInt(D.paddingTop,10),q=parseInt(D.borderBottomWidth,10),I=parseInt(D.paddingBottom,10),V=$+U+F+I+q,Y=Math.min(y.offsetHeight*5,V),se=window.getComputedStyle(p),ie=parseInt(se.paddingTop,10),je=parseInt(se.paddingBottom,10),Ee=_.top+_.height/2-_s,at=T-Ee,et=y.offsetHeight/2,pe=y.offsetTop+et,Ue=$+U+pe,oe=V-Ue;if(Ue<=Ee){const be=E.length>0&&y===E[E.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-p.offsetTop-p.offsetHeight,Ye=Math.max(at,et+(be?je:0)+Q+q),Be=Ue+Ye;l.style.height=Be+"px"}else{const be=E.length>0&&y===E[0].ref.current;l.style.top="0px";const Ye=Math.max(Ee,$+p.offsetTop+(be?ie:0)+et)+oe;l.style.height=Ye+"px",p.scrollTop=Ue-Ee+p.offsetTop}l.style.margin=`${_s}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,p,y,b,i.dir,n]);Nr(()=>w(),[w]);const[j,N]=x.useState();Nr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const S=x.useCallback(_=>{_&&g.current===!0&&(w(),v==null||v(),g.current=!1)},[w,v]);return s.jsx($ue,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(ke.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});yF.displayName=Rue;var Due="SelectPopperPosition",sN=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=_s,...i}=e,o=l0(r);return s.jsx(ik,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sN.displayName=Due;var[$ue,kk]=Ud(Ql,{}),aN="SelectViewport",bF=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Fo(aN,r),o=kk(aN,r),l=Ke(t,i.onViewportChange),c=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(i0.Slot,{scope:r,children:s.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:he(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-_s*2,p=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),b=Math.max(p,y);if(b<g){const v=b+m,w=Math.min(g,v),j=v-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});bF.displayName=aN;var wF="SelectGroup",[Iue,Lue]=Ud(wF),Fue=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ls();return s.jsx(Iue,{scope:r,id:a,children:s.jsx(ke.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Fue.displayName=wF;var jF="SelectLabel",NF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Lue(jF,r);return s.jsx(ke.div,{id:a.id,...n,ref:t})});NF.displayName=jF;var sv="SelectItem",[Bue,_F]=Ud(sv),SF=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Lo(sv,r),c=Fo(sv,r),u=l.value===n,[d,h]=x.useState(i??""),[f,m]=x.useState(!1),g=Ke(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,n,a)}),p=Ls(),y=x.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Bue,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:x.useCallback(v=>{h(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:s.jsx(i0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(ke.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:he(o.onFocus,()=>m(!0)),onBlur:he(o.onBlur,()=>m(!1)),onClick:he(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:he(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:he(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:he(o.onPointerMove,v=>{var w;y.current=v.pointerType,a?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(o.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:he(o.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(kue.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});SF.displayName=sv;var Lh="SelectItemText",kF=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Lo(Lh,r),l=Fo(Lh,r),c=_F(Lh,r),u=Eue(Lh,r),[d,h]=x.useState(null),f=Ke(t,b=>h(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=x.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return Nr(()=>(p(g),()=>y(g)),[p,y,g]),s.jsxs(s.Fragment,{children:[s.jsx(ke.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ac.createPortal(i.children,o.valueNode):null]})});kF.displayName=Lh;var CF="SelectItemIndicator",PF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return _F(CF,r).isSelected?s.jsx(ke.span,{"aria-hidden":!0,...n,ref:t}):null});PF.displayName=CF;var iN="SelectScrollUpButton",AF=x.forwardRef((e,t)=>{const r=Fo(iN,e.__scopeSelect),n=kk(iN,e.__scopeSelect),[a,i]=x.useState(!1),o=Ke(t,n.onScrollButtonChange);return Nr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(TF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});AF.displayName=iN;var oN="SelectScrollDownButton",EF=x.forwardRef((e,t)=>{const r=Fo(oN,e.__scopeSelect),n=kk(oN,e.__scopeSelect),[a,i]=x.useState(!1),o=Ke(t,n.onScrollButtonChange);return Nr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(TF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});EF.displayName=oN;var TF=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Fo("SelectScrollButton",r),o=x.useRef(null),l=o0(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Nr(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(ke.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:he(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:he(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:he(a.onPointerLeave,()=>{c()})})}),Uue="SelectSeparator",OF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(ke.div,{"aria-hidden":!0,...n,ref:t})});OF.displayName=Uue;var lN="SelectArrow",zue=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=l0(r),i=Lo(lN,r),o=Fo(lN,r);return i.open&&o.position==="popper"?s.jsx(ok,{...a,...n,ref:t}):null});zue.displayName=lN;function MF(e){return e===""||e===void 0}var RF=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=x.useRef(null),i=Ke(t,a),o=KS(r);return x.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const h=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(h)}},[o,r]),s.jsx(a0,{asChild:!0,children:s.jsx("select",{...n,ref:i,defaultValue:r})})});RF.displayName="BubbleSelect";function DF(e){const t=Lt(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function $F(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Vue(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Vue(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var que=cF,IF=dF,Wue=fF,Hue=mF,Kue=pF,LF=gF,Gue=bF,FF=NF,BF=SF,Yue=kF,Xue=PF,UF=AF,zF=EF,VF=OF;const Ie=que,Le=Wue,Me=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(IF,{ref:n,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Hue,{asChild:!0,children:s.jsx(Km,{className:"h-4 w-4 opacity-50"})})]}));Me.displayName=IF.displayName;const qF=x.forwardRef(({className:e,...t},r)=>s.jsx(UF,{ref:r,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Y$,{className:"h-4 w-4"})}));qF.displayName=UF.displayName;const WF=x.forwardRef(({className:e,...t},r)=>s.jsx(zF,{ref:r,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Km,{className:"h-4 w-4"})}));WF.displayName=zF.displayName;const Re=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Kue,{children:s.jsxs(LF,{ref:a,className:ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(qF,{}),s.jsx(Gue,{className:ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(WF,{})]})}));Re.displayName=LF.displayName;const Que=x.forwardRef(({className:e,...t},r)=>s.jsx(FF,{ref:r,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Que.displayName=FF.displayName;const G=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(BF,{ref:n,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Xue,{children:s.jsx(zl,{className:"h-4 w-4"})})}),s.jsx(Yue,{children:t})]}));G.displayName=BF.displayName;const Jue=x.forwardRef(({className:e,...t},r)=>s.jsx(VF,{ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));Jue.displayName=VF.displayName;var Ck="Checkbox",[Zue,j8e]=gs(Ck),[ede,tde]=Zue(Ck),HF=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=x.useState(null),g=Ke(t,j=>m(j)),p=x.useRef(!1),y=f?d||!!f.closest("form"):!0,[b=!1,v]=ja({prop:a,defaultProp:i,onChange:u}),w=x.useRef(b);return x.useEffect(()=>{const j=f==null?void 0:f.form;if(j){const N=()=>v(w.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[f,v]),s.jsxs(ede,{scope:r,state:b,disabled:l,children:[s.jsx(ke.button,{type:"button",role:"checkbox","aria-checked":ho(b)?"mixed":b,"aria-required":o,"data-state":YF(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onKeyDown:he(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:he(e.onClick,j=>{v(N=>ho(N)?!0:!N),y&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),y&&s.jsx(rde,{control:f,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:ho(i)?!1:i})]})});HF.displayName=Ck;var KF="CheckboxIndicator",GF=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=tde(KF,r);return s.jsx(Ur,{present:n||ho(i.state)||i.state===!0,children:s.jsx(ke.span,{"data-state":YF(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});GF.displayName=KF;var rde=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i}=e,o=x.useRef(null),l=KS(r),c=GS(t);x.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&m){const g=new Event("click",{bubbles:n});d.indeterminate=ho(r),m.call(d,ho(r)?!1:r),d.dispatchEvent(g)}},[l,r,n]);const u=x.useRef(ho(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ho(e){return e==="indeterminate"}function YF(e){return ho(e)?"indeterminate":e?"checked":"unchecked"}var XF=HF,nde=GF;const Pk=x.forwardRef(({className:e,...t},r)=>s.jsx(XF,{ref:r,className:ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(nde,{className:ne("flex items-center justify-center text-current"),children:s.jsx(zl,{className:"h-4 w-4"})})}));Pk.displayName=XF.displayName;const sde=({onSuccess:e})=>{const{register:t,handleSubmit:r,watch:n,setValue:a,formState:{errors:i,isSubmitting:o}}=Nue({defaultValues:{submission_type:"complaint",directed_to:"general_admin",priority:1,is_anonymous:!1}}),{user:l}=ye(),{toast:c}=xe(),[u,d]=x.useState(!1),h=n("submission_type"),f=async m=>{if(!l){c({title:"Error",description:"You must be logged in to submit",variant:"destructive"});return}try{const{error:g}=await A.from("user_submissions").insert({user_id:l.id,title:m.title,content:m.content,submission_type:m.submission_type,directed_to:m.directed_to,priority:m.priority,is_anonymous:m.is_anonymous});if(g)throw g;c({title:"Success",description:"Your submission has been created successfully"}),e()}catch(g){console.error("Error creating submission:",g),c({title:"Error",description:"Failed to create submission. Please try again.",variant:"destructive"})}};return s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsxs("form",{onSubmit:r(f),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"submission_type",children:"Type"}),s.jsxs(Ie,{value:h,onValueChange:m=>a("submission_type",m),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"complaint",children:"Complaint"}),s.jsx(G,{value:"recommendation",children:"Recommendation"}),s.jsx(G,{value:"thought",children:"General Thought"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"directed_to",children:"Direct To"}),s.jsxs(Ie,{defaultValue:"general_admin",onValueChange:m=>a("directed_to",m),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"super_admin",children:"Super Admin"}),s.jsx(G,{value:"patron_chairman",children:"Chairman"}),s.jsx(G,{value:"treasurer",children:"Treasurer"}),s.jsx(G,{value:"organizing_secretary",children:"Organizing Secretary"}),s.jsx(G,{value:"community_admin",children:"Community Admin"}),s.jsx(G,{value:"general_admin",children:"General Admin"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"priority",children:"Priority"}),s.jsxs(Ie,{defaultValue:"1",onValueChange:m=>a("priority",parseInt(m)),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"1",children:"Low"}),s.jsx(G,{value:"2",children:"Medium"}),s.jsx(G,{value:"3",children:"High"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"title",children:"Title"}),s.jsx(re,{...t("title",{required:"Title is required"}),placeholder:"Enter a descriptive title"}),i.title&&s.jsx("p",{className:"text-sm text-red-600",children:i.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"content",children:"Content"}),s.jsx(ct,{...t("content",{required:"Content is required"}),placeholder:"Describe your complaint, recommendation, or thought in detail...",rows:6}),i.content&&s.jsx("p",{className:"text-sm text-red-600",children:i.content.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pk,{id:"is_anonymous",checked:u,onCheckedChange:m=>{d(m),a("is_anonymous",m)}}),s.jsx(W,{htmlFor:"is_anonymous",className:"text-sm",children:"Submit anonymously"})]}),s.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:s.jsx(M,{type:"submit",disabled:o,children:o?"Submitting...":"Submit"})})]})})})};var ade="Separator",ZT="horizontal",ide=["horizontal","vertical"],QF=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=ZT,...a}=e,i=ode(n)?n:ZT,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(ke.div,{"data-orientation":i,...l,...a,ref:t})});QF.displayName=ade;function ode(e){return ide.includes(e)}var JF=QF;const ZF=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(JF,{ref:a,decorative:r,orientation:t,className:ne("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ZF.displayName=JF.displayName;const lde=({submission:e,open:t,onClose:r})=>{const[n,a]=x.useState([]),[i,o]=x.useState(!1),{toast:l}=xe();x.useEffect(()=>{t&&e.id&&c()},[t,e.id]);const c=async()=>{o(!0);try{const{data:p,error:y}=await A.from("submission_responses").select("*").eq("submission_id",e.id).eq("is_public",!0).order("created_at",{ascending:!0});if(y)throw y;a(p||[])}catch(p){console.error("Error fetching responses:",p),l({title:"Error",description:"Failed to load responses",variant:"destructive"})}finally{o(!1)}},u=p=>{switch(p){case"pending":return s.jsx(vt,{className:"w-4 h-4 text-yellow-500"});case"in_progress":return s.jsx(An,{className:"w-4 h-4 text-blue-500"});case"resolved":return s.jsx(Ze,{className:"w-4 h-4 text-green-500"});case"closed":return s.jsx(jr,{className:"w-4 h-4 text-gray-500"});default:return s.jsx(vt,{className:"w-4 h-4 text-gray-400"})}},d=p=>{switch(p){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},h=p=>{switch(p){case 1:return"bg-green-100 text-green-800";case 2:return"bg-yellow-100 text-yellow-800";case 3:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=p=>{switch(p){case 1:return"Low";case 2:return"Medium";case 3:return"High";default:return"Unknown"}},m=p=>{switch(p){case"complaint":return"bg-red-100 text-red-800";case"recommendation":return"bg-blue-100 text-blue-800";case"thought":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},g=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsx(pt,{open:t,onOpenChange:r,children:s.jsxs(yt,{className:"max-w-4xl max-h-[90vh]",children:[s.jsx(bt,{children:s.jsx(wt,{className:"text-xl",children:e.title})}),s.jsx(qy,{className:"h-[calc(90vh-120px)]",children:s.jsxs("div",{className:"space-y-6 pr-4",children:[s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ee,{className:"text-lg",children:"Submission Details"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H,{className:m(e.submission_type),children:e.submission_type}),s.jsxs(H,{className:d(e.status),children:[u(e.status),s.jsx("span",{className:"ml-1 capitalize",children:e.status.replace("_"," ")})]}),s.jsxs(H,{className:h(e.priority),children:[f(e.priority)," Priority"]})]})]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:e.content})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Created:"}),s.jsx("span",{className:"font-medium",children:g(e.created_at)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Directed to:"}),s.jsx("span",{className:"font-medium capitalize",children:e.directed_to.replace("_"," ")})]}),e.is_anonymous&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Anonymous submission"})]}),e.resolved_at&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Resolved:"}),s.jsx("span",{className:"font-medium",children:g(e.resolved_at)})]})]})]})]}),s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"text-lg flex items-center gap-2",children:[s.jsx(Wl,{className:"w-5 h-5"}),"Admin Responses (",n.length,")"]})}),s.jsx(L,{children:i?s.jsx("div",{className:"space-y-3",children:[1,2].map(p=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),s.jsx("div",{className:"h-16 bg-gray-200 rounded"})]},p))}):n.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Wl,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"No admin responses yet"}),s.jsx("p",{className:"text-sm",children:"Your submission is being reviewed"})]}):s.jsx("div",{className:"space-y-4",children:n.map((p,y)=>s.jsxs("div",{children:[s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Admin Response"}),s.jsx("span",{className:"text-xs text-gray-500",children:g(p.created_at)})]}),s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:p.response_content})]}),y<n.length-1&&s.jsx(ZF,{className:"my-3"})]},p.id))})})]})]})})]})})},hg=({filterType:e})=>{const[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(null),{user:l}=ye(),{toast:c}=xe();x.useEffect(()=>{u()},[e,l]);const u=async()=>{if(l)try{let y=A.from("submissions_with_stats").select("*").eq("user_id",l.id).order("created_at",{ascending:!1});e&&(y=y.eq("submission_type",e));const{data:b,error:v}=await y;if(v)throw v;r(b||[])}catch(y){console.error("Error fetching submissions:",y),c({title:"Error",description:"Failed to load submissions",variant:"destructive"})}finally{a(!1)}},d=y=>{switch(y){case"pending":return s.jsx(vt,{className:"w-4 h-4 text-yellow-500"});case"in_progress":return s.jsx(An,{className:"w-4 h-4 text-blue-500"});case"resolved":return s.jsx(Ze,{className:"w-4 h-4 text-green-500"});case"closed":return s.jsx(jr,{className:"w-4 h-4 text-gray-500"});default:return s.jsx(vt,{className:"w-4 h-4 text-gray-400"})}},h=y=>{switch(y){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},f=y=>{switch(y){case 1:return"bg-green-100 text-green-800";case 2:return"bg-yellow-100 text-yellow-800";case 3:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=y=>{switch(y){case 1:return"Low";case 2:return"Medium";case 3:return"High";default:return"Unknown"}},g=y=>{switch(y){case"complaint":return"bg-red-100 text-red-800";case"recommendation":return"bg-blue-100 text-blue-800";case"thought":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},p=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(y=>s.jsx(R,{className:"animate-pulse",children:s.jsxs(L,{className:"p-6",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},y))}):t.length===0?s.jsx(R,{children:s.jsxs(L,{className:"p-8 text-center",children:[s.jsx(Wl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No submissions yet"}),s.jsx("p",{className:"text-gray-600",children:e?`You haven't submitted any ${e}s yet.`:"You haven't made any submissions yet."})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-4",children:t.map(y=>s.jsxs(R,{className:"hover:shadow-md transition-shadow",children:[s.jsx(Z,{className:"pb-3",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx(ee,{className:"text-lg mb-2",children:y.title}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(H,{className:g(y.submission_type),children:y.submission_type}),s.jsxs(H,{className:h(y.status),children:[d(y.status),s.jsx("span",{className:"ml-1 capitalize",children:y.status.replace("_"," ")})]}),s.jsxs(H,{className:f(y.priority),children:[m(y.priority)," Priority"]}),y.is_anonymous&&s.jsxs(H,{variant:"outline",children:[s.jsx(ir,{className:"w-3 h-3 mr-1"}),"Anonymous"]})]})]})})}),s.jsxs(L,{className:"pt-0",children:[s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:y.content}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ae,{className:"w-4 h-4"}),p(y.created_at)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Wl,{className:"w-4 h-4"}),y.response_count," response",y.response_count!==1?"s":""]}),s.jsxs("div",{className:"text-gray-500",children:["Directed to: ",s.jsx("span",{className:"font-medium capitalize",children:y.directed_to.replace("_"," ")})]})]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>o(y),children:[s.jsx(Or,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]})]},y.id))}),i&&s.jsx(lde,{submission:i,open:!!i,onClose:()=>o(null)})]})},cde=()=>{const[e,t]=x.useState("all"),[r,n]=x.useState(!1),[a,i]=x.useState(0),o=()=>{n(!1),i(l=>l+1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Submissions"}),s.jsx("p",{className:"text-gray-600",children:"Submit complaints, recommendations, or share your thoughts"})]}),s.jsxs(pt,{open:r,onOpenChange:n,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{children:[s.jsx(Bt,{className:"w-4 h-4 mr-2"}),"New Submission"]})}),s.jsxs(yt,{className:"max-w-2xl",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Create New Submission"})}),s.jsx(sde,{onSuccess:o})]})]})]}),s.jsxs(Mr,{value:e,onValueChange:t,children:[s.jsxs(Yt,{className:"grid w-full grid-cols-4",children:[s.jsx(te,{value:"all",children:"All"}),s.jsx(te,{value:"complaint",children:"Complaints"}),s.jsx(te,{value:"recommendation",children:"Recommendations"}),s.jsx(te,{value:"thought",children:"Thoughts"})]}),s.jsx(de,{value:"all",className:"mt-6",children:s.jsx(hg,{filterType:null},a)}),s.jsx(de,{value:"complaint",className:"mt-6",children:s.jsx(hg,{filterType:"complaint"},a)}),s.jsx(de,{value:"recommendation",className:"mt-6",children:s.jsx(hg,{filterType:"recommendation"},a)}),s.jsx(de,{value:"thought",className:"mt-6",children:s.jsx(hg,{filterType:"thought"},a)})]})]})},ude=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),{toast:a}=xe(),i=async()=>{try{const{data:o,error:l}=await A.from("constitution_documents").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(l)throw l;t(o||[])}catch(o){console.error("Error fetching constitution documents:",o),a({title:"Error",description:"Failed to load constitution documents",variant:"destructive"})}finally{n(!1)}};return x.useEffect(()=>{i()},[]),{documents:e,loading:r,refetch:i}},dde=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fr,{className:"w-6 h-6 text-kic-green-600"}),s.jsx("h2",{className:"text-2xl font-bold",children:"KIC Constitution"})]}),s.jsxs(Ht,{children:[s.jsx(An,{className:"h-4 w-4"}),s.jsx(Kt,{children:"The constitution outlines the rules, governance structure, and guidelines for the Karatina Innovation Club. All members should familiarize themselves with these documents."})]})]}),hde=({document:e})=>{const{toast:t}=xe(),r=async()=>{try{const{data:i,error:o}=await A.storage.from("constitution-documents").download(e.file_url);if(o)throw o;const l=URL.createObjectURL(i),c=globalThis.document.createElement("a");c.href=l,c.download=e.file_name,globalThis.document.body.appendChild(c),c.click(),globalThis.document.body.removeChild(c),URL.revokeObjectURL(l),t({title:"Success",description:`Downloaded ${e.title}`})}catch(i){console.error("Error downloading document:",i),t({title:"Error",description:"Failed to download document",variant:"destructive"})}},n=i=>i?i<1024?i+" B":i<1048576?Math.round(i/1024)+" KB":Math.round(i/1048576)+" MB":"Unknown size",a=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s.jsxs(R,{className:"hover:shadow-md transition-shadow",children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Fr,{className:"w-5 h-5 text-kic-green-600"}),e.title]}),e.description&&s.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]}),s.jsxs(H,{variant:"outline",className:"ml-2",children:["v",e.version]})]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"w-4 h-4"}),s.jsxs("span",{children:["Uploaded: ",a(e.created_at)]})]}),e.file_size&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Size: ",n(e.file_size)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-4 h-4"}),s.jsx("span",{children:"Official Document"})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["File: ",e.file_name]}),s.jsxs(M,{onClick:r,className:"bg-kic-green-600 hover:bg-kic-green-700",children:[s.jsx(Ym,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})]})},fde=()=>s.jsx(R,{children:s.jsxs(L,{className:"text-center py-8",children:[s.jsx(Fr,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Constitution Documents Available"}),s.jsx("p",{className:"text-gray-600",children:"Constitution documents have not been uploaded yet. Please check back later."})]})}),mde=()=>s.jsx(R,{className:"bg-kic-green-50 border-kic-green-200",children:s.jsxs(L,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold text-kic-green-800 mb-2",children:"Important Notes"}),s.jsxs("ul",{className:"text-sm text-kic-green-700 space-y-1",children:[s.jsx("li",{children:" The constitution is a living document and may be updated periodically"}),s.jsx("li",{children:" All members are expected to abide by the rules and guidelines outlined"}),s.jsx("li",{children:" For questions about the constitution, contact the club administrators"}),s.jsx("li",{children:" Constitutional amendments require proper procedures as outlined in the document"})]})]})}),pde=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fr,{className:"w-6 h-6 text-kic-green-600"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Constitution"})]}),s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsx("p",{className:"text-center text-gray-600",children:"Loading constitution documents..."})})})]}),gde=()=>{const{documents:e,loading:t}=ude();return t?s.jsx(pde,{}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(dde,{}),e.length===0?s.jsx(fde,{}):s.jsx("div",{className:"grid gap-4",children:e.map(r=>s.jsx(hde,{document:r},r.id))}),s.jsx(mde,{})]})},e9=()=>{const{user:e}=ye(),{toast:t}=xe(),[r,n]=x.useState([]),[a,i]=x.useState(!0),[o,l]=x.useState(0);x.useEffect(()=>{e&&(u(),c())},[e]);const c=async()=>{if(e)try{const{count:h}=await A.from("community_memberships").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("status","active");l(h||0)}catch(h){console.error("Error fetching user membership count:",h)}},u=async()=>{try{const{data:h,error:f}=await A.from("community_groups").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(f)throw f;const m=await Promise.all((h||[]).map(async g=>{const{count:p}=await A.from("community_memberships").select("*",{count:"exact",head:!0}).eq("community_id",g.id).eq("status","active");let y=!1,b=!1;if(e){const{data:v}=await A.from("community_memberships").select("id").eq("community_id",g.id).eq("user_id",e.id).eq("status","active").single();y=!!v;const{data:w}=await A.from("community_admins").select("id").eq("community_id",g.id).eq("user_id",e.id).eq("is_active",!0).single();b=!!w}return{...g,member_count:p||0,is_member:y,is_admin:b}}));n(m)}catch(h){console.error("Error fetching communities:",h),t({title:"Error",description:"Failed to load communities",variant:"destructive"})}finally{i(!1)}};return{communities:r,loading:a,userMembershipCount:o,refreshData:async()=>{await u(),await c()}}},xde=(e,t)=>{const{user:r}=ye(),{toast:n}=xe(),a=Ao(),[i,o]=x.useState(null);return{visitingCommunity:i,visitCommunity:async(u,d)=>{if(r)try{o(u);const{data:h,error:f}=await A.rpc("track_community_visit",{user_id_param:r.id,community_id_param:u});if(f)throw f;n(h?{title:"Community visited!",description:`You visited ${d} and earned 5 points!`}:{title:"Community visited!",description:`Welcome back to ${d}!`}),a(`/community-dashboard/${u}`)}catch(h){console.error("Error tracking community visit:",h),n({title:"Visit recorded",description:`You visited ${d}`}),a(`/community-dashboard/${u}`)}finally{o(null)}},toggleMembership:async(u,d,h)=>{if(r)try{if(h){if(e<=1){n({title:"Cannot leave community",description:"You must be a member of at least one community",variant:"destructive"});return}await A.from("community_memberships").delete().eq("community_id",u).eq("user_id",r.id),n({title:"Left community",description:`You have left ${d}`})}else{if(e>=3){n({title:"Membership limit reached",description:"You can only join up to 3 communities",variant:"destructive"});return}await A.from("community_memberships").insert({community_id:u,user_id:r.id,status:"active"}),n({title:"Joined community",description:`Welcome to ${d}!`})}t()}catch(f){console.error("Error toggling membership:",f),n({title:"Error",description:"Failed to update membership",variant:"destructive"})}}}},vde=({userMembershipCount:e})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-kic-gray",children:"My Communities"}),s.jsxs(H,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(Oe,{className:"w-3 h-3"}),e,"/3"]})]}),e===0&&s.jsxs(Ht,{children:[s.jsx(oc,{className:"h-4 w-4"}),s.jsx(Kt,{children:"You must join at least one community to participate in club activities."})]})]}),yde=({community:e,visitingCommunity:t,userMembershipCount:r,onVisit:n,onToggleMembership:a})=>s.jsxs(R,{className:"border-green-200 bg-green-50",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs(ee,{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:e.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.is_admin&&s.jsxs(H,{variant:"default",className:"flex items-center gap-1 text-xs",children:[s.jsx(lr,{className:"w-3 h-3"}),"Admin"]}),s.jsxs(H,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:[s.jsx(Oe,{className:"w-3 h-3"}),e.member_count]})]})]})}),s.jsxs(L,{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-700",children:e.description}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[s.jsx(Ae,{className:"w-3 h-3"}),s.jsx("span",{children:e.meeting_schedule})]}),e.focus_areas&&e.focus_areas.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:e.focus_areas.slice(0,3).map(i=>s.jsx(H,{variant:"outline",className:"text-xs",children:i},i))}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(M,{onClick:()=>n(e.id,e.name),variant:"default",size:"sm",className:"flex-1",disabled:t===e.id,children:t===e.id?s.jsxs(s.Fragment,{children:[s.jsx(Or,{className:"w-3 h-3 mr-1 animate-pulse"}),"Visiting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(fee,{className:"w-3 h-3 mr-1"}),"Visit Community"]})}),s.jsx(M,{onClick:()=>a(e.id,e.name,e.is_member),variant:"outline",size:"sm",className:"shrink-0",disabled:r<=1,children:"Leave"}),e.is_admin&&s.jsx(M,{variant:"outline",size:"sm",className:"shrink-0",children:s.jsx(Oy,{className:"w-3 h-3"})})]})]})]},e.id),bde=({community:e,userMembershipCount:t,onToggleMembership:r})=>s.jsxs(R,{children:[s.jsx(Z,{className:"pb-3",children:s.jsxs(ee,{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:e.name}),s.jsxs(H,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:[s.jsx(Oe,{className:"w-3 h-3"}),e.member_count]})]})}),s.jsxs(L,{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-700",children:e.description}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[s.jsx(Ae,{className:"w-3 h-3"}),s.jsx("span",{children:e.meeting_schedule})]}),e.focus_areas&&e.focus_areas.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:e.focus_areas.slice(0,3).map(n=>s.jsx(H,{variant:"outline",className:"text-xs",children:n},n))}),s.jsx(M,{onClick:()=>r(e.id,e.name,e.is_member),variant:"default",size:"sm",className:"w-full mt-3",disabled:t>=3,children:t>=3?"Limit Reached":"Join Community"})]})]},e.id),wde=()=>s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Oe,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No communities available"}),s.jsx("p",{className:"text-gray-500",children:"Communities will be available soon."})]}),jde=()=>{const{communities:e,loading:t,userMembershipCount:r,refreshData:n}=e9(),{visitingCommunity:a,visitCommunity:i,toggleMembership:o}=xde(r,n);if(t)return s.jsx("div",{className:"text-center py-8",children:"Loading communities..."});const l=e.filter(u=>u.is_member),c=e.filter(u=>!u.is_member);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(vde,{userMembershipCount:r}),l.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Joined Communities"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(u=>s.jsx(yde,{community:u,visitingCommunity:a,userMembershipCount:r,onVisit:i,onToggleMembership:o},u.id))})]}),c.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Available Communities"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(u=>s.jsx(bde,{community:u,userMembershipCount:r,onToggleMembership:o},u.id))})]}),e.length===0&&s.jsx(wde,{})]})},Nde=()=>{const e=t=>{console.log(`Election test action: ${t}`),alert(`Testing ${t} functionality - Check console for details`)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ht,{children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx(Kt,{children:"Elections module is successfully loaded and working. All components are connected properly."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5 text-kic-green-600"}),"Voter Interface"]})}),s.jsxs(L,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Test the voting interface functionality"}),s.jsx(M,{onClick:()=>e("Voting"),className:"w-full",children:"Test Voting"})]})]}),s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-5 w-5 text-kic-blue-600"}),"Candidate Application"]})}),s.jsxs(L,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Test the candidate application system"}),s.jsx(M,{onClick:()=>e("Application"),variant:"outline",className:"w-full",children:"Test Application"})]})]})]}),s.jsxs(R,{className:"bg-kic-green-50 border-kic-green-200",children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-kic-green-800",children:"System Status"})}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Elections Dashboard Integration:  Working"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Admin Elections Management:  Working"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Component Rendering:  Working"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(An,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"text-sm",children:"Database Integration:  Requires Testing"})]})]})})]})]})},t9=()=>{ye();const[e,t]=x.useState([]),[r,n]=x.useState(!0);x.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:l,error:c}=await A.from("elections").select("*").order("created_at",{ascending:!1});if(c){console.error("Error fetching elections:",c),ar.error("Failed to load elections");return}t(l||[])}catch(l){console.error("Error fetching elections:",l),ar.error("Failed to load elections")}finally{n(!1)}},i=l=>{switch(l){case"draft":return"secondary";case"nomination_open":return"default";case"voting_open":return"destructive";case"completed":return"outline";default:return"secondary"}},o=l=>{switch(l){case"voting_open":return s.jsx(vt,{className:"w-4 h-4"});case"completed":return s.jsx(Ze,{className:"w-4 h-4"});default:return s.jsx(Ae,{className:"w-4 h-4"})}};return r?s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsx("div",{className:"text-center",children:"Loading elections..."})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Nde,{}),e.length===0?s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-5 w-5"}),"No Active Elections"]})}),s.jsxs(L,{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"There are currently no elections scheduled. Check back later or contact an administrator."}),s.jsxs("div",{className:"bg-kic-green-50 border border-kic-green-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-kic-green-800 mb-2",children:"What are elections?"}),s.jsx("p",{className:"text-sm text-kic-green-700",children:"Elections allow club members to democratically choose their leadership. When elections are active, you'll be able to view candidates, cast your vote, and even apply to become a candidate yourself."})]})]})]}):s.jsx("div",{className:"space-y-4",children:e.map(l=>s.jsxs(R,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[o(l.status),l.title]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l.description})]}),s.jsx(H,{variant:i(l.status),children:l.status.replace("_"," ").toUpperCase()})]})}),s.jsxs(L,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Oe,{className:"w-4 h-4 text-kic-blue-600"}),s.jsx("span",{className:"font-medium",children:"Nomination Period:"})]}),s.jsxs("p",{className:"text-sm text-gray-600 ml-6",children:[new Date(l.nomination_start_date).toLocaleDateString()," - "," ",new Date(l.nomination_end_date).toLocaleDateString()]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(vt,{className:"w-4 h-4 text-kic-green-600"}),s.jsx("span",{className:"font-medium",children:"Voting Period:"})]}),s.jsxs("p",{className:"text-sm text-gray-600 ml-6",children:[new Date(l.voting_start_date).toLocaleDateString()," - "," ",new Date(l.voting_end_date).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[l.status==="voting_open"&&s.jsx(M,{size:"sm",className:"bg-kic-green-600 hover:bg-kic-green-700",children:"Vote Now"}),l.status==="nomination_open"&&s.jsx(M,{size:"sm",variant:"outline",children:"Apply as Candidate"}),s.jsx(M,{size:"sm",variant:"outline",children:"View Details"})]})]})]},l.id))})]})},_de=()=>{const{user:e}=ye(),{toast:t}=xe(),r=ic(),{data:n,isLoading:a}=Ya({queryKey:["active-election"],queryFn:async()=>{const{data:u,error:d}=await A.from("elections").select("*").eq("status","voting_open").gte("voting_end_date",new Date().toISOString()).lte("voting_start_date",new Date().toISOString()).single();if(d&&d.code!=="PGRST116")throw d;return u}}),{data:i,isLoading:o}=Ya({queryKey:["election-candidates",n==null?void 0:n.id],queryFn:async()=>{if(!(n!=null&&n.id))return[];const{data:u,error:d}=await A.from("election_candidates").select(`
          *,
          members!inner(name, bio, avatar_url)
        `).eq("election_id",n.id).eq("status","approved");if(d)throw d;return u},enabled:!!(n!=null&&n.id)}),{data:l}=Ya({queryKey:["user-votes",n==null?void 0:n.id],queryFn:async()=>{if(!(n!=null&&n.id)||!(e!=null&&e.id))return[];const{data:u,error:d}=await A.from("election_votes").select("*").eq("election_id",n.id).eq("voter_id",e.id);if(d)throw d;return u},enabled:!!(n!=null&&n.id)&&!!(e!=null&&e.id)}),c=zm({mutationFn:async({candidateId:u,positionType:d})=>{const{error:h}=await A.from("election_votes").insert({election_id:n.id,candidate_id:u,position_type:d,voter_id:e.id});if(h)throw h},onSuccess:()=>{r.invalidateQueries({queryKey:["user-votes"]}),t({title:"Vote Submitted",description:"Your vote has been recorded successfully."})},onError:u=>{t({title:"Error",description:"Failed to submit vote. Please try again.",variant:"destructive"}),console.error("Vote submission error:",u)}});return{activeElection:n,candidates:i,userVotes:l,isLoading:a||o,submitVote:c}},Sde=({electionTitle:e})=>s.jsx(R,{children:s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5"}),e]}),s.jsx(ut,{children:"Cast your vote for the leadership positions. You can vote once per position."})]})}),kde=()=>s.jsx(R,{children:s.jsxs(L,{className:"text-center py-12",children:[s.jsx(Ds,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Active Voting"}),s.jsx("p",{className:"text-gray-500",children:"There are currently no elections open for voting."})]})}),Cde=({candidate:e,isVotedFor:t,hasVoted:r,onVote:n,isLoading:a})=>s.jsx(R,{className:`transition-all duration-200 ${t?"ring-2 ring-green-500 bg-green-50":"hover:shadow-md"}`,children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("img",{src:e.members.avatar_url||"/placeholder.svg",alt:e.members.name,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold",children:e.members.name}),e.members.bio&&s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.members.bio}),e.manifesto&&s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:e.manifesto}),r?t?s.jsxs(H,{className:"bg-green-100 text-green-800",children:[s.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Your Vote"]}):null:s.jsx(M,{size:"sm",onClick:n,disabled:a,children:"Vote"})]})]})})}),Pde=({positionType:e,candidates:t,hasVoted:r,userVotesByPosition:n,onVote:a,isLoading:i})=>s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(ee,{className:"capitalize text-lg",children:e.replace("_"," ")}),r&&s.jsxs(H,{className:"bg-green-100 text-green-800",children:[s.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Voted"]})]})}),s.jsx(L,{children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:t.map(o=>{const l=n[e]===o.id;return s.jsx(Cde,{candidate:o,isVotedFor:l,hasVoted:r,onVote:()=>a(e,o.id),isLoading:i},o.id)})})})]}),r9=()=>{const{toast:e}=xe(),{activeElection:t,candidates:r,userVotes:n,isLoading:a,submitVote:i}=_de();if(a)return s.jsx("div",{className:"text-center py-8",children:"Loading voting interface..."});if(!t)return s.jsx(kde,{});const o=(r==null?void 0:r.reduce((u,d)=>(u[d.position_type]||(u[d.position_type]=[]),u[d.position_type].push(d),u),{}))||{},l=(n==null?void 0:n.reduce((u,d)=>(u[d.position_type]=d.candidate_id,u),{}))||{},c=(u,d)=>{if(l[u]){e({title:"Already Voted",description:`You have already voted for ${u.replace("_"," ")}.`,variant:"destructive"});return}i.mutate({candidateId:d,positionType:u})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Sde,{electionTitle:t.title}),Object.entries(o).map(([u,d])=>{const h=l[u];return s.jsx(Pde,{positionType:u,candidates:d,hasVoted:h,userVotesByPosition:l,onVote:c,isLoading:i.isPending},u)})]})},Ade=()=>{var m;const{user:e}=ye(),{toast:t}=xe(),r=ic(),[n,a]=x.useState(""),[i,o]=x.useState(""),{data:l}=Ya({queryKey:["nomination-election"],queryFn:async()=>{const{data:g,error:p}=await A.from("elections").select(`
          *,
          election_positions(*)
        `).eq("status","nomination_open").gte("nomination_end_date",new Date().toISOString()).lte("nomination_start_date",new Date().toISOString()).single();if(p&&p.code!=="PGRST116")throw p;return g}}),{data:c}=Ya({queryKey:["user-applications",l==null?void 0:l.id],queryFn:async()=>{if(!(l!=null&&l.id)||!(e!=null&&e.id))return[];const{data:g,error:p}=await A.from("election_candidates").select("*").eq("election_id",l.id).eq("user_id",e.id);if(p)throw p;return g},enabled:!!(l!=null&&l.id)&&!!(e!=null&&e.id)}),u=zm({mutationFn:async({positionType:g,manifesto:p})=>{const{error:y}=await A.from("election_candidates").insert({election_id:l.id,position_type:g,user_id:e.id,manifesto:p});if(y)throw y},onSuccess:()=>{r.invalidateQueries({queryKey:["user-applications"]}),a(""),o(""),t({title:"Application Submitted",description:"Your candidate application has been submitted for review."})},onError:g=>{t({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"}),console.error("Application error:",g)}}),d=g=>{if(g.preventDefault(),!n||!i.trim()){t({title:"Incomplete Form",description:"Please select a position and provide your manifesto.",variant:"destructive"});return}u.mutate({positionType:n,manifesto:i})},h=(c==null?void 0:c.map(g=>g.position_type))||[],f=((m=l==null?void 0:l.election_positions)==null?void 0:m.filter(g=>!h.includes(g.position_type)))||[];return{activeElection:l,userApplications:c,selectedPosition:n,setSelectedPosition:a,manifesto:i,setManifesto:o,handleSubmit:d,applyForPosition:u,availablePositions:f,appliedPositions:h}},Ede=()=>s.jsx(R,{children:s.jsxs(L,{className:"text-center py-12",children:[s.jsx(wa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Open Nominations"}),s.jsx("p",{className:"text-gray-500",children:"There are currently no elections accepting candidate applications."})]})}),Tde=({electionTitle:e})=>s.jsx(R,{children:s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(wa,{className:"w-5 h-5"}),"Apply for Candidacy"]}),s.jsxs(ut,{children:["Submit your application to run for a leadership position in ",e,"."]})]})}),Ode=({applications:e})=>{const t=n=>{switch(n){case"approved":return s.jsx(Ze,{className:"w-4 h-4 text-green-600"});case"rejected":return s.jsx(jr,{className:"w-4 h-4 text-red-600"});default:return s.jsx(vt,{className:"w-4 h-4 text-yellow-600"})}},r=n=>{switch(n){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Your Applications"})}),s.jsx(L,{children:s.jsx("div",{className:"space-y-3",children:e.map(n=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[t(n.status),s.jsx("span",{className:"font-medium capitalize",children:n.position_type.replace("_"," ")})]}),s.jsx(H,{className:r(n.status),children:n.status})]},n.id))})})]})},Mde=({availablePositions:e,selectedPosition:t,setSelectedPosition:r,manifesto:n,setManifesto:a,onSubmit:i,isSubmitting:o})=>s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Apply for New Position"})}),s.jsx(L,{children:s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsx("div",{children:s.jsxs(Ie,{value:t,onValueChange:l=>r(l),children:[s.jsx(Me,{children:s.jsx(Le,{placeholder:"Select a position to apply for"})}),s.jsx(Re,{children:e.map(l=>s.jsx(G,{value:l.position_type,children:l.position_type.replace("_"," ")},l.id))})]})}),s.jsx("div",{children:s.jsx(ct,{placeholder:"Write your manifesto and explain why you're the best candidate for this position...",value:n,onChange:l=>a(l.target.value),rows:6,className:"resize-none"})}),s.jsx(M,{type:"submit",disabled:o||!t||!n.trim(),className:"w-full",children:o?"Submitting...":"Submit Application"})]})})]}),Rde=()=>s.jsx(R,{children:s.jsxs(L,{className:"text-center py-8",children:[s.jsx(Ze,{className:"w-12 h-12 text-green-600 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"All Positions Applied"}),s.jsx("p",{className:"text-gray-500",children:"You have applied for all available positions in this election."})]})}),n9=()=>{const{activeElection:e,userApplications:t,selectedPosition:r,setSelectedPosition:n,manifesto:a,setManifesto:i,handleSubmit:o,applyForPosition:l,availablePositions:c}=Ade();return e?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Tde,{electionTitle:e.title}),t&&t.length>0&&s.jsx(Ode,{applications:t}),c.length>0&&s.jsx(Mde,{availablePositions:c,selectedPosition:r,setSelectedPosition:n,manifesto:a,setManifesto:i,onSubmit:o,isSubmitting:l.isPending}),c.length===0&&t&&t.length>0&&s.jsx(Rde,{})]}):s.jsx(Ede,{})},s9=()=>{const{data:e,isLoading:t}=Ya({queryKey:["completed-elections"],queryFn:async()=>{const{data:l,error:c}=await A.from("elections").select("*").eq("status","completed").order("voting_end_date",{ascending:!1});if(c)throw c;return l}}),{data:r,isLoading:n}=Ya({queryKey:["election-results",e],queryFn:async()=>{if(!(e!=null&&e.length))return{};const l={};for(const c of e){const{data:u,error:d}=await A.rpc("get_election_results",{election_id_param:c.id});if(d){console.error("Error fetching results for election:",c.id,d);continue}l[c.id]=u}return l},enabled:!!(e!=null&&e.length)});if(t||n)return s.jsx("div",{className:"text-center py-8",children:"Loading election results..."});if(!(e!=null&&e.length))return s.jsx(R,{children:s.jsxs(L,{className:"text-center py-12",children:[s.jsx(Wt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Results Available"}),s.jsx("p",{className:"text-gray-500",children:"No completed elections to show results for."})]})});const a=l=>l.reduce((c,u)=>(c[u.position_type]||(c[u.position_type]=[]),c[u.position_type].push(u),c),{}),i=l=>l.reduce((c,u)=>c+parseInt(u.vote_count),0),o=l=>l.reduce((c,u)=>parseInt(u.vote_count)>parseInt(c.vote_count)?u:c);return s.jsx("div",{className:"space-y-8",children:e.map(l=>{const c=(r==null?void 0:r[l.id])||[],u=a(c);return s.jsxs(R,{children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Wt,{className:"w-5 h-5"}),l.title," - Results"]}),s.jsxs(ut,{children:["Election completed on ",new Date(l.voting_end_date).toLocaleDateString()]})]}),s.jsx(L,{children:Object.keys(u).length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:"No votes were cast in this election."}):s.jsx("div",{className:"space-y-6",children:Object.entries(u).map(([d,h])=>{const f=i(h),m=o(h);return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold capitalize",children:d.replace("_"," ")}),s.jsxs(H,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(Oe,{className:"w-3 h-3"}),f," votes"]})]}),s.jsx("div",{className:"space-y-3",children:h.sort((g,p)=>parseInt(p.vote_count)-parseInt(g.vote_count)).map((g,p)=>{const y=f>0?parseInt(g.vote_count)/f*100:0,b=g.candidate_id===m.candidate_id;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[b&&s.jsx(Wt,{className:"w-4 h-4 text-yellow-500"}),s.jsx("span",{className:`font-medium ${b?"text-yellow-700":""}`,children:g.candidate_name}),p===0&&s.jsx(H,{className:"bg-yellow-100 text-yellow-800",children:"Winner"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-sm text-gray-600",children:[g.vote_count," votes (",y.toFixed(1),"%)"]})})]}),s.jsx(HS,{value:y,className:"h-2"})]},g.candidate_id)})})]},d)})})})]},l.id)})})},Dde=()=>{const{user:e}=ye(),{toast:t}=xe(),[r,n]=x.useState([]),[a,i]=x.useState(!0),[o,l]=x.useState(null),[c,u]=x.useState({title:"",content:"",image_url:"",video_url:"",display_priority:1,expires_at:""}),d=async()=>{if(e)try{const{data:p,error:y}=await A.from("election_advertisements").select(`
          *,
          election_candidates!inner(
            user_id,
            position_type,
            elections!inner(title, status)
          )
        `).eq("election_candidates.user_id",e.id);if(y)throw y;n(p||[])}catch(p){console.error("Error fetching ads:",p),t({title:"Error",description:"Failed to fetch your advertisements",variant:"destructive"})}finally{i(!1)}},h=async p=>{if(p.preventDefault(),!!e)try{const{data:y,error:b}=await A.from("election_candidates").select("id, election_id").eq("user_id",e.id).eq("status","approved").single();if(b||!y){t({title:"Error",description:"You don't have an approved candidacy",variant:"destructive"});return}const v={...c,candidate_id:y.id,election_id:y.election_id,expires_at:c.expires_at||null};if(o){const{error:w}=await A.from("election_advertisements").update(v).eq("id",o.id);if(w)throw w;t({title:"Success",description:"Advertisement updated successfully"})}else{const{error:w}=await A.from("election_advertisements").insert([v]);if(w)throw w;t({title:"Success",description:"Advertisement created successfully"})}u({title:"",content:"",image_url:"",video_url:"",display_priority:1,expires_at:""}),l(null),d()}catch(y){console.error("Error saving ad:",y),t({title:"Error",description:"Failed to save advertisement",variant:"destructive"})}},f=p=>{l(p),u({title:p.title,content:p.content,image_url:p.image_url||"",video_url:p.video_url||"",display_priority:p.display_priority,expires_at:p.expires_at?p.expires_at.split("T")[0]:""})},m=async p=>{try{const{error:y}=await A.from("election_advertisements").delete().eq("id",p);if(y)throw y;t({title:"Success",description:"Advertisement deleted successfully"}),d()}catch(y){console.error("Error deleting ad:",y),t({title:"Error",description:"Failed to delete advertisement",variant:"destructive"})}},g=async(p,y)=>{try{const{error:b}=await A.from("election_advertisements").update({is_active:!y}).eq("id",p);if(b)throw b;t({title:"Success",description:`Advertisement ${y?"deactivated":"activated"}`}),d()}catch(b){console.error("Error updating ad status:",b),t({title:"Error",description:"Failed to update advertisement status",variant:"destructive"})}};return x.useEffect(()=>{d()},[e]),a?s.jsx("div",{className:"text-center py-8",children:"Loading your advertisements..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(nf,{className:"w-5 h-5"}),"Manage Campaign Advertisements"]})}),s.jsx(L,{children:s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),s.jsx(re,{value:c.title,onChange:p=>u({...c,title:p.target.value}),placeholder:"Advertisement title",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Priority (1-10)"}),s.jsx(re,{type:"number",min:"1",max:"10",value:c.display_priority,onChange:p=>u({...c,display_priority:parseInt(p.target.value)})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Content"}),s.jsx(ct,{value:c.content,onChange:p=>u({...c,content:p.target.value}),placeholder:"Advertisement content",rows:4,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),s.jsx(re,{value:c.image_url,onChange:p=>u({...c,image_url:p.target.value}),placeholder:"https://example.com/image.jpg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Video URL"}),s.jsx(re,{value:c.video_url,onChange:p=>u({...c,video_url:p.target.value}),placeholder:"https://youtube.com/watch?v=..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Expires At (optional)"}),s.jsx(re,{type:"date",value:c.expires_at,onChange:p=>u({...c,expires_at:p.target.value})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M,{type:"submit",children:[o?s.jsx(yo,{className:"w-4 h-4 mr-2"}):s.jsx(Bt,{className:"w-4 h-4 mr-2"}),o?"Update":"Create"," Advertisement"]}),o&&s.jsx(M,{type:"button",variant:"outline",onClick:()=>{l(null),u({title:"",content:"",image_url:"",video_url:"",display_priority:1,expires_at:""})},children:"Cancel"})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Your Advertisements"}),r.length===0?s.jsx(R,{children:s.jsx(L,{className:"p-6 text-center text-gray-500",children:"No advertisements created yet. Create your first campaign ad above!"})}):r.map(p=>s.jsx(R,{className:`${p.is_active?"border-green-200":"border-gray-200"}`,children:s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-semibold",children:p.title}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:p.is_active?"default":"secondary",children:p.is_active?"Active":"Inactive"}),s.jsxs(H,{variant:"outline",children:["Priority: ",p.display_priority]})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p.content}),s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"w-3 h-3"}),p.impressions_count," views"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(nI,{className:"w-3 h-3"}),p.clicks_count," clicks"]})]}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Created: ",new Date(p.created_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M,{size:"sm",variant:"outline",onClick:()=>f(p),children:[s.jsx(yo,{className:"w-3 h-3 mr-1"}),"Edit"]}),s.jsx(M,{size:"sm",variant:p.is_active?"secondary":"default",onClick:()=>g(p.id,p.is_active),children:p.is_active?"Deactivate":"Activate"}),s.jsx(M,{size:"sm",variant:"destructive",onClick:()=>m(p.id),children:s.jsx(en,{className:"w-3 h-3"})})]})]})},p.id))]})]})},$de=()=>(console.log("DashboardElections component rendered"),s.jsx("div",{className:"space-y-6",children:s.jsxs(R,{className:"border-kic-green-200 bg-gradient-to-r from-kic-green-50 to-kic-green-100",children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2 text-kic-green-700",children:[s.jsx(Ds,{className:"h-6 w-6"}),"Club Elections & Governance"]}),s.jsxs(Ht,{children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx(Kt,{children:"Participate in democratic leadership selection, apply for positions, manage campaigns, and view real-time results."})]})]}),s.jsx(L,{children:s.jsxs(Mr,{defaultValue:"elections",className:"space-y-6",children:[s.jsx("div",{className:"block lg:hidden",children:s.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:s.jsxs(Yt,{className:"inline-flex h-12 items-center justify-start rounded-md bg-white p-1 min-w-max",children:[s.jsxs(te,{value:"elections",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(Ae,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Elections"})]}),s.jsxs(te,{value:"vote",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(Ds,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Vote"})]}),s.jsxs(te,{value:"apply",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(Fr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Apply"})]}),s.jsxs(te,{value:"campaigns",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(nf,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Campaigns"})]}),s.jsxs(te,{value:"tracker",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(Bn,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Live"})]}),s.jsxs(te,{value:"results",className:"flex items-center gap-2 px-3 py-2 whitespace-nowrap",children:[s.jsx(Wt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Results"})]})]})})}),s.jsx("div",{className:"hidden lg:block",children:s.jsxs(Yt,{className:"grid w-full grid-cols-6 bg-white h-12",children:[s.jsxs(te,{value:"elections",className:"flex items-center gap-2 px-2",children:[s.jsx(Ae,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Active Elections"}),s.jsx("span",{className:"xl:hidden text-sm",children:"Elections"})]}),s.jsxs(te,{value:"vote",className:"flex items-center gap-2 px-2",children:[s.jsx(Ds,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Cast Vote"}),s.jsx("span",{className:"xl:hidden text-sm",children:"Vote"})]}),s.jsxs(te,{value:"apply",className:"flex items-center gap-2 px-2",children:[s.jsx(Fr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Apply"})]}),s.jsxs(te,{value:"campaigns",className:"flex items-center gap-2 px-2",children:[s.jsx(nf,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Campaigns"}),s.jsx("span",{className:"xl:hidden text-sm",children:"Ads"})]}),s.jsxs(te,{value:"tracker",className:"flex items-center gap-2 px-2",children:[s.jsx(Bn,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xl:inline text-sm",children:"Live Results"}),s.jsx("span",{className:"xl:hidden text-sm",children:"Live"})]}),s.jsxs(te,{value:"results",className:"flex items-center gap-2 px-2",children:[s.jsx(Wt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Results"})]})]})}),s.jsxs(de,{value:"elections",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Oe,{className:"h-5 w-5 text-kic-green-600"}),s.jsx("h3",{className:"text-lg font-semibold text-kic-gray",children:"Current Elections"})]}),s.jsx(t9,{})]}),s.jsxs(de,{value:"vote",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ds,{className:"h-5 w-5 text-kic-green-600"}),s.jsx("h3",{className:"text-lg font-semibold text-kic-gray",children:"Voting Portal"})]}),s.jsx(r9,{})]}),s.jsxs(de,{value:"apply",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Fr,{className:"h-5 w-5 text-kic-green-600"}),s.jsx("h3",{className:"text-lg font-semibold text-kic-gray",children:"Candidate Application"})]}),s.jsx(n9,{})]}),s.jsxs(de,{value:"campaigns",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(nf,{className:"h-5 w-5 text-kic-green-600"}),s.jsx("h3",{className:"text-lg font-semibold text-kic-gray",children:"Campaign Management"})]}),s.jsx(Dde,{})]}),s.jsxs(de,{value:"tracker",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Bn,{className:"h-5 w-5 text-kic-green-600"}),s.jsx("h3",{className:"text-lg font-semibold text-kic-gray",children:"Real-Time Vote Tracking"})]}),s.jsx(ZI,{})]}),s.jsxs(de,{value:"results",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Wt,{className:"h-5 w-5 text-kic-green-600"}),s.jsx("h3",{className:"text-lg font-semibold text-kic-gray",children:"Election Results"})]}),s.jsx(s9,{})]})]})})]})})),a9=({attachments:e,onAttachmentsChange:t,disabled:r})=>{const{toast:n}=xe(),[a,i]=x.useState(!1),o=async c=>{var f;const u=(f=c.target.files)==null?void 0:f[0];if(!u)return;const d=u.type.startsWith("image/"),h=u.type.startsWith("video/");if(!d&&!h){n({title:"Invalid file type",description:"Please upload an image or video file",variant:"destructive"});return}if(u.size>10*1024*1024){n({title:"File too large",description:"Please upload a file smaller than 10MB",variant:"destructive"});return}try{i(!0);const m=u.name.split(".").pop(),p=`${`${Date.now()}.${m}`}`,{error:y}=await A.storage.from("blog-attachments").upload(p,u);if(y)throw y;const{data:b}=A.storage.from("blog-attachments").getPublicUrl(p),v={id:Date.now().toString(),file_url:b.publicUrl,file_type:d?"image":"video",file_name:u.name,file_size:u.size};t([...e,v]),n({title:"File uploaded",description:"Your file has been uploaded successfully"})}catch(m){console.error("Error uploading file:",m),n({title:"Upload failed",description:"Failed to upload file. Please try again.",variant:"destructive"})}finally{i(!1)}},l=c=>{t(e.filter(u=>u.id!==c))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"attachment-upload",children:"Upload Images or Videos"}),s.jsx(re,{id:"attachment-upload",type:"file",accept:"image/*,video/*",onChange:o,disabled:r||a,className:"mt-1"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 10MB. Supported formats: JPG, PNG, GIF, MP4, WebM"})]}),e.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Uploaded Files"}),s.jsx("div",{className:"space-y-2",children:e.map(c=>s.jsxs("div",{className:"flex items-center gap-3 p-2 border rounded-lg",children:[c.file_type==="image"?s.jsx(TS,{className:"h-4 w-4 text-blue-500"}):s.jsx(Jm,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"flex-1 text-sm truncate",children:c.file_name}),s.jsxs("span",{className:"text-xs text-gray-500",children:[(c.file_size/1024/1024).toFixed(1),"MB"]}),s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>l(c.id),disabled:r,children:s.jsx(Kn,{className:"h-4 w-4"})})]},c.id))})]}),a&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(Qm,{className:"h-4 w-4 animate-spin"}),"Uploading..."]})]})},Ide=()=>{const{user:e}=ye(),{toast:t}=xe(),[r,n]=x.useState(!1),[a,i]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState(""),[d,h]=x.useState([]),[f,m]=x.useState(""),[g,p]=x.useState([]),y=()=>{f.trim()&&!d.includes(f.trim())&&(h([...d,f.trim()]),m(""))},b=w=>{h(d.filter(j=>j!==w))},v=async()=>{var w,j;if(!e){t({title:"Authentication required",description:"Please log in to create blog posts",variant:"destructive"});return}if(!a.trim()||!c.trim()){t({title:"Missing information",description:"Please provide both title and content",variant:"destructive"});return}try{n(!0);const{data:N,error:S}=await A.from("blogs").insert({title:a.trim(),content:c.trim(),excerpt:o.trim()||null,tags:d.length>0?d:null,user_id:e.id,status:"pending",featured_image:((w=g.find(_=>_.file_type==="image"))==null?void 0:w.file_url)||null,video_url:((j=g.find(_=>_.file_type==="video"))==null?void 0:j.file_url)||null}).select().single();if(S)throw S;if(g.length>0&&N){const _=g.map(C=>({blog_id:N.id,file_url:C.file_url,file_type:C.file_type,file_size:C.file_size,file_name:C.file_name})),{error:k}=await A.from("blog_attachments").insert(_);k&&console.error("Error creating attachment records:",k)}t({title:"Blog submitted",description:"Your blog post has been submitted for admin review"}),i(""),l(""),u(""),h([]),m(""),p([])}catch(N){console.error("Error creating blog:",N),t({title:"Error",description:"Failed to submit blog post",variant:"destructive"})}finally{n(!1)}};return s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Create Blog Post"})}),s.jsxs(L,{className:"space-y-6",children:[s.jsxs(Ht,{children:[s.jsx(An,{className:"h-4 w-4"}),s.jsx(Kt,{children:"All blog posts require admin verification before being published to the community."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),s.jsx(re,{value:a,onChange:w=>i(w.target.value),placeholder:"Enter your blog post title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Excerpt (Optional)"}),s.jsx(ct,{value:o,onChange:w=>l(w.target.value),placeholder:"Brief description of your blog post",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Content"}),s.jsx(ct,{value:c,onChange:w=>u(w.target.value),placeholder:"Write your blog post content here...",rows:12})]}),s.jsx(a9,{attachments:g,onAttachmentsChange:p,disabled:r}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tags"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(re,{value:f,onChange:w=>m(w.target.value),placeholder:"Add a tag",onKeyPress:w=>w.key==="Enter"&&(w.preventDefault(),y())}),s.jsx(M,{onClick:y,variant:"outline",size:"sm",children:s.jsx(Bt,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(w=>s.jsxs(H,{variant:"secondary",className:"cursor-pointer",onClick:()=>b(w),children:[w," "]},w))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(M,{onClick:v,disabled:r,children:[s.jsx(Od,{className:"w-4 h-4 mr-2"}),r?"Submitting...":"Submit for Review"]})})]})]})},e4=({onCreateClick:e,onBackClick:t,showCreateForm:r})=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:r?"Create New Blog Post":"My Blog Posts"}),r?s.jsx(M,{variant:"outline",onClick:t,children:"Back to Blogs"}):s.jsxs(M,{onClick:e,children:[s.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Write Blog Post"]})]}),fg=({blogs:e})=>{const t=a=>a.status==="published"&&a.admin_verified?s.jsx(Ze,{className:"w-4 h-4 text-green-500"}):a.status==="rejected"?s.jsx(jr,{className:"w-4 h-4 text-red-500"}):s.jsx(vt,{className:"w-4 h-4 text-yellow-500"}),r=a=>a.status==="published"&&a.admin_verified?"Published":a.status==="rejected"?"Rejected":"Pending Review",n=a=>a.status==="published"&&a.admin_verified?"default":a.status==="rejected"?"destructive":"secondary";return s.jsx("div",{className:"grid gap-4",children:e.map(a=>s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[a.title,t(a)]}),s.jsx(H,{variant:n(a),children:r(a)})]})}),s.jsxs(L,{className:"space-y-4",children:[a.excerpt&&s.jsx("p",{className:"text-gray-600 font-medium",children:a.excerpt}),s.jsx("p",{className:"text-gray-600 line-clamp-2",children:a.content.length>150?`${a.content.substring(0,150)}...`:a.content}),a.tags&&a.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map(i=>s.jsx(H,{variant:"outline",className:"text-xs",children:i},i))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"w-4 h-4"}),a.view_count||0]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ay,{className:"w-4 h-4"}),a.likes_count]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vo,{className:"w-4 h-4"}),a.comments_count]})]}),s.jsx("div",{className:"text-sm text-gray-500",children:a.published_at?`Published: ${new Date(a.published_at).toLocaleDateString()}`:`Created: ${new Date(a.created_at).toLocaleDateString()}`})]})]})]},a.id))})},Lde=({blogs:e})=>{const t=e.filter(a=>a.status==="pending"||!a.admin_verified),r=e.filter(a=>a.status==="published"&&a.admin_verified),n=e.filter(a=>a.status==="rejected");return s.jsxs(Mr,{defaultValue:"all",className:"space-y-4",children:[s.jsx("div",{className:"block sm:hidden",children:s.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:s.jsxs(Yt,{className:"inline-flex h-10 items-center justify-start rounded-md bg-muted p-1 min-w-max",children:[s.jsxs(te,{value:"all",className:"px-3 py-2 text-sm whitespace-nowrap",children:["All (",e.length,")"]}),s.jsxs(te,{value:"pending",className:"px-3 py-2 text-sm whitespace-nowrap",children:["Pending (",t.length,")"]}),s.jsxs(te,{value:"published",className:"px-3 py-2 text-sm whitespace-nowrap",children:["Published (",r.length,")"]}),n.length>0&&s.jsxs(te,{value:"rejected",className:"px-3 py-2 text-sm whitespace-nowrap",children:["Rejected (",n.length,")"]})]})})}),s.jsx("div",{className:"hidden sm:block",children:s.jsxs(Yt,{className:"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",children:[s.jsxs(te,{value:"all",children:["All (",e.length,")"]}),s.jsxs(te,{value:"pending",children:["Pending (",t.length,")"]}),s.jsxs(te,{value:"published",children:["Published (",r.length,")"]}),n.length>0&&s.jsxs(te,{value:"rejected",children:["Rejected (",n.length,")"]})]})}),s.jsx(de,{value:"all",children:s.jsx(fg,{blogs:e})}),s.jsx(de,{value:"pending",children:t.length===0?s.jsx(R,{children:s.jsx(L,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No pending blog posts."})})}):s.jsx(fg,{blogs:t})}),s.jsx(de,{value:"published",children:r.length===0?s.jsx(R,{children:s.jsx(L,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No published blog posts yet."})})}):s.jsx(fg,{blogs:r})}),n.length>0&&s.jsx(de,{value:"rejected",children:s.jsx(fg,{blogs:n})})]})},Fde=()=>{const{user:e}=ye(),{toast:t}=xe(),[r,n]=x.useState([]),[a,i]=x.useState(!0),o=async()=>{if(e)try{const{data:l,error:c}=await A.from("blogs").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(c)throw c;const u=await Promise.all((l||[]).map(async d=>{const{count:h}=await A.from("blog_likes").select("*",{count:"exact",head:!0}).eq("blog_id",d.id),{count:f}=await A.from("blog_comments").select("*",{count:"exact",head:!0}).eq("blog_id",d.id);return{...d,likes_count:h||0,comments_count:f||0}}));n(u)}catch(l){console.error("Error fetching user blogs:",l),t({title:"Error",description:"Failed to load your blogs",variant:"destructive"})}finally{i(!1)}};return x.useEffect(()=>{e&&o()},[e]),{blogs:r,loading:a,refetchBlogs:o}},Bde=()=>{const{blogs:e,loading:t,refetchBlogs:r}=Fde(),[n,a]=x.useState(!1);return t?s.jsx("div",{className:"text-center py-8",children:"Loading your blogs..."}):n?s.jsxs("div",{className:"space-y-4",children:[s.jsx(e4,{showCreateForm:!0,onCreateClick:()=>a(!0),onBackClick:()=>a(!1)}),s.jsx(Ide,{})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(e4,{showCreateForm:!1,onCreateClick:()=>a(!0),onBackClick:()=>a(!1)}),e.length===0?s.jsx(R,{children:s.jsxs(L,{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-600",children:"You haven't written any blog posts yet."}),s.jsx(M,{className:"mt-4",onClick:()=>a(!0),children:"Write Your First Post"})]})}):s.jsx(Lde,{blogs:e})]})},Ude=()=>{const{toast:e}=xe(),[t,r]=x.useState([]),[n,a]=x.useState(!0);x.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:l,error:c}=await A.from("career_opportunities").select("*").eq("status","active").or("expires_at.is.null,expires_at.gte."+new Date().toISOString()).order("created_at",{ascending:!1});if(c)throw c;r(l||[])}catch(l){console.error("Error fetching career opportunities:",l),e({title:"Error",description:"Failed to load career opportunities",variant:"destructive"})}finally{a(!1)}},o=l=>{l.application_url?window.open(l.application_url,"_blank"):l.application_email&&(window.location.href=`mailto:${l.application_email}?subject=Application for ${l.title}`)};return n?s.jsx("div",{className:"text-center py-8",children:"Loading career opportunities..."}):s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Career Opportunities"})}),s.jsx(L,{children:s.jsxs("div",{className:"grid gap-4",children:[t.map(l=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-medium text-kic-gray",children:l.title}),s.jsx(H,{variant:"secondary",children:l.type}),l.remote&&s.jsx(H,{variant:"outline",children:"Remote"})]}),s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx(Bx,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-kic-gray",children:l.company_name})]}),s.jsx("p",{className:"text-sm text-kic-gray/70 mb-3",children:l.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-kic-gray/70 mb-3",children:[l.location&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mo,{className:"h-4 w-4"}),l.location]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ae,{className:"h-4 w-4"}),"Posted ",new Date(l.created_at).toLocaleDateString()]})]}),l.salary_range&&s.jsx("div",{className:"text-sm font-medium text-kic-green-600 mb-3",children:l.salary_range}),l.expires_at&&s.jsxs("div",{className:"text-sm text-orange-600 mb-3",children:["Expires: ",new Date(l.expires_at).toLocaleDateString()]})]}),s.jsx("div",{className:"ml-4",children:(l.application_url||l.application_email)&&s.jsxs(M,{className:"bg-kic-green-500 hover:bg-kic-green-600 flex items-center gap-2",onClick:()=>o(l),children:[s.jsx(Oo,{className:"h-4 w-4"}),"Apply"]})})]})},l.id)),t.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Bx,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-kic-gray/70",children:"No career opportunities available at the moment."})]})]})})]})},zde=({memberData:e,notifications:t,upcomingEvents:r,projects:n,certificates:a,payments:i,onDataUpdate:o})=>s.jsxs(s.Fragment,{children:[s.jsx(de,{value:"overview",children:s.jsx(yce,{})}),s.jsx(de,{value:"profile",children:s.jsx(Ice,{memberData:e,onDataUpdate:o})}),s.jsx(de,{value:"events",children:s.jsx(Lce,{})}),s.jsx(de,{value:"projects",children:s.jsx(Wce,{projects:n,onSuccess:o})}),s.jsx(de,{value:"certificates",children:s.jsx(Zce,{certificates:a})}),s.jsx(de,{value:"payments",children:s.jsx(eF,{payments:i})}),s.jsx(de,{value:"submissions",children:s.jsx(cde,{})}),s.jsx(de,{value:"constitution",children:s.jsx(gde,{})}),s.jsx(de,{value:"communities",children:s.jsx(jde,{})}),s.jsx(de,{value:"elections",children:s.jsx($de,{})}),s.jsx(de,{value:"blogging",children:s.jsx(Bde,{})}),s.jsx(de,{value:"careers",children:s.jsx(Ude,{})})]}),Vde=({memberData:e,notifications:t,upcomingEvents:r,projects:n,certificates:a,payments:i,onDataUpdate:o})=>s.jsxs(Mr,{defaultValue:"overview",className:"w-full",children:[s.jsx(xce,{}),s.jsx(zde,{memberData:e,notifications:t,upcomingEvents:r,projects:n,certificates:a,payments:i,onDataUpdate:o})]}),i9=({children:e,className:t=""})=>s.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeOut"},className:t,children:e}),qde=()=>{const{user:e}=ye(),[t,r]=x.useState([]),[n,a]=x.useState(!0),i=async()=>{if(!e){a(!1);return}try{const{data:c,error:u}=await A.from("payment_reminders").select("*").eq("user_id",e.id).eq("is_dismissed",!1);if(u)throw u;const d=(c||[]).map(h=>({...h,reminder_type:h.reminder_type}));r(d)}catch(c){console.error("Error fetching payment reminders:",c)}finally{a(!1)}},o=async c=>{if(e)try{const{error:u}=await A.rpc("increment_payment_reminder",{reminder_user_id:e.id,reminder_type_param:c});if(u)throw u;await i()}catch(u){console.error("Error incrementing reminder:",u)}},l=async c=>{try{const{error:u}=await A.from("payment_reminders").update({is_dismissed:!0,updated_at:new Date().toISOString()}).eq("id",c);if(u)throw u;await i()}catch(u){console.error("Error dismissing reminder:",u)}};return x.useEffect(()=>{i()},[e]),{reminders:t,loading:n,incrementReminder:o,dismissReminder:l,refreshReminders:i}},Wde=()=>{const{reminders:e,incrementReminder:t,dismissReminder:r,loading:n}=qde(),[a,i]=x.useState(!1),[o,l]=x.useState("registration"),{toast:c}=xe();if(n||e.length===0)return null;const u=m=>{l(m),i(!0),t(m)},d=async(m,g)=>{await r(m),c({title:"Reminder dismissed",description:`${g==="registration"?"Registration":"Subscription"} reminder has been dismissed.`})},h=()=>{i(!1),c({title:"Payment Successful!",description:"Your payment has been processed successfully"})},f=m=>"membership";return a?s.jsxs("div",{className:"space-y-4",children:[s.jsx(M,{variant:"outline",onClick:()=>i(!1),className:"mb-4",children:" Back to Dashboard"}),s.jsx(wk,{amount:100,paymentType:f(),onSuccess:h,onError:m=>c({title:"Payment Error",description:m,variant:"destructive"})})]}):s.jsx("div",{className:"space-y-4",children:e.map(m=>s.jsxs(Ht,{className:"border-orange-200 bg-orange-50",children:[s.jsx(cc,{className:"h-4 w-4 text-orange-600"}),s.jsx("div",{className:"flex-1",children:s.jsx(Kt,{className:"text-orange-800",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium mb-2",children:m.reminder_type==="registration"?"Registration Payment Required":"Subscription Payment Due"}),s.jsx("p",{className:"text-sm mb-3",children:m.reminder_type==="registration"?`Complete your KIC registration by paying KSh 100. This is reminder #${m.reminder_count}.`:"Pay your semester subscription of KSh 100 to access premium features."}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-600 mb-3",children:[s.jsx(vt,{className:"h-3 w-3"}),s.jsxs("span",{children:["Last reminded: ",new Date(m.last_reminded_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M,{size:"sm",onClick:()=>u(m.reminder_type),className:"bg-kic-green-500 hover:bg-kic-green-600",children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Pay Now - KSh 100"]}),m.reminder_type==="subscription"&&s.jsxs(M,{size:"sm",variant:"outline",onClick:()=>d(m.id,m.reminder_type),className:"border-orange-300 text-orange-700 hover:bg-orange-100",children:[s.jsx(Kn,{className:"w-4 h-4 mr-2"}),"Dismiss"]})]})]})})})})]},m.id))})},Hde=()=>{const{user:e}=ye(),[t,r]=x.useState([]),[n,a]=x.useState([]),[i,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),h=async()=>{if(e)try{const{data:f}=await A.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);r(f||[]);const{data:m}=await A.from("project_submissions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});a(m||[]);const{data:g}=await A.from("certificates").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});o(g||[]);const{data:p}=await A.from("events").select("*").gte("date",new Date().toISOString()).order("date",{ascending:!0}).limit(5);c(p||[]);const{data:y}=await A.from("mpesa_payments").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});d(y||[]);const b=A.channel("payment-updates").on("postgres_changes",{event:"*",schema:"public",table:"mpesa_payments",filter:`user_id=eq.${e.id}`},v=>{console.log("Payment update received:",v),h()}).subscribe();return()=>{A.removeChannel(b)}}catch(f){console.error("Error fetching user data:",f)}};return x.useEffect(()=>{e&&h()},[e]),{notifications:t,projects:n,certificates:i,upcomingEvents:l,payments:u,refetchUserData:h}},Kde=()=>{ye();const{memberData:e,refetchMemberData:t}=A8(),{stats:r,refetchUserStats:n}=E8(),{notifications:a,projects:i,certificates:o,upcomingEvents:l,payments:c,refetchUserData:u}=Hde(),d=()=>{t(),n(),u()};return s.jsx(i9,{children:s.jsxs("div",{className:"container mx-auto p-4 sm:p-6",children:[(e==null?void 0:e.registration_status)==="approved"&&s.jsx("div",{className:"mb-6",children:s.jsx(Wde,{})}),e&&s.jsx(Zle,{user:e,memberData:e}),s.jsx(l8,{notifications:a,projects:i,certificates:o,upcomingEvents:l}),s.jsx(Vde,{memberData:e,notifications:a,upcomingEvents:l,projects:i,certificates:o,payments:c,onDataUpdate:d})]})})},Gde=({roleDisplayName:e,isSuperAdmin:t})=>{const{user:r}=ye();return s.jsxs(s.Fragment,{children:[s.jsx(R,{className:"border-l-4 border-l-blue-500",children:s.jsx(Z,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Jr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx(ee,{className:"text-xl sm:text-2xl",children:"Admin Dashboard"}),s.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Welcome, ",e]})]})]}),s.jsxs("div",{className:"text-left sm:text-right",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Logged in as"}),s.jsx("p",{className:"text-sm sm:text-base font-medium truncate max-w-[200px]",children:r==null?void 0:r.email})]})]})})}),t&&s.jsx(R,{children:s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ux,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"font-medium text-yellow-800",children:"Super Admin Mode"})]}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Full system access - manage all users, roles, and perform administrative actions."})]})})]})},Yde=({canManageUsers:e})=>s.jsx("div",{className:"bg-gradient-to-r from-kic-green-50 to-kic-green-100 p-2 sm:p-4 border-b border-kic-green-200 rounded-t-lg",children:s.jsxs(Yt,{className:`grid w-full ${e?"grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-15":"grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-7 xl:grid-cols-13"} bg-white/80 backdrop-blur-sm border border-kic-green-200 p-1 gap-0.5 sm:gap-1 h-auto`,children:[e&&s.jsxs(s.Fragment,{children:[s.jsxs(te,{value:"user-management",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-red-500 data-[state=active]:to-orange-500 data-[state=active]:text-white",children:[s.jsx(Pee,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Users"})]}),s.jsxs(te,{value:"role-management",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white",children:[s.jsx(Jr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Roles"})]})]}),s.jsxs(te,{value:"members",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-500 data-[state=active]:text-white",children:[s.jsx(Oe,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Members"})]}),s.jsxs(te,{value:"community-admins",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-violet-500 data-[state=active]:to-purple-600 data-[state=active]:text-white",children:[s.jsx(Wl,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Community"})]}),s.jsxs(te,{value:"projects",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-cyan-500 data-[state=active]:text-white",children:[s.jsx(To,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Projects"})]}),s.jsxs(te,{value:"events",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white",children:[s.jsx(Ae,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Events"})]}),s.jsxs(te,{value:"payments",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[s.jsx(aa,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Payments"})]}),s.jsxs(te,{value:"admin-requests",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-rose-500 data-[state=active]:to-pink-500 data-[state=active]:text-white",children:[s.jsx(Hl,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Requests"})]}),s.jsxs(te,{value:"certificates",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-amber-500 data-[state=active]:to-yellow-500 data-[state=active]:text-white",children:[s.jsx(lr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Certificates"})]}),s.jsxs(te,{value:"leaderboard",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-yellow-500 data-[state=active]:to-orange-500 data-[state=active]:text-white",children:[s.jsx(Wt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Leaderboard"})]}),s.jsxs(te,{value:"notifications",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-red-500 data-[state=active]:to-rose-500 data-[state=active]:text-white",children:[s.jsx(Pn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Notifications"})]}),s.jsxs(te,{value:"mpesa-config",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-600 data-[state=active]:to-emerald-600 data-[state=active]:text-white",children:[s.jsx(gi,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"M-Pesa"})]}),s.jsxs(te,{value:"blogs",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-slate-500 data-[state=active]:to-gray-600 data-[state=active]:text-white",children:[s.jsx(ya,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Blogs"})]}),s.jsxs(te,{value:"careers",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-teal-500 data-[state=active]:to-cyan-600 data-[state=active]:text-white",children:[s.jsx(Ul,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Careers"})]}),s.jsxs(te,{value:"constitution",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-600 data-[state=active]:to-blue-700 data-[state=active]:text-white",children:[s.jsx(Yg,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Constitution"})]}),s.jsxs(te,{value:"elections",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-indigo-700 data-[state=active]:text-white",children:[s.jsx(Ds,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Elections"})]}),s.jsxs(te,{value:"submissions",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-500 data-[state=active]:text-white",children:[s.jsx(Fr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Submissions"})]}),s.jsxs(te,{value:"analytics",className:"flex flex-col sm:flex-row items-center gap-1 p-2 sm:p-3 text-xs sm:text-sm transition-all duration-300 hover:scale-105 data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500 data-[state=active]:to-blue-500 data-[state=active]:text-white",children:[s.jsx(uu,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Analytics"})]})]})}),fr=({children:e,requiredRole:t,fallback:r,requirePermission:n})=>{const{user:a}=ye(),[i,o]=x.useState(null),[l,c]=x.useState(!0);return x.useEffect(()=>{(async()=>{if(!a){o(!1),c(!1);return}try{if(n){const{data:d,error:h}=await A.rpc("has_permission",{_user_id:a.id,_permission_key:n});h?(console.error("Error checking permission:",h),o(!1)):o(d)}else if(t){const{data:d,error:h}=await A.rpc("has_role_or_higher",{_user_id:a.id,_required_role:t});h?(console.error("Error checking role:",h),o(!1)):o(d)}else o(!1)}catch(d){console.error("Access check failed:",d),o(!1)}finally{c(!1)}})()},[a,t,n]),l?s.jsx("div",{className:"text-center py-8",children:"Verifying permissions..."}):i?s.jsx(s.Fragment,{children:e}):r?s.jsx(s.Fragment,{children:r}):s.jsxs(Ht,{variant:"destructive",className:"max-w-md mx-auto mt-8",children:[s.jsx(Jr,{className:"h-4 w-4"}),s.jsx(Kt,{children:"You don't have permission to access this area. Contact an administrator if you believe this is an error."})]})};var o9="AlertDialog",[Xde,N8e]=gs(o9,[O8]),xi=O8(),l9=e=>{const{__scopeAlertDialog:t,...r}=e,n=xi(t);return s.jsx(gk,{...n,...r,modal:!0})};l9.displayName=o9;var Qde="AlertDialogTrigger",c9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xi(r);return s.jsx(G8,{...a,...n,ref:t})});c9.displayName=Qde;var Jde="AlertDialogPortal",u9=e=>{const{__scopeAlertDialog:t,...r}=e,n=xi(t);return s.jsx(xk,{...n,...r})};u9.displayName=Jde;var Zde="AlertDialogOverlay",d9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xi(r);return s.jsx(t0,{...a,...n,ref:t})});d9.displayName=Zde;var mu="AlertDialogContent",[ehe,the]=Xde(mu),h9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=xi(r),o=x.useRef(null),l=Ke(t,o),c=x.useRef(null);return s.jsx(Sce,{contentName:mu,titleName:f9,docsSlug:"alert-dialog",children:s.jsx(ehe,{scope:r,cancelRef:c,children:s.jsxs(r0,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:he(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(sI,{children:n}),s.jsx(nhe,{contentRef:o})]})})})});h9.displayName=mu;var f9="AlertDialogTitle",m9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xi(r);return s.jsx(vk,{...a,...n,ref:t})});m9.displayName=f9;var p9="AlertDialogDescription",g9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xi(r);return s.jsx(yk,{...a,...n,ref:t})});g9.displayName=p9;var rhe="AlertDialogAction",x9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xi(r);return s.jsx(bk,{...a,...n,ref:t})});x9.displayName=rhe;var v9="AlertDialogCancel",y9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=the(v9,r),i=xi(r),o=Ke(t,a);return s.jsx(bk,{...i,...n,ref:o})});y9.displayName=v9;var nhe=({contentRef:e})=>{const t=`\`${mu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${mu}\` by passing a \`${p9}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${mu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},she=l9,ahe=c9,ihe=u9,b9=d9,w9=h9,j9=x9,N9=y9,_9=m9,S9=g9;const c0=she,k9=ahe,ohe=ihe,C9=x.forwardRef(({className:e,...t},r)=>s.jsx(b9,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));C9.displayName=b9.displayName;const up=x.forwardRef(({className:e,...t},r)=>s.jsxs(ohe,{children:[s.jsx(C9,{}),s.jsx(w9,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));up.displayName=w9.displayName;const dp=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});dp.displayName="AlertDialogHeader";const hp=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});hp.displayName="AlertDialogFooter";const fp=x.forwardRef(({className:e,...t},r)=>s.jsx(_9,{ref:r,className:ne("text-lg font-semibold",e),...t}));fp.displayName=_9.displayName;const mp=x.forwardRef(({className:e,...t},r)=>s.jsx(S9,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));mp.displayName=S9.displayName;const pp=x.forwardRef(({className:e,...t},r)=>s.jsx(j9,{ref:r,className:ne(MS(),e),...t}));pp.displayName=j9.displayName;const gp=x.forwardRef(({className:e,...t},r)=>s.jsx(N9,{ref:r,className:ne(MS({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));gp.displayName=N9.displayName;const lhe={member:"Member",super_admin:"Super Admin",general_admin:"General Admin",community_admin:"Community Admin",events_admin:"Events Admin",projects_admin:"Projects Admin",finance_admin:"Finance Admin",content_admin:"Content Admin",technical_admin:"Technical Admin",marketing_admin:"Marketing Admin",chairman:"Chairman",vice_chairman:"Vice Chairman"},che=({selectedRole:e,onRoleChange:t})=>s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(wa,{className:"w-5 h-5"}),"Quick Role Assignment"]})}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Select Role"}),s.jsxs(Ie,{value:e,onValueChange:r=>t(r),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsx(Re,{children:Object.entries(lhe).filter(([r])=>r!=="member").map(([r,n])=>s.jsx(G,{value:r,children:n},r))})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(W,{children:"Grant Role to Users"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Select a role above, then click "Grant" on any user below to assign it instantly.'})]})]})})]}),uhe=({searchEmail:e,onSearchChange:t})=>s.jsx("div",{className:"flex gap-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsx(W,{htmlFor:"search",children:"Search Users"}),s.jsxs("div",{className:"relative",children:[s.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(re,{id:"search",placeholder:"Search by email or name...",value:e,onChange:r=>t(r.target.value),className:"pl-9"})]})]})}),kw={member:"Member",super_admin:"Super Admin",general_admin:"General Admin",community_admin:"Community Admin",events_admin:"Events Admin",projects_admin:"Projects Admin",finance_admin:"Finance Admin",content_admin:"Content Admin",technical_admin:"Technical Admin",marketing_admin:"Marketing Admin",chairman:"Chairman",vice_chairman:"Vice Chairman"},dhe={member:"default",super_admin:"destructive",general_admin:"secondary",community_admin:"outline",events_admin:"outline",projects_admin:"outline",finance_admin:"outline",content_admin:"outline",technical_admin:"outline",marketing_admin:"outline",chairman:"destructive",vice_chairman:"secondary"},hhe=({user:e,canManageUsers:t,selectedRole:r,onGrantRole:n,onRemoveRole:a,onEditUser:i,onDeleteUser:o,loading:l})=>s.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-medium text-lg",children:e.name}),s.jsx(H,{variant:e.registration_status==="approved"?"default":"secondary",children:e.registration_status})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.email}),e.phone&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Phone: ",e.phone]}),e.course&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Course: ",e.course]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Joined: ",new Date(e.created_at).toLocaleDateString()]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:e.roles&&e.roles.length>0?e.roles.map(c=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(H,{variant:dhe[c],children:kw[c]}),t&&c!=="member"&&s.jsxs(c0,{children:[s.jsx(k9,{asChild:!0,children:s.jsx(M,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-red-500 hover:text-red-700",children:s.jsx(Kl,{className:"h-3 w-3"})})}),s.jsxs(up,{children:[s.jsxs(dp,{children:[s.jsx(fp,{children:"Remove Role"}),s.jsxs(mp,{children:["Are you sure you want to remove the ",kw[c]," role from ",e.name,"?"]})]}),s.jsxs(hp,{children:[s.jsx(gp,{children:"Cancel"}),s.jsx(pp,{onClick:()=>a(e.id,c),className:"bg-red-600 hover:bg-red-700",children:"Remove Role"})]})]})]})]},c)):s.jsx(H,{variant:"outline",children:"Member"})})]}),t&&s.jsx("div",{className:"flex gap-2 ml-4",children:s.jsxs(M,{size:"sm",onClick:()=>n(e.email,r),disabled:l,children:["Grant ",kw[r]]})})]})});var cN=["Enter"," "],fhe=["ArrowDown","PageUp","Home"],P9=["ArrowUp","PageDown","End"],mhe=[...fhe,...P9],phe={ltr:[...cN,"ArrowRight"],rtl:[...cN,"ArrowLeft"]},ghe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},xp="Menu",[Xf,xhe,vhe]=Jy(xp),[fc,A9]=gs(xp,[vhe,Fd,e0]),u0=Fd(),E9=e0(),[yhe,mc]=fc(xp),[bhe,vp]=fc(xp),T9=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=u0(t),[c,u]=x.useState(null),d=x.useRef(!1),h=Lt(i),f=rp(a);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(ak,{...l,children:s.jsx(yhe,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:s.jsx(bhe,{scope:t,onClose:x.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:n})})})};T9.displayName=xp;var whe="MenuAnchor",Ak=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=u0(r);return s.jsx(Yy,{...a,...n,ref:t})});Ak.displayName=whe;var Ek="MenuPortal",[jhe,O9]=fc(Ek,{forceMount:void 0}),M9=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=mc(Ek,t);return s.jsx(jhe,{scope:t,forceMount:r,children:s.jsx(Ur,{present:r||i.open,children:s.jsx(Bd,{asChild:!0,container:a,children:n})})})};M9.displayName=Ek;var us="MenuContent",[Nhe,Tk]=fc(us),R9=x.forwardRef((e,t)=>{const r=O9(us,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=mc(us,e.__scopeMenu),o=vp(us,e.__scopeMenu);return s.jsx(Xf.Provider,{scope:e.__scopeMenu,children:s.jsx(Ur,{present:n||i.open,children:s.jsx(Xf.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(_he,{...a,ref:t}):s.jsx(She,{...a,ref:t})})})})}),_he=x.forwardRef((e,t)=>{const r=mc(us,e.__scopeMenu),n=x.useRef(null),a=Ke(t,n);return x.useEffect(()=>{const i=n.current;if(i)return Xy(i)},[]),s.jsx(Ok,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:he(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),She=x.forwardRef((e,t)=>{const r=mc(us,e.__scopeMenu);return s.jsx(Ok,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Ok=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:g,...p}=e,y=mc(us,r),b=vp(us,r),v=u0(r),w=E9(r),j=xhe(r),[N,S]=x.useState(null),_=x.useRef(null),k=Ke(t,_,y.onContentChange),C=x.useRef(0),P=x.useRef(""),E=x.useRef(0),T=x.useRef(null),F=x.useRef("right"),D=x.useRef(0),$=g?ap:x.Fragment,U=g?{as:ii,allowPinchZoom:!0}:void 0,q=V=>{var pe,Ue;const Y=P.current+V,se=j().filter(oe=>!oe.disabled),ie=document.activeElement,je=(pe=se.find(oe=>oe.ref.current===ie))==null?void 0:pe.textValue,Ee=se.map(oe=>oe.textValue),at=Ihe(Ee,Y,je),et=(Ue=se.find(oe=>oe.textValue===at))==null?void 0:Ue.ref.current;(function oe(ge){P.current=ge,window.clearTimeout(C.current),ge!==""&&(C.current=window.setTimeout(()=>oe(""),1e3))})(Y),et&&setTimeout(()=>et.focus())};x.useEffect(()=>()=>window.clearTimeout(C.current),[]),Wy();const I=x.useCallback(V=>{var se,ie;return F.current===((se=T.current)==null?void 0:se.side)&&Fhe(V,(ie=T.current)==null?void 0:ie.area)},[]);return s.jsx(Nhe,{scope:r,searchRef:P,onItemEnter:x.useCallback(V=>{I(V)&&V.preventDefault()},[I]),onItemLeave:x.useCallback(V=>{var Y;I(V)||((Y=_.current)==null||Y.focus(),S(null))},[I]),onTriggerLeave:x.useCallback(V=>{I(V)&&V.preventDefault()},[I]),pointerGraceTimerRef:E,onPointerGraceIntentChange:x.useCallback(V=>{T.current=V},[]),children:s.jsx($,{...U,children:s.jsx(np,{asChild:!0,trapped:a,onMountAutoFocus:he(i,V=>{var Y;V.preventDefault(),(Y=_.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx($d,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:s.jsx(m8,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:he(c,V=>{b.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(ik,{role:"menu","aria-orientation":"vertical","data-state":X9(y.open),"data-radix-menu-content":"",dir:b.dir,...v,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:he(p.onKeyDown,V=>{const se=V.target.closest("[data-radix-menu-content]")===V.currentTarget,ie=V.ctrlKey||V.altKey||V.metaKey,je=V.key.length===1;se&&(V.key==="Tab"&&V.preventDefault(),!ie&&je&&q(V.key));const Ee=_.current;if(V.target!==Ee||!mhe.includes(V.key))return;V.preventDefault();const et=j().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);P9.includes(V.key)&&et.reverse(),Dhe(et)}),onBlur:he(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(C.current),P.current="")}),onPointerMove:he(e.onPointerMove,Qf(V=>{const Y=V.target,se=D.current!==V.clientX;if(V.currentTarget.contains(Y)&&se){const ie=V.clientX>D.current?"right":"left";F.current=ie,D.current=V.clientX}}))})})})})})})});R9.displayName=us;var khe="MenuGroup",Mk=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ke.div,{role:"group",...n,ref:t})});Mk.displayName=khe;var Che="MenuLabel",D9=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ke.div,{...n,ref:t})});D9.displayName=Che;var av="MenuItem",t4="menu.itemSelect",d0=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=x.useRef(null),o=vp(av,e.__scopeMenu),l=Tk(av,e.__scopeMenu),c=Ke(t,i),u=x.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const f=new CustomEvent(t4,{bubbles:!0,cancelable:!0});h.addEventListener(t4,m=>n==null?void 0:n(m),{once:!0}),FS(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx($9,{...a,ref:c,disabled:r,onClick:he(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:he(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:he(e.onKeyDown,h=>{const f=l.searchRef.current!=="";r||f&&h.key===" "||cN.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});d0.displayName=av;var $9=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=Tk(av,r),l=E9(r),c=x.useRef(null),u=Ke(t,c),[d,h]=x.useState(!1),[f,m]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),s.jsx(Xf.ItemSlot,{scope:r,disabled:n,textValue:a??f,children:s.jsx(p8,{asChild:!0,...l,focusable:!n,children:s.jsx(ke.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:he(e.onPointerMove,Qf(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(e.onPointerLeave,Qf(g=>o.onItemLeave(g))),onFocus:he(e.onFocus,()=>h(!0)),onBlur:he(e.onBlur,()=>h(!1))})})})}),Phe="MenuCheckboxItem",I9=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(z9,{scope:e.__scopeMenu,checked:r,children:s.jsx(d0,{role:"menuitemcheckbox","aria-checked":iv(r)?"mixed":r,...a,ref:t,"data-state":Dk(r),onSelect:he(a.onSelect,()=>n==null?void 0:n(iv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});I9.displayName=Phe;var L9="MenuRadioGroup",[Ahe,Ehe]=fc(L9,{value:void 0,onValueChange:()=>{}}),F9=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Lt(n);return s.jsx(Ahe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(Mk,{...a,ref:t})})});F9.displayName=L9;var B9="MenuRadioItem",U9=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=Ehe(B9,e.__scopeMenu),i=r===a.value;return s.jsx(z9,{scope:e.__scopeMenu,checked:i,children:s.jsx(d0,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Dk(i),onSelect:he(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});U9.displayName=B9;var Rk="MenuItemIndicator",[z9,The]=fc(Rk,{checked:!1}),V9=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=The(Rk,r);return s.jsx(Ur,{present:n||iv(i.checked)||i.checked===!0,children:s.jsx(ke.span,{...a,ref:t,"data-state":Dk(i.checked)})})});V9.displayName=Rk;var Ohe="MenuSeparator",q9=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ke.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});q9.displayName=Ohe;var Mhe="MenuArrow",W9=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=u0(r);return s.jsx(ok,{...a,...n,ref:t})});W9.displayName=Mhe;var Rhe="MenuSub",[_8e,H9]=fc(Rhe),Fh="MenuSubTrigger",K9=x.forwardRef((e,t)=>{const r=mc(Fh,e.__scopeMenu),n=vp(Fh,e.__scopeMenu),a=H9(Fh,e.__scopeMenu),i=Tk(Fh,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(Ak,{asChild:!0,...u,children:s.jsx($9,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":X9(r.open),...e,ref:Ry(t,a.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:he(e.onPointerMove,Qf(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:he(e.onPointerLeave,Qf(h=>{var m,g;d();const f=(m=r.content)==null?void 0:m.getBoundingClientRect();if(f){const p=(g=r.content)==null?void 0:g.dataset.side,y=p==="right",b=y?-5:5,v=f[y?"left":"right"],w=f[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:v,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:v,y:f.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:he(e.onKeyDown,h=>{var m;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||phe[n.dir].includes(h.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),h.preventDefault())})})})});K9.displayName=Fh;var G9="MenuSubContent",Y9=x.forwardRef((e,t)=>{const r=O9(us,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=mc(us,e.__scopeMenu),o=vp(us,e.__scopeMenu),l=H9(G9,e.__scopeMenu),c=x.useRef(null),u=Ke(t,c);return s.jsx(Xf.Provider,{scope:e.__scopeMenu,children:s.jsx(Ur,{present:n||i.open,children:s.jsx(Xf.Slot,{scope:e.__scopeMenu,children:s.jsx(Ok,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:he(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:he(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:he(e.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=ghe[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});Y9.displayName=G9;function X9(e){return e?"open":"closed"}function iv(e){return e==="indeterminate"}function Dk(e){return iv(e)?"indeterminate":e?"checked":"unchecked"}function Dhe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function $he(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Ihe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=$he(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Lhe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function Fhe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Lhe(r,t)}function Qf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Bhe=T9,Uhe=Ak,zhe=M9,Vhe=R9,qhe=Mk,Whe=D9,Hhe=d0,Khe=I9,Ghe=F9,Yhe=U9,Xhe=V9,Qhe=q9,Jhe=W9,Zhe=K9,efe=Y9,$k="DropdownMenu",[tfe,S8e]=gs($k,[A9]),mn=A9(),[rfe,Q9]=tfe($k),J9=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=mn(t),u=x.useRef(null),[d=!1,h]=ja({prop:a,defaultProp:i,onChange:o});return s.jsx(rfe,{scope:t,triggerId:Ls(),triggerRef:u,contentId:Ls(),open:d,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(f=>!f),[h]),modal:l,children:s.jsx(Bhe,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};J9.displayName=$k;var Z9="DropdownMenuTrigger",e7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=Q9(Z9,r),o=mn(r);return s.jsx(Uhe,{asChild:!0,...o,children:s.jsx(ke.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Ry(t,i.triggerRef),onPointerDown:he(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:he(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});e7.displayName=Z9;var nfe="DropdownMenuPortal",t7=e=>{const{__scopeDropdownMenu:t,...r}=e,n=mn(t);return s.jsx(zhe,{...n,...r})};t7.displayName=nfe;var r7="DropdownMenuContent",n7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Q9(r7,r),i=mn(r),o=x.useRef(!1);return s.jsx(Vhe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:he(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:he(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});n7.displayName=r7;var sfe="DropdownMenuGroup",afe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=mn(r);return s.jsx(qhe,{...a,...n,ref:t})});afe.displayName=sfe;var ife="DropdownMenuLabel",s7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=mn(r);return s.jsx(Whe,{...a,...n,ref:t})});s7.displayName=ife;var ofe="DropdownMenuItem",a7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=mn(r);return s.jsx(Hhe,{...a,...n,ref:t})});a7.displayName=ofe;var lfe="DropdownMenuCheckboxItem",i7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=mn(r);return s.jsx(Khe,{...a,...n,ref:t})});i7.displayName=lfe;var cfe="DropdownMenuRadioGroup",ufe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=mn(r);return s.jsx(Ghe,{...a,...n,ref:t})});ufe.displayName=cfe;var dfe="DropdownMenuRadioItem",o7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=mn(r);return s.jsx(Yhe,{...a,...n,ref:t})});o7.displayName=dfe;var hfe="DropdownMenuItemIndicator",l7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=mn(r);return s.jsx(Xhe,{...a,...n,ref:t})});l7.displayName=hfe;var ffe="DropdownMenuSeparator",c7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=mn(r);return s.jsx(Qhe,{...a,...n,ref:t})});c7.displayName=ffe;var mfe="DropdownMenuArrow",pfe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=mn(r);return s.jsx(Jhe,{...a,...n,ref:t})});pfe.displayName=mfe;var gfe="DropdownMenuSubTrigger",u7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=mn(r);return s.jsx(Zhe,{...a,...n,ref:t})});u7.displayName=gfe;var xfe="DropdownMenuSubContent",d7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=mn(r);return s.jsx(efe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});d7.displayName=xfe;var vfe=J9,yfe=e7,bfe=t7,h7=n7,f7=s7,m7=a7,p7=i7,g7=o7,x7=l7,v7=c7,y7=u7,b7=d7;const w7=vfe,j7=yfe,wfe=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(y7,{ref:a,className:ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(G$,{className:"ml-auto h-4 w-4"})]}));wfe.displayName=y7.displayName;const jfe=x.forwardRef(({className:e,...t},r)=>s.jsx(b7,{ref:r,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));jfe.displayName=b7.displayName;const Ik=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(bfe,{children:s.jsx(h7,{ref:n,sideOffset:t,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ik.displayName=h7.displayName;const pu=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(m7,{ref:n,className:ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));pu.displayName=m7.displayName;const Nfe=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(p7,{ref:a,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(x7,{children:s.jsx(zl,{className:"h-4 w-4"})})}),t]}));Nfe.displayName=p7.displayName;const _fe=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(g7,{ref:n,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(x7,{children:s.jsx(aee,{className:"h-2 w-2 fill-current"})})}),t]}));_fe.displayName=g7.displayName;const Sfe=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(f7,{ref:n,className:ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Sfe.displayName=f7.displayName;const kfe=x.forwardRef(({className:e,...t},r)=>s.jsx(v7,{ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));kfe.displayName=v7.displayName;const Cfe=({user:e,onEditUser:t,onDeleteUser:r})=>s.jsxs(w7,{children:[s.jsx(j7,{asChild:!0,children:s.jsx(M,{variant:"outline",size:"sm",children:s.jsx(oee,{className:"h-4 w-4"})})}),s.jsxs(Ik,{align:"end",children:[s.jsxs(pu,{onClick:()=>t(e),children:[s.jsx(yo,{className:"h-4 w-4 mr-2"}),"Edit User"]}),s.jsxs(pu,{onClick:()=>r(e),className:"text-red-600 focus:text-red-600",children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Delete User"]})]})]}),Pfe=({users:e,loading:t,canManageUsers:r,selectedRole:n,searchEmail:a,onGrantRole:i,onRemoveRole:o,onEditUser:l,onDeleteUser:c})=>{const u=e.filter(d=>d.email.toLowerCase().includes(a.toLowerCase())||d.name.toLowerCase().includes(a.toLowerCase()));return s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{children:["All Users (",u.length,")"]})}),s.jsx(L,{children:t?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),s.jsx("span",{className:"ml-2",children:"Loading users..."})]}):s.jsxs("div",{className:"space-y-4",children:[u.map(d=>s.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx(hhe,{user:d,canManageUsers:r,selectedRole:n,onGrantRole:i,onRemoveRole:o,onEditUser:l,onDeleteUser:c,loading:t}),r&&s.jsx("div",{className:"ml-4",children:s.jsx(Cfe,{user:d,onEditUser:l,onDeleteUser:c})})]})},d.id)),u.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Kl,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a?"Try adjusting your search criteria":"No users registered yet"})]})]})})]})},Afe=()=>{const{toast:e}=xe(),[t,r]=x.useState(!1),n=`${window.location.origin}/admin-register`,a=async()=>{try{await navigator.clipboard.writeText(n),r(!0),e({title:"Copied!",description:"Admin registration link copied to clipboard"}),setTimeout(()=>r(!1),2e3)}catch{e({title:"Error",description:"Failed to copy link to clipboard",variant:"destructive"})}},i=()=>{window.open(n,"_blank")};return s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jee,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ee,{children:"Admin Registration Link"}),s.jsx(ut,{children:"Share this link with potential administrators to allow them to request admin access"})]})]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"admin-register-url",children:"Registration URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{id:"admin-register-url",value:n,readOnly:!0,className:"flex-1"}),s.jsx(M,{variant:"outline",size:"icon",onClick:a,disabled:t,children:s.jsx(iee,{className:"w-4 h-4"})}),s.jsx(M,{variant:"outline",size:"icon",onClick:i,children:s.jsx(Oo,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"How it works:"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Users can register for admin access using this link"}),s.jsx("li",{children:" All requests require approval from existing administrators"}),s.jsx("li",{children:" Requests can be reviewed in the Admin Requests tab"}),s.jsx("li",{children:" Only approved users will receive admin privileges"})]})]})]})]})},Efe=()=>{const{toast:e}=xe(),[t,r]=x.useState(!1);return{deleteUserCompletely:async a=>{try{r(!0),console.log("Starting complete user deletion for:",a.name,a.id);const i=[A.from("user_roles").delete().eq("user_id",a.id),A.from("member_points").delete().eq("user_id",a.id),A.from("community_memberships").delete().eq("user_id",a.id),A.from("event_attendance").delete().eq("user_id",a.id),A.from("project_submissions").delete().eq("user_id",a.id),A.from("certificates").delete().eq("user_id",a.id),A.from("blogs").delete().eq("user_id",a.id),A.from("user_website_visits").delete().eq("user_id",a.id),A.from("community_visits").delete().eq("user_id",a.id),A.from("admin_requests").delete().eq("user_id",a.id),A.from("community_admin_roles").delete().eq("user_id",a.id),A.from("community_admins").delete().eq("user_id",a.id),A.from("project_likes").delete().eq("user_id",a.id),A.from("project_ratings").delete().eq("user_id",a.id),A.from("project_comments").delete().eq("user_id",a.id),A.from("blog_likes").delete().eq("user_id",a.id),A.from("blog_comments").delete().eq("user_id",a.id),A.from("election_candidates").delete().eq("user_id",a.id),A.from("mpesa_payments").delete().eq("user_id",a.id),A.from("payment_requests").delete().eq("user_id",a.id),A.from("meeting_link_attendance").delete().eq("user_id",a.id),A.from("community_attendance_tracking").delete().eq("user_id",a.id),A.from("user_submissions").delete().eq("user_id",a.id),A.from("submission_responses").delete().eq("admin_id",a.id),A.from("chatbot_conversations").delete().eq("user_id",a.id)];console.log("Deleting related data..."),(await Promise.allSettled(i)).forEach((d,h)=>{d.status==="rejected"&&console.warn(`Delete operation ${h} failed:`,d.reason)}),console.log("Deleting member record...");const{error:l}=await A.from("members").delete().eq("user_id",a.id);if(l)throw console.error("Error deleting member record:",l),l;console.log("Verifying deletion...");const{data:c,error:u}=await A.from("members").select("user_id").eq("user_id",a.id).maybeSingle();if(u)throw console.error("Error verifying deletion:",u),u;if(c)throw console.error("User still exists after deletion attempt"),new Error("User deletion verification failed - user still exists");return console.log("User deletion completed and verified successfully"),e({title:"Success",description:`User ${a.name} has been completely removed from the system`}),!0}catch(i){return console.error("Error in complete user deletion:",i),e({title:"Error",description:"Failed to delete user completely. Please try again.",variant:"destructive"}),!1}finally{r(!1)}},loading:t}},Tfe=()=>{const{toast:e}=xe(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(0),l=x.useRef(!1),c=x.useRef(null),u=x.useCallback(async(m=!1)=>{if(l.current&&!m){console.log("Skipping fetch - already in progress");return}const g=Date.now();if(!m&&g-i<2e3){console.log("Skipping fetch due to debounce");return}try{l.current=!0,a(!0),console.log("Fetching users with optimized query...");const{data:p,error:y}=await A.from("member_management_view").select("*").order("created_at",{ascending:!1});if(y)throw console.error("Error fetching users:",y),y;if(!p||p.length===0){console.log("No users found"),r([]),o(g);return}const b=p.filter(v=>v.user_id).map(v=>({id:v.user_id,email:v.email,name:v.name,roles:v.roles||["member"],registration_status:v.registration_status,phone:v.phone,course:v.course,created_at:v.created_at}));console.log("Successfully fetched and formatted users:",b.length),r(b),o(g)}catch(p){console.error("Error fetching users:",p),e({title:"Error",description:"Failed to fetch users",variant:"destructive"})}finally{a(!1),l.current=!1}},[e,i]),d=x.useCallback(m=>{console.log("Removing user from local state:",m),r(g=>{const p=g.filter(y=>y.id!==m);return console.log("Updated local state, new count:",p.length),p})},[]),h=x.useCallback(m=>{console.log("Adding user to local state:",m.name),r(g=>g.some(y=>y.id===m.id)?(console.log("User already exists, updating:",m.name),g.map(y=>y.id===m.id?m:y)):(console.log("Adding new user:",m.name),[...g,m]))},[]),f=x.useCallback(m=>{console.log("Updating user in local state:",m.name),r(g=>g.map(p=>p.id===m.id?m:p))},[]);return x.useEffect(()=>{u(!0),c.current&&A.removeChannel(c.current);const m=A.channel("user-management-optimized").on("postgres_changes",{event:"*",schema:"public",table:"members"},g=>{console.log("Members table changed:",g.eventType),setTimeout(()=>{l.current||u(!0)},1e3)}).on("postgres_changes",{event:"*",schema:"public",table:"user_roles"},g=>{console.log("User roles changed:",g.eventType),setTimeout(()=>{l.current||u(!0)},1e3)}).subscribe(g=>{console.log("User management subscription status:",g)});return c.current=m,()=>{console.log("Cleaning up user management subscriptions"),c.current&&(A.removeChannel(c.current),c.current=null)}},[]),{users:t,loading:n,fetchUsers:u,removeUserFromState:d,addUserToState:h,updateUserInState:f}},Cw={member:"Member",super_admin:"Super Admin",general_admin:"General Admin",community_admin:"Community Admin",events_admin:"Events Admin",projects_admin:"Projects Admin",finance_admin:"Finance Admin",content_admin:"Content Admin",technical_admin:"Technical Admin",marketing_admin:"Marketing Admin",chairman:"Chairman",vice_chairman:"Vice Chairman"},Ofe={member:"default",super_admin:"destructive",general_admin:"secondary",community_admin:"outline",events_admin:"outline",projects_admin:"outline",finance_admin:"outline",content_admin:"outline",technical_admin:"outline",marketing_admin:"outline",chairman:"destructive",vice_chairman:"secondary"},Mfe=()=>{const{toast:e}=xe(),{isSuperAdmin:t,roleInfo:r}=$o(),{users:n,loading:a,fetchUsers:i,removeUserFromState:o}=Tfe(),{deleteUserCompletely:l,loading:c}=Efe(),[u,d]=x.useState(""),[h,f]=x.useState("general_admin"),[m,g]=x.useState(null),[p,y]=x.useState(null),b=async(N,S)=>{try{const _=n.find(C=>C.email===N);if(!_){e({title:"Error",description:"User not found",variant:"destructive"});return}const{error:k}=await A.from("user_roles").upsert({user_id:_.id,role:S});if(k)throw k;if(_.registration_status!=="approved"){const{error:C}=await A.from("members").update({registration_status:"approved",updated_at:new Date().toISOString()}).eq("user_id",_.id);if(C)throw C}e({title:"Success",description:`${Cw[S]} role granted to ${N}`}),await i(!0)}catch(_){console.error("Error granting role:",_),e({title:"Error",description:"Failed to grant role",variant:"destructive"})}},v=async(N,S)=>{try{const{error:_}=await A.from("user_roles").delete().eq("user_id",N).eq("role",S);if(_)throw _;e({title:"Success",description:`${Cw[S]} role removed successfully`}),await i(!0)}catch(_){console.error("Error removing role:",_),e({title:"Error",description:"Failed to remove role",variant:"destructive"})}},w=async N=>{await l(N)&&(o(N.id),g(null),setTimeout(()=>{i(!0)},1e3))},j=t||(r==null?void 0:r.assignedRole)==="chairman";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-5 h-5"}),"Enhanced User Management",t&&s.jsx(Ux,{className:"w-4 h-4 text-yellow-500"})]})}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-4",children:[t&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ux,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"font-medium text-yellow-800",children:"Super Admin Mode"})]}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Full system access - manage all users, roles, and perform administrative actions."})]}),s.jsx(uhe,{searchEmail:u,onSearchChange:d})]})})]}),t&&s.jsx(Afe,{}),j&&s.jsx(che,{selectedRole:h,onRoleChange:f}),s.jsx(Pfe,{users:n,loading:a||c,canManageUsers:j,selectedRole:h,searchEmail:u,onGrantRole:b,onRemoveRole:v,onEditUser:y,onDeleteUser:g}),s.jsx(c0,{open:!!m,onOpenChange:N=>!N&&g(null),children:s.jsxs(up,{children:[s.jsxs(dp,{children:[s.jsx(fp,{children:"Delete User"}),s.jsxs(mp,{children:["Are you sure you want to permanently delete ",s.jsx("strong",{children:m==null?void 0:m.name}),"? This action cannot be undone and will remove all user data including:",s.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[s.jsx("div",{children:" All assigned roles"}),s.jsx("div",{children:" Member registration data"}),s.jsx("div",{children:" User profile information"}),s.jsx("div",{children:" All activity history and points"})]})]})]}),s.jsxs(hp,{children:[s.jsx(gp,{disabled:c,children:"Cancel"}),s.jsx(pp,{onClick:()=>m&&w(m),className:"bg-red-600 hover:bg-red-700",disabled:c,children:c?"Deleting...":"Delete User"})]})]})}),s.jsx(pt,{open:!!p,onOpenChange:N=>!N&&y(null),children:s.jsxs(yt,{children:[s.jsxs(bt,{children:[s.jsxs(wt,{children:["Edit User: ",p==null?void 0:p.name]}),s.jsx(n0,{children:"View and manage user information and roles."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Name"}),s.jsx("p",{className:"text-sm",children:p==null?void 0:p.name})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Email"}),s.jsx("p",{className:"text-sm",children:p==null?void 0:p.email})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Phone"}),s.jsx("p",{className:"text-sm",children:(p==null?void 0:p.phone)||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Course"}),s.jsx("p",{className:"text-sm",children:(p==null?void 0:p.course)||"Not specified"})]})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Current Roles"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:p!=null&&p.roles&&p.roles.length>0?p.roles.map(N=>s.jsx(H,{variant:Ofe[N],children:Cw[N]},N)):s.jsx(H,{variant:"outline",children:"Member"})})]})]})]})})]})},Rfe={member:"Member",super_admin:"Super Admin",general_admin:"General Admin",community_admin:"Community Admin",events_admin:"Events Admin",projects_admin:"Projects Admin",finance_admin:"Finance Admin",content_admin:"Content Admin",technical_admin:"Technical Admin",marketing_admin:"Marketing Admin",chairman:"Chairman",vice_chairman:"Vice Chairman"},Dfe=({users:e,loading:t,onAssignRole:r})=>{const[n,a]=x.useState(""),[i,o]=x.useState("member"),l=async()=>{!n||!i||(await r(n,i),a(""),o("member"))};return s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Oy,{className:"w-5 h-5"}),"Role Assignment"]})}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select User"}),s.jsxs(Ie,{value:n,onValueChange:a,children:[s.jsx(Me,{children:s.jsx(Le,{placeholder:"Choose a user"})}),s.jsx(Re,{children:e.map(c=>s.jsxs(G,{value:c.user_id,children:[c.name," (",c.email,")"]},c.user_id))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Role"}),s.jsxs(Ie,{value:i,onValueChange:c=>o(c),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsx(Re,{children:Object.entries(Rfe).map(([c,u])=>s.jsx(G,{value:c,children:u},c))})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(M,{onClick:l,disabled:t||!n||!i,className:"w-full",children:"Assign Role"})})]})})})]})},r4={member:"Member",super_admin:"Super Admin",general_admin:"General Admin",community_admin:"Community Admin",events_admin:"Events Admin",projects_admin:"Projects Admin",finance_admin:"Finance Admin",content_admin:"Content Admin",technical_admin:"Technical Admin",marketing_admin:"Marketing Admin",chairman:"Chairman",vice_chairman:"Vice Chairman"},$fe={member:"default",super_admin:"destructive",general_admin:"secondary",community_admin:"outline",events_admin:"outline",projects_admin:"outline",finance_admin:"outline",content_admin:"outline",technical_admin:"outline",marketing_admin:"outline",chairman:"destructive",vice_chairman:"secondary"},Ife=({users:e,loading:t,onRemoveRole:r})=>s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"w-5 h-5"}),"Current User Roles"]})}),s.jsx(L,{children:t?s.jsx("p",{children:"Loading users..."}):s.jsxs("div",{className:"space-y-4",children:[e.map(n=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:n.name}),s.jsx("p",{className:"text-sm text-gray-500",children:n.email})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.roles&&n.roles.length>0?n.roles.map(a=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(H,{variant:$fe[a],children:r4[a]}),a!=="member"&&s.jsxs(c0,{children:[s.jsx(k9,{asChild:!0,children:s.jsx(M,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",disabled:t,children:s.jsx(Kl,{className:"h-3 w-3"})})}),s.jsxs(up,{children:[s.jsxs(dp,{children:[s.jsx(fp,{children:"Remove Role"}),s.jsxs(mp,{children:["Are you sure you want to remove the ",r4[a]," role from ",n.name,"? This action cannot be undone."]})]}),s.jsxs(hp,{children:[s.jsx(gp,{children:"Cancel"}),s.jsx(pp,{onClick:()=>r(n.user_id,a),className:"bg-red-600 hover:bg-red-700",children:"Remove Role"})]})]})]})]},a)):s.jsx(H,{variant:"default",children:"Member"})})]})},n.user_id)),e.length===0&&s.jsx("p",{className:"text-gray-500",children:"No users found"})]})})]}),Lfe=()=>s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Jr,{className:"mx-auto h-12 w-12 text-muted-foreground"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"Access Restricted"}),s.jsx("p",{className:"text-muted-foreground",children:"Only Super Admins and Chairman can manage roles."})]})})}),Ffe=e=>{const{toast:t}=xe(),[r,n]=x.useState([]),[a,i]=x.useState(!1),[o,l]=x.useState(0),c=x.useRef(!1),u=x.useRef(null),d=x.useCallback(async(m=!1)=>{if(!e)return;if(c.current&&!m){console.log("Skipping role management fetch - already in progress");return}const g=Date.now();if(!m&&g-o<2e3){console.log("Skipping role management fetch due to debounce");return}try{c.current=!0,i(!0),console.log("Fetching users for role management with optimized query...");const{data:p,error:y}=await A.from("member_management_view").select("user_id, name, email, roles").not("user_id","is",null).order("name");if(y)throw console.error("Error fetching users for role management:",y),y;if(!p||p.length===0){console.log("No users found for role management"),n([]),l(g);return}const b=p.filter(v=>v.user_id).map(v=>({user_id:v.user_id,name:v.name,email:v.email,roles:v.roles||["member"]}));console.log("Fetched users for role management:",b.length),n(b),l(g)}catch(p){console.error("Error fetching users for role management:",p),t({title:"Error",description:"Failed to fetch users",variant:"destructive"})}finally{i(!1),c.current=!1}},[e,t,o]),h=async(m,g)=>{try{i(!0);const{error:p}=await A.from("user_roles").upsert({user_id:m,role:g});if(p)throw p;t({title:"Success",description:"Role assigned successfully"}),await d(!0)}catch(p){console.error("Error assigning role:",p),t({title:"Error",description:"Failed to assign role",variant:"destructive"})}finally{i(!1)}},f=async(m,g)=>{try{i(!0);const{error:p}=await A.from("user_roles").delete().eq("user_id",m).eq("role",g);if(p)throw console.error("Error removing role:",p),p;t({title:"Success",description:"Role removed successfully"}),await d(!0)}catch(p){console.error("Error removing role:",p),t({title:"Error",description:"Failed to remove role",variant:"destructive"})}finally{i(!1)}};return x.useEffect(()=>{if(e){d(!0),u.current&&A.removeChannel(u.current);const m=A.channel("role-mgmt-realtime-optimized").on("postgres_changes",{event:"*",schema:"public",table:"user_roles"},g=>{console.log("User roles changed (role management):",g.eventType),setTimeout(()=>{c.current||d(!0)},1e3)}).subscribe(g=>{console.log("Role management subscription status:",g)});return u.current=m,()=>{console.log("Cleaning up role management subscriptions"),u.current&&(A.removeChannel(u.current),u.current=null)}}},[e]),{users:r,loading:a,assignRole:h,removeRole:f,fetchUsers:()=>d(!0)}},Bfe=()=>{const{isSuperAdmin:e,isChairman:t}=$o(),r=e||t,{users:n,loading:a,assignRole:i,removeRole:o}=Ffe(r);return r?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Dfe,{users:n,loading:a,onAssignRole:i}),s.jsx(Ife,{users:n,loading:a,onRemoveRole:o})]}):s.jsx(Lfe,{})},Ufe=({canManageUsers:e})=>e?s.jsxs(s.Fragment,{children:[s.jsx(de,{value:"user-management",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requiredRole:"super_admin",children:s.jsx(Mfe,{})})}),s.jsx(de,{value:"role-management",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requiredRole:"super_admin",children:s.jsx(Bfe,{})})})]}):null,zfe=({formData:e,onInputChange:t})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"name",children:"Full Name *"}),s.jsx(re,{id:"name",value:e.name,onChange:r=>t("name",r.target.value),placeholder:"John Doe",required:!0,className:"border-kic-green-200 focus:border-kic-green-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"email",children:"Email *"}),s.jsx(re,{id:"email",type:"email",value:e.email,onChange:r=>t("email",r.target.value),placeholder:"john@example.com",required:!0,className:"border-kic-green-200 focus:border-kic-green-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"phone",children:"Phone Number"}),s.jsx(re,{id:"phone",value:e.phone,onChange:r=>t("phone",r.target.value),placeholder:"+254 700 000 000",className:"border-kic-green-200 focus:border-kic-green-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"course",children:"Course"}),s.jsxs(Ie,{value:e.course,onValueChange:r=>t("course",r),children:[s.jsx(Me,{className:"border-kic-green-200",children:s.jsx(Le,{placeholder:"Select course"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"computer-science",children:"Computer Science"}),s.jsx(G,{value:"information-technology",children:"Information Technology"}),s.jsx(G,{value:"software-engineering",children:"Software Engineering"}),s.jsx(G,{value:"data-science",children:"Data Science"}),s.jsx(G,{value:"cybersecurity",children:"Cybersecurity"}),s.jsx(G,{value:"business-it",children:"Business Information Technology"}),s.jsx(G,{value:"other",children:"Other"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"year_of_study",children:"Year of Study"}),s.jsxs(Ie,{value:e.year_of_study,onValueChange:r=>t("year_of_study",r),children:[s.jsx(Me,{className:"border-kic-green-200",children:s.jsx(Le,{placeholder:"Select year"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"1",children:"First Year"}),s.jsx(G,{value:"2",children:"Second Year"}),s.jsx(G,{value:"3",children:"Third Year"}),s.jsx(G,{value:"4",children:"Fourth Year"}),s.jsx(G,{value:"graduate",children:"Graduate"}),s.jsx(G,{value:"postgraduate",children:"Postgraduate"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"bio",children:"Bio"}),s.jsx(ct,{id:"bio",value:e.bio,onChange:r=>t("bio",r.target.value),placeholder:"Tell us about yourself...",rows:3,className:"border-kic-green-200 focus:border-kic-green-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"skills",children:"Skills (comma-separated)"}),s.jsx(re,{id:"skills",value:e.skills,onChange:r=>t("skills",r.target.value),placeholder:"JavaScript, Python, React, Node.js",className:"border-kic-green-200 focus:border-kic-green-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"github_username",children:"GitHub Username"}),s.jsx(re,{id:"github_username",value:e.github_username,onChange:r=>t("github_username",r.target.value),placeholder:"johndoe",className:"border-kic-green-200 focus:border-kic-green-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"linkedin_url",children:"LinkedIn Profile URL"}),s.jsx(re,{id:"linkedin_url",value:e.linkedin_url,onChange:r=>t("linkedin_url",r.target.value),placeholder:"https://linkedin.com/in/johndoe",className:"border-kic-green-200 focus:border-kic-green-500"})]})]})]}),Vfe=()=>{const{toast:e}=xe(),[t,r]=x.useState(!1),[n,a]=x.useState({name:"",email:"",phone:"",course:"",year_of_study:"",bio:"",github_username:"",linkedin_url:"",skills:""}),i=(u,d)=>{a(h=>({...h,[u]:d}))},o=()=>{a({name:"",email:"",phone:"",course:"",year_of_study:"",bio:"",github_username:"",linkedin_url:"",skills:""})},l=async()=>{r(!0);try{return await new Promise(u=>setTimeout(u,1e3)),e({title:"Member Added",description:`${n.name} has been successfully added to the system.`}),o(),!0}catch{return e({title:"Error",description:"Failed to add member. Please try again.",variant:"destructive"}),!1}finally{r(!1)}},c=n.name.trim()!==""&&n.email.trim()!=="";return{formData:n,isLoading:t,isFormValid:c,handleInputChange:i,resetForm:o,submitForm:l}},n4=({open:e,onOpenChange:t,onSuccess:r})=>{const{formData:n,isLoading:a,isFormValid:i,handleInputChange:o,submitForm:l}=Vfe(),c=async u=>{u.preventDefault(),await l()&&r()};return s.jsx(pt,{open:e,onOpenChange:t,children:s.jsxs(yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(bt,{children:[s.jsxs(wt,{className:"flex items-center gap-2 text-kic-green-800",children:[s.jsx(wa,{className:"h-5 w-5"}),"Add New Member"]}),s.jsx(n0,{children:"Add a new member directly to the system. They will be automatically approved."})]}),s.jsxs("form",{onSubmit:c,className:"mt-4",children:[s.jsx(zfe,{formData:n,onInputChange:o}),s.jsxs("div",{className:"flex gap-3 pt-6",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>t(!1),className:"flex-1",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:a||!i,className:"flex-1 bg-kic-green-600 hover:bg-kic-green-700",children:a?s.jsxs(s.Fragment,{children:[s.jsx(lc,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wa,{className:"w-4 h-4 mr-2"}),"Add Member"]})})]})]})]})})},qfe=({onAddMember:e})=>s.jsxs(R,{className:"border-kic-green-200",children:[s.jsxs(Z,{className:"bg-gradient-to-r from-kic-green-50 to-kic-green-100 border-b border-kic-green-200",children:[s.jsxs(ee,{className:"flex items-center gap-2 text-kic-green-800",children:[s.jsx(Oe,{className:"h-5 w-5"}),"Member Management"]}),s.jsx(ut,{className:"text-kic-green-600",children:"No members found in the system"})]}),s.jsxs(L,{className:"p-8 text-center",children:[s.jsx(Oe,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"There are currently no members in the system. This could be because:"}),s.jsxs("ul",{className:"text-left text-gray-500 mb-6 space-y-2",children:[s.jsx("li",{children:" No members have registered yet"}),s.jsx("li",{children:" There's a database connection issue"}),s.jsx("li",{children:" Member data is not being fetched properly"})]}),s.jsxs(M,{onClick:e,className:"bg-kic-green-600 hover:bg-kic-green-700 text-white",children:[s.jsx(wa,{className:"w-4 h-4 mr-2"}),"Add First Member"]})]})]}),Wfe=({stats:e})=>s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx(R,{className:"hover:shadow-md transition-shadow border-kic-green-200",children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),s.jsx("p",{className:"text-2xl font-bold text-kic-green-700",children:e.total})]}),s.jsx(Oe,{className:"h-8 w-8 text-kic-green-500"})]})})}),s.jsx(R,{className:"hover:shadow-md transition-shadow border-yellow-200",children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:e.pending})]}),s.jsx(vt,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(R,{className:"hover:shadow-md transition-shadow border-green-200",children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:e.approved})]}),s.jsx(Hl,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(R,{className:"hover:shadow-md transition-shadow border-red-200",children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),s.jsx("p",{className:"text-2xl font-bold text-red-700",children:e.rejected})]}),s.jsx(Kl,{className:"h-8 w-8 text-red-500"})]})})}),s.jsx(R,{className:"hover:shadow-md transition-shadow border-blue-200",children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"New (7 days)"}),s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:e.recent})]}),s.jsx(Ae,{className:"h-8 w-8 text-blue-500"})]})})})]}),Hfe=({searchTerm:e,setSearchTerm:t,statusFilter:r,setStatusFilter:n,courseFilter:a,setCourseFilter:i,courses:o})=>s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(re,{placeholder:"Search by name, email, or phone...",value:e,onChange:l=>t(l.target.value),className:"pl-10 border-kic-green-200 focus:border-kic-green-500"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ie,{value:r,onValueChange:n,children:[s.jsx(Me,{className:"w-40 border-kic-green-200",children:s.jsx(Le,{placeholder:"Status"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Status"}),s.jsx(G,{value:"pending",children:"Pending"}),s.jsx(G,{value:"approved",children:"Approved"}),s.jsx(G,{value:"rejected",children:"Rejected"})]})]}),s.jsxs(Ie,{value:a,onValueChange:i,children:[s.jsx(Me,{className:"w-40 border-kic-green-200",children:s.jsx(Le,{placeholder:"Course"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Courses"}),o.map(l=>s.jsx(G,{value:l,children:l},l))]})]})]})]}),yp=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ne("w-full caption-bottom text-sm",e),...t})}));yp.displayName="Table";const bp=x.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ne("[&_tr]:border-b",e),...t}));bp.displayName="TableHeader";const wp=x.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ne("[&_tr:last-child]:border-0",e),...t}));wp.displayName="TableBody";const Kfe=x.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Kfe.displayName="TableFooter";const Fs=x.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ne("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Fs.displayName="TableRow";const lt=x.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));lt.displayName="TableHead";const rt=x.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));rt.displayName="TableCell";const Gfe=x.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ne("mt-4 text-sm text-muted-foreground",e),...t}));Gfe.displayName="TableCaption";const Yfe=({member:e})=>s.jsxs(bt,{children:[s.jsxs(wt,{className:"flex items-center gap-2",children:[s.jsxs(dc,{className:"h-8 w-8",children:[s.jsx(Dd,{src:e.avatar_url}),s.jsx(hc,{children:e.name.split(" ").map(t=>t[0]).join("")})]}),e.name,s.jsxs(H,{variant:"outline",className:"ml-2",children:["ID: ",e.id.slice(0,8)]})]}),s.jsx(n0,{children:"Member details and registration information"})]}),Xfe=({member:e})=>s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-kic-gray mb-3",children:"Basic Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-kic-gray/70",children:"Name:"}),s.jsx("span",{className:"ml-2 font-medium",children:e.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-kic-gray/70",children:"Email:"}),s.jsx("span",{className:"ml-2",children:e.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-kic-gray/70",children:"Phone:"}),s.jsx("span",{className:"ml-2",children:e.phone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-kic-gray/70",children:"Year of Study:"}),s.jsx("span",{className:"ml-2",children:e.year_of_study||"Not specified"})]}),e.registration_number&&s.jsxs("div",{children:[s.jsx("span",{className:"text-kic-gray/70",children:"Registration Number:"}),s.jsx("span",{className:"ml-2",children:e.registration_number})]})]})]}),N7=({status:e})=>{switch(e){case"approved":return s.jsxs(H,{variant:"default",className:"bg-green-100 text-green-800 border-green-200",children:[s.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Approved"]});case"rejected":return s.jsxs(H,{variant:"destructive",className:"bg-red-100 text-red-800 border-red-200",children:[s.jsx(jr,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsxs(H,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[s.jsx(vt,{className:"w-3 h-3 mr-1"}),"Pending"]})}},Qfe=({member:e})=>s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-kic-gray mb-3",children:"Registration Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-kic-gray/70",children:"Status:"}),s.jsx("div",{className:"ml-2",children:s.jsx(N7,{status:e.registration_status})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-kic-gray/70",children:"Registered:"}),s.jsx("span",{className:"ml-2",children:new Date(e.created_at).toLocaleDateString()})]}),e.approved_at&&s.jsxs("div",{children:[s.jsx("span",{className:"text-kic-gray/70",children:"Approved:"}),s.jsx("span",{className:"ml-2",children:new Date(e.approved_at).toLocaleDateString()})]}),e.approved_by&&s.jsxs("div",{children:[s.jsx("span",{className:"text-kic-gray/70",children:"Approved by:"}),s.jsx("span",{className:"ml-2",children:"Admin"})]}),e.membership_expires_at&&s.jsxs("div",{children:[s.jsx("span",{className:"text-kic-gray/70",children:"Membership Expires:"}),s.jsx("span",{className:"ml-2",children:new Date(e.membership_expires_at).toLocaleDateString()})]})]})]}),Jfe=({member:e})=>e.bio?s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-kic-gray",children:"Bio"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.bio})]}):null,Zfe=({member:e})=>!e.skills||e.skills.length===0?null:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-kic-gray",children:"Skills"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((t,r)=>s.jsx(H,{variant:"outline",className:"text-xs",children:t},r))})]}),eme=({member:e})=>e.github_username||e.linkedin_url?s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-kic-gray",children:"Links"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[e.github_username&&s.jsxs("p",{children:[s.jsx("strong",{children:"GitHub:"}),s.jsx("a",{href:`https://github.com/${e.github_username}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline ml-1",children:e.github_username})]}),e.linkedin_url&&s.jsxs("p",{children:[s.jsx("strong",{children:"LinkedIn:"}),s.jsx("a",{href:e.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline ml-1",children:"View Profile"})]})]})]}):null,tme=({member:e,onStatusUpdate:t,onDeleteMember:r,isLoading:n})=>s.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.registration_status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(M,{onClick:()=>t(e.id,"approved"),disabled:n===e.id,className:"bg-green-600 hover:bg-green-700 flex-1",children:[s.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Approve"]}),s.jsxs(M,{onClick:()=>t(e.id,"rejected"),disabled:n===e.id,variant:"destructive",className:"flex-1",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),s.jsxs(M,{onClick:()=>r(e),variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50",children:[s.jsx(en,{className:"w-4 h-4 mr-2"}),"Delete"]})]}),rme=({member:e,onStatusUpdate:t,onDeleteMember:r,isLoading:n})=>s.jsxs(yt,{className:"max-w-2xl max-h-[80vh] overflow-hidden",children:[s.jsx(Yfe,{member:e}),s.jsx(qy,{className:"max-h-[60vh] pr-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Xfe,{member:e}),s.jsx(Qfe,{member:e})]}),s.jsx(Jfe,{member:e}),s.jsx(Zfe,{member:e}),s.jsx(eme,{member:e}),s.jsx(tme,{member:e,onStatusUpdate:t,onDeleteMember:r,isLoading:n})]})})]}),nme=({member:e,onStatusUpdate:t,onDeleteMember:r,isLoading:n})=>s.jsxs(w7,{children:[s.jsx(j7,{asChild:!0,children:s.jsx(M,{variant:"outline",size:"sm",className:"border-kic-green-200 hover:bg-kic-green-50",children:s.jsx(lee,{className:"h-4 w-4"})})}),s.jsxs(Ik,{align:"end",children:[e.registration_status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(pu,{onClick:()=>t(e.id,"approved"),disabled:n===e.id,className:"text-green-600",children:[s.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Approve"]}),s.jsxs(pu,{onClick:()=>t(e.id,"rejected"),disabled:n===e.id,className:"text-red-600",children:[s.jsx(jr,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),s.jsxs(pu,{onClick:()=>r(e),className:"text-red-600",children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),sme=e=>{const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/(1e3*60*60));if(n<1)return"Just now";if(n<24)return`${n}h ago`;const a=Math.floor(n/24);if(a<7)return`${a}d ago`;const i=Math.floor(a/7);return i<4?`${i}w ago`:`${Math.floor(a/30)}mo ago`},ame=({member:e,selectedMember:t,setSelectedMember:r,onStatusUpdate:n,onDeleteMember:a,isLoading:i})=>s.jsxs(Fs,{className:"hover:bg-kic-green-50",children:[s.jsx(rt,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(dc,{className:"h-8 w-8",children:[s.jsx(Dd,{src:e.avatar_url}),s.jsx(hc,{className:"bg-kic-green-100 text-kic-green-700",children:e.name.split(" ").map(o=>o[0]).join("")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-kic-gray",children:e.name}),s.jsx("p",{className:"text-sm text-gray-500",children:e.email})]})]})}),s.jsx(rt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(Xm,{className:"h-3 w-3 text-kic-green-600"}),s.jsx("span",{className:"truncate max-w-32",children:e.email})]}),e.phone&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[s.jsx(OS,{className:"h-3 w-3 text-kic-green-600"}),s.jsx("span",{children:e.phone})]})]})}),s.jsx(rt,{children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm",children:e.course||"Not specified"}),e.year_of_study&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Year ",e.year_of_study]})]})}),s.jsx(rt,{children:s.jsx(N7,{status:e.registration_status})}),s.jsx(rt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[s.jsx(Ae,{className:"h-3 w-3"}),new Date(e.created_at).toLocaleDateString()]}),s.jsx("p",{className:"text-xs text-gray-500",children:sme(e.created_at)})]})}),s.jsx(rt,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pt,{children:[s.jsx(er,{asChild:!0,children:s.jsx(M,{variant:"outline",size:"sm",onClick:()=>r(e),className:"border-kic-green-200 hover:bg-kic-green-50",children:s.jsx(Or,{className:"h-4 w-4"})})}),(t==null?void 0:t.id)===e.id&&s.jsx(rme,{member:e,onStatusUpdate:n,onDeleteMember:a,isLoading:i})]}),s.jsx(nme,{member:e,onStatusUpdate:n,onDeleteMember:a,isLoading:i})]})})]}),ime=({members:e,selectedMember:t,setSelectedMember:r,onStatusUpdate:n,onDeleteMember:a,isLoading:i})=>s.jsx("div",{className:"rounded-md border border-kic-green-200",children:s.jsxs(yp,{children:[s.jsx(bp,{children:s.jsxs(Fs,{className:"bg-kic-green-50",children:[s.jsx(lt,{className:"text-kic-green-800",children:"Member"}),s.jsx(lt,{className:"text-kic-green-800",children:"Contact"}),s.jsx(lt,{className:"text-kic-green-800",children:"Course"}),s.jsx(lt,{className:"text-kic-green-800",children:"Status"}),s.jsx(lt,{className:"text-kic-green-800",children:"Registered"}),s.jsx(lt,{className:"text-kic-green-800",children:"Actions"})]})}),s.jsx(wp,{children:e.map(o=>s.jsx(ame,{member:o,selectedMember:t,setSelectedMember:r,onStatusUpdate:n,onDeleteMember:a,isLoading:i},o.id))})]})}),ome=({stats:e,searchTerm:t,setSearchTerm:r,statusFilter:n,setStatusFilter:a,courseFilter:i,setCourseFilter:o,courses:l,filteredMembers:c,selectedMember:u,setSelectedMember:d,onStatusUpdate:h,onDeleteMember:f,isLoading:m,onAddMember:g})=>s.jsxs("div",{className:"space-y-6",children:[s.jsx(Wfe,{stats:e}),s.jsxs(R,{className:"border-kic-green-200",children:[s.jsx(Z,{className:"bg-gradient-to-r from-kic-green-50 to-kic-green-100 border-b border-kic-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ee,{className:"flex items-center gap-2 text-kic-green-800",children:[s.jsx(Oe,{className:"h-5 w-5"}),"Member Management"]}),s.jsx(ut,{className:"text-kic-green-600",children:"Manage all members, view registration details, and perform administrative actions"})]}),s.jsxs(M,{onClick:g,className:"bg-kic-green-600 hover:bg-kic-green-700 text-white",children:[s.jsx(wa,{className:"w-4 h-4 mr-2"}),"Add Member"]})]})}),s.jsxs(L,{className:"p-6",children:[s.jsx(Hfe,{searchTerm:t,setSearchTerm:r,statusFilter:n,setStatusFilter:a,courseFilter:i,setCourseFilter:o,courses:l}),c.length>0?s.jsx(ime,{members:c,selectedMember:u,setSelectedMember:d,onStatusUpdate:h,onDeleteMember:f,isLoading:m}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Oe,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:t||n!=="all"||i!=="all"?"No members match your search criteria":"No members found"})]})]})]})]}),lme=({member:e,onClose:t,onConfirm:r})=>e?s.jsx(c0,{open:!!e,onOpenChange:t,children:s.jsxs(up,{children:[s.jsxs(dp,{children:[s.jsx(fp,{children:"Delete Member"}),s.jsxs(mp,{children:["Are you sure you want to delete ",s.jsx("strong",{children:e.name}),"? This action cannot be undone and will permanently remove the member from the system."]})]}),s.jsxs(hp,{children:[s.jsx(gp,{children:"Cancel"}),s.jsx(pp,{onClick:()=>r(e),className:"bg-red-600 hover:bg-red-700",children:"Delete Member"})]})]})}):null,cme=e=>{const[t,r]=x.useState(""),[n,a]=x.useState("all"),[i,o]=x.useState("all"),[l,c]=x.useState(null),u=x.useMemo(()=>[...e].sort((m,g)=>new Date(g.created_at).getTime()-new Date(m.created_at).getTime()),[e]),d=x.useMemo(()=>u.filter(m=>{const g=m.name.toLowerCase().includes(t.toLowerCase())||m.email.toLowerCase().includes(t.toLowerCase())||m.phone&&m.phone.includes(t),p=n==="all"||m.registration_status===n,y=i==="all"||m.course===i;return g&&p&&y}),[u,t,n,i]),h=x.useMemo(()=>Array.from(new Set(e.map(g=>g.course).filter(Boolean))),[e]),f=x.useMemo(()=>{const m=e.length,g=e.filter(v=>v.registration_status==="pending").length,p=e.filter(v=>v.registration_status==="approved").length,y=e.filter(v=>v.registration_status==="rejected").length,b=e.filter(v=>(new Date().getTime()-new Date(v.created_at).getTime())/864e5<=7).length;return{total:m,pending:g,approved:p,rejected:y,recent:b}},[e]);return{searchTerm:t,setSearchTerm:r,statusFilter:n,setStatusFilter:a,courseFilter:i,setCourseFilter:o,selectedMember:l,setSelectedMember:c,filteredMembers:d,courses:h,stats:f}},ume=({members:e,updateMemberStatus:t})=>{const{toast:r}=xe(),[n,a]=x.useState(null),[i,o]=x.useState(null),[l,c]=x.useState(!1);console.log("EnhancedMembersManagement received members:",e.length);const{searchTerm:u,setSearchTerm:d,statusFilter:h,setStatusFilter:f,courseFilter:m,setCourseFilter:g,selectedMember:p,setSelectedMember:y,filteredMembers:b,courses:v,stats:w}=cme(e);console.log("Filtered members:",b.length),console.log("Member stats:",w);const j=async(_,k)=>{a(_);try{await t(_,k),r({title:"Status Updated",description:`Member has been ${k} successfully.`})}catch{r({title:"Error",description:"Failed to update member status. Please try again.",variant:"destructive"})}finally{a(null)}},N=async _=>{if(!_.user_id){r({title:"Error",description:"Cannot delete member: User ID not found.",variant:"destructive"});return}try{r({title:"Member Deleted",description:`${_.name} has been removed from the system.`}),o(null)}catch{r({title:"Error",description:"Failed to delete member. Please try again.",variant:"destructive"})}},S=()=>{c(!1)};return e.length===0?s.jsxs("div",{className:"space-y-6",children:[s.jsx(qfe,{onAddMember:()=>c(!0)}),s.jsx(n4,{open:l,onOpenChange:c,onSuccess:S})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(ome,{stats:w,searchTerm:u,setSearchTerm:d,statusFilter:h,setStatusFilter:f,courseFilter:m,setCourseFilter:g,courses:v,filteredMembers:b,selectedMember:p,setSelectedMember:y,onStatusUpdate:j,onDeleteMember:o,isLoading:n,onAddMember:()=>c(!0)}),s.jsx(n4,{open:l,onOpenChange:c,onSuccess:S}),s.jsx(lme,{member:i,onClose:()=>o(null),onConfirm:N})]})},dme=()=>{const{user:e}=ye(),{toast:t}=xe(),{isSuperAdmin:r,isChairman:n,isViceChairman:a}=$o(),[i,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[h,f]=x.useState(!0),[m,g]=x.useState(!1),[p,y]=x.useState(""),[b,v]=x.useState(""),[w,j]=x.useState("admin"),[N,S]=x.useState(!1),_=r||n||a;x.useEffect(()=>{_?k():f(!1)},[_]);const k=async()=>{try{f(!0),console.log("Fetching community admin data...");const{data:E,error:T}=await A.from("community_admin_roles").select("*").eq("is_active",!0).order("assigned_at",{ascending:!1});T&&console.error("Error fetching admins:",T),console.log("Fetched admins data:",E||[]),o(E||[]);const{data:F,error:D}=await A.from("community_groups").select("id, name").eq("is_active",!0).order("name");D?console.error("Error fetching communities:",D):c(F||[]);const{data:$,error:U}=await A.from("members").select("id, user_id, name, email").eq("registration_status","approved").order("name");U?console.error("Error fetching members:",U):d($||[]),console.log("Successfully loaded community admin data")}catch(E){console.error("Error fetching community admin data:",E),t({title:"Error",description:"Failed to load community admin data. Please try refreshing the page.",variant:"destructive"})}finally{f(!1)}},C=async()=>{if(!p||!b){t({title:"Missing information",description:"Please select both a member and community",variant:"destructive"});return}S(!0);try{const{data:E,error:T}=await A.from("community_admin_roles").select("id").eq("user_id",p).eq("community_id",b).eq("is_active",!0).maybeSingle();if(T)throw console.error("Error checking existing admin:",T),T;if(E){t({title:"Already assigned",description:"This user is already an admin for this community",variant:"destructive"});return}const{error:F}=await A.from("community_admin_roles").insert({user_id:p,community_id:b,role:w,assigned_by:e==null?void 0:e.id,is_active:!0});if(F)throw F;t({title:"Admin assigned",description:"Community admin has been assigned successfully"}),y(""),v(""),j("admin"),g(!1),await k()}catch(E){console.error("Error assigning admin:",E),t({title:"Error",description:"Failed to assign community admin",variant:"destructive"})}finally{S(!1)}},P=async E=>{if(confirm("Are you sure you want to remove this community admin?"))try{const{error:T}=await A.from("community_admin_roles").update({is_active:!1}).eq("id",E);if(T)throw T;t({title:"Admin removed",description:"Community admin has been removed successfully"}),await k()}catch(T){console.error("Error removing admin:",T),t({title:"Error",description:"Failed to remove community admin",variant:"destructive"})}};return h?s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-kic-green-500 mx-auto mb-4"}),s.jsx("p",{children:"Loading community admin data..."})]})})}):_?s.jsxs(R,{children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center justify-between",children:["Community Admin Management",s.jsxs(pt,{open:m,onOpenChange:g,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{className:"flex items-center gap-2",children:[s.jsx(wa,{className:"h-4 w-4"}),"Assign Admin"]})}),s.jsxs(yt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Assign Community Admin"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"member",children:"Select Member"}),s.jsxs(Ie,{value:p,onValueChange:y,children:[s.jsx(Me,{children:s.jsx(Le,{placeholder:"Choose a member"})}),s.jsx(Re,{children:u.map(E=>s.jsxs(G,{value:E.user_id,children:[E.name," (",E.email,")"]},E.user_id))})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"community",children:"Select Community"}),s.jsxs(Ie,{value:b,onValueChange:v,children:[s.jsx(Me,{children:s.jsx(Le,{placeholder:"Choose a community"})}),s.jsx(Re,{children:l.map(E=>s.jsx(G,{value:E.id,children:E.name},E.id))})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"role",children:"Admin Role"}),s.jsxs(Ie,{value:w,onValueChange:j,children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"admin",children:"Admin"}),s.jsx(G,{value:"moderator",children:"Moderator"})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(M,{onClick:C,disabled:N,className:"flex-1",children:N?"Assigning...":"Assign Admin"}),s.jsx(M,{variant:"outline",onClick:()=>g(!1),children:"Cancel"})]})]})]})]})]}),s.jsx(ut,{children:"Manage community administrators and their permissions"})]}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-4",children:[i.map(E=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Jr,{className:"h-4 w-4 text-blue-500"}),s.jsx("h4",{className:"font-medium text-kic-gray",children:E.member_name||"Loading..."}),s.jsx(H,{variant:"secondary",children:E.role})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-kic-gray/70",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Oe,{className:"h-4 w-4"}),E.community_name||"Loading..."]}),s.jsxs("div",{children:["Assigned: ",new Date(E.assigned_at).toLocaleDateString()]})]})]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>P(E.id),className:"flex items-center gap-1 text-red-600 hover:text-red-700",children:[s.jsx(en,{className:"h-4 w-4"}),"Remove"]})]})},E.id)),i.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Jr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-kic-gray/70",children:"No community admins assigned yet."})]})]})})]}):s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Jr,{className:"mx-auto h-12 w-12 text-muted-foreground"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"Access Restricted"}),s.jsx("p",{className:"text-muted-foreground",children:"Only Super Admins, Chairman, and Vice Chairman can manage community admins."})]})})})},s4={member:"Member",super_admin:"Super Admin",general_admin:"General Admin",community_admin:"Community Admin",events_admin:"Events Admin",projects_admin:"Projects Admin",finance_admin:"Finance Admin",content_admin:"Content Admin",technical_admin:"Technical Admin",marketing_admin:"Marketing Admin",chairman:"Chairman",vice_chairman:"Vice Chairman"},hme=()=>{const{user:e}=ye(),{toast:t}=xe(),[r,n]=x.useState([]),[a,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(null),[d,h]=x.useState(!1);x.useEffect(()=>{f(),m()},[]);const f=async()=>{try{l(!0);const{data:b,error:v}=await A.from("admin_requests").select(`
          *,
          community_groups:community_groups(name)
        `).order("created_at",{ascending:!1});if(v)throw v;n(b||[])}catch(b){console.error("Error fetching admin requests:",b),t({title:"Error",description:"Failed to load admin requests",variant:"destructive"})}finally{l(!1)}},m=async()=>{try{const{data:b,error:v}=await A.from("community_groups").select("id, name").eq("is_active",!0).order("name");if(v)throw v;i(b||[])}catch(b){console.error("Error fetching communities:",b),t({title:"Error",description:"Failed to load communities",variant:"destructive"})}},g=async(b,v)=>{if(!(e!=null&&e.id)){t({title:"Error",description:"You must be logged in to review requests",variant:"destructive"});return}h(!0);try{const{error:w}=await A.from("admin_requests").update({status:v,reviewed_by:e.id,reviewed_at:new Date().toISOString()}).eq("id",b);if(w)throw w;if(v==="approved"){const j=r.find(N=>N.id===b);if(!j)throw new Error("Request not found");if(j.user_id){const{error:N}=await A.from("user_roles").upsert({user_id:j.user_id,role:j.admin_type});if(N)throw N;if(await A.from("members").update({registration_status:"approved"}).eq("user_id",j.user_id),j.admin_type==="community_admin"&&j.community_id){const{error:S}=await A.from("community_admin_roles").upsert({user_id:j.user_id,community_id:j.community_id,role:"admin",assigned_by:e.id,is_active:!0});if(S)throw S}}}t({title:v==="approved"?"Request approved":"Request rejected",description:`Admin request has been ${v}`}),u(null),await f()}catch(w){console.error("Error reviewing request:",w),t({title:"Error",description:`Failed to ${v} request: ${w instanceof Error?w.message:"Unknown error"}`,variant:"destructive"})}finally{h(!1)}},p=b=>{switch(b){case"pending":return s.jsxs(H,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(vt,{className:"h-3 w-3"}),"Pending"]});case"approved":return s.jsxs(H,{className:"flex items-center gap-1 bg-green-500 hover:bg-green-600",children:[s.jsx(Ze,{className:"h-3 w-3"}),"Approved"]});case"rejected":return s.jsxs(H,{variant:"destructive",className:"flex items-center gap-1",children:[s.jsx(jr,{className:"h-3 w-3"}),"Rejected"]});default:return s.jsx(H,{variant:"secondary",children:b})}},y=b=>s.jsxs(H,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(Jr,{className:"h-3 w-3"}),s4[b]]});return o?s.jsx("div",{className:"text-center py-8",children:"Loading admin requests..."}):s.jsxs(R,{children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Admin Requests Management"}),s.jsx(ut,{children:"Review and manage admin access requests"})]}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-4",children:[r.map(b=>{var v,w;return s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-medium",children:b.name}),p(b.status),y(b.admin_type)]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:b.email}),((v=b.community_groups)==null?void 0:v.name)&&s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[s.jsx("strong",{children:"Community:"})," ",b.community_groups.name]}),b.admin_code&&s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[s.jsx("strong",{children:"Admin Code:"})," ",b.admin_code]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Submitted:"})," ",new Date(b.created_at).toLocaleDateString()]}),b.reviewed_at&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Reviewed:"})," ",new Date(b.reviewed_at).toLocaleDateString()]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(pt,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>u(b),disabled:b.status!=="pending",children:[s.jsx(Or,{className:"h-4 w-4 mr-1"}),b.status==="pending"?"Review":"View"]})}),s.jsxs(yt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Admin Request Details"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Name:"})," ",b.name]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," ",b.email]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Admin Type:"})," ",s4[b.admin_type]]}),((w=b.community_groups)==null?void 0:w.name)&&s.jsxs("div",{children:[s.jsx("strong",{children:"Community:"})," ",b.community_groups.name]}),b.admin_code&&s.jsxs("div",{children:[s.jsx("strong",{children:"Admin Code:"})," ",b.admin_code]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Justification:"}),s.jsx("p",{className:"mt-1 p-3 bg-muted rounded-md text-sm",children:b.justification})]}),b.status==="pending"&&s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(M,{onClick:()=>g(b.id,"approved"),disabled:d,className:"flex-1 bg-green-600 hover:bg-green-700",children:d?"Processing...":"Approve"}),s.jsx(M,{onClick:()=>g(b.id,"rejected"),disabled:d,variant:"destructive",className:"flex-1",children:d?"Processing...":"Reject"})]})]})]})]})})]})},b.id)}),r.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(vt,{className:"h-12 w-12 mx-auto mb-4 text-muted"}),s.jsx("p",{className:"text-muted-foreground",children:"No admin requests found."})]})]})})]})},fme=()=>s.jsxs(s.Fragment,{children:[s.jsx(de,{value:"members",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requiredRole:"general_admin",children:s.jsx(ume,{members:[],updateMemberStatus:async()=>{}})})}),s.jsx(de,{value:"community-admins",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requiredRole:"general_admin",children:s.jsx(dme,{})})}),s.jsx(de,{value:"admin-requests",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requiredRole:"general_admin",children:s.jsx(hme,{})})})]}),mme=async()=>{try{console.log("Fetching all project submissions...");const{data:e,error:t}=await A.from("project_submissions").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching project submissions:",t),t;if(console.log("Project submissions fetched:",(e==null?void 0:e.length)||0),!e||e.length===0)return[];const r=[...new Set([...e.map(l=>l.user_id).filter(Boolean),...e.map(l=>l.reviewed_by).filter(Boolean)])];console.log("User IDs to fetch:",r);const{data:n,error:a}=await A.from("members").select("user_id, name, email").in("user_id",r);a&&console.error("Error fetching members for projects:",a),console.log("Members data fetched:",(n==null?void 0:n.length)||0);const i=(n||[]).reduce((l,c)=>(l[c.user_id]=c,l),{}),o=e.map(l=>{const c=i[l.user_id],u=l.reviewed_by?i[l.reviewed_by]:null;return{...l,author_name:(c==null?void 0:c.name)||"Unknown User",author_email:(c==null?void 0:c.email)||"",reviewer_name:(u==null?void 0:u.name)||null}});return console.log("Projects with author names prepared:",o.length),o}catch(e){return console.error("Error in fetchAllProjectSubmissions:",e),[]}},pme=async(e,t,r,n)=>{try{const a={status:t,reviewed_by:r,reviewed_at:new Date().toISOString(),updated_at:new Date().toISOString()};n!=null&&n.trim()&&(a.admin_feedback=n.trim());const{error:i}=await A.from("project_submissions").update(a).eq("id",e);if(i)throw i;return console.log(`Project ${e} ${t} successfully`),!0}catch(a){throw console.error("Error updating project status:",a),a}},gme=async(e,t,r)=>{try{const{error:n}=await A.rpc("manage_featured_project",{project_id:e,make_featured:t,admin_id:r});if(n)throw n;return console.log(`Project ${e} ${t?"featured":"unfeatured"} successfully`),!0}catch(n){throw console.error("Error toggling project featured status:",n),n}},xme=async e=>{try{const{error:t}=await A.from("project_submissions").delete().eq("id",e);if(t)throw t;return console.log(`Project ${e} deleted successfully`),!0}catch(t){throw console.error("Error deleting project:",t),t}},vme=e=>{switch(e){case"approved":return s.jsx(Ze,{className:"w-4 h-4"});case"rejected":return s.jsx(jr,{className:"w-4 h-4"});case"pending":return s.jsx(vt,{className:"w-4 h-4"});default:return s.jsx(An,{className:"w-4 h-4"})}},yme=e=>{switch(e){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},a4=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),bme=({project:e,open:t,onOpenChange:r,loading:n,onProjectAction:a})=>{const[i,o]=x.useState("");return e?s.jsx(pt,{open:t,onOpenChange:r,children:s.jsxs(yt,{className:"max-w-4xl max-h-[90vh]",children:[s.jsx(bt,{children:s.jsxs(wt,{className:"flex items-center gap-2",children:[e.title,e.is_featured&&s.jsx(qn,{className:"w-5 h-5 text-yellow-500 fill-current"})]})}),s.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Project Details"})}),s.jsxs(L,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),s.jsx("p",{className:"text-gray-800",children:e.description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Author"}),s.jsx("p",{className:"text-gray-800",children:e.author_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"GitHub Repository"}),s.jsxs("a",{href:e.github_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-600 hover:text-blue-800",children:[s.jsx(Oo,{className:"w-4 h-4"}),"View Repository"]})]}),e.tech_tags&&e.tech_tags.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Technologies"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.tech_tags.map(l=>s.jsx(H,{variant:"outline",className:"text-xs",children:l},l))})]})]})]}),s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Review Information"})}),s.jsxs(L,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Current Status"}),s.jsx("div",{className:"mt-1",children:s.jsxs(H,{className:yme(e.status),children:[vme(e.status),s.jsx("span",{className:"ml-1 capitalize",children:e.status})]})})]}),e.reviewer_name&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Reviewed By"}),s.jsx("p",{className:"text-gray-800",children:e.reviewer_name}),e.reviewed_at&&s.jsxs("p",{className:"text-sm text-gray-600",children:["on ",a4(e.reviewed_at)]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Submitted"}),s.jsx("p",{className:"text-gray-800",children:a4(e.created_at)})]})]})]})]}),e.admin_feedback&&s.jsxs(Ht,{children:[s.jsx(An,{className:"h-4 w-4"}),s.jsxs(Kt,{children:[s.jsx("strong",{children:"Previous Feedback:"})," ",e.admin_feedback]})]}),e.status==="pending"&&s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Review Project"})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Feedback (Optional)"}),s.jsx(ct,{placeholder:"Provide feedback for the project author...",value:i,onChange:l=>o(l.target.value),rows:3})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M,{onClick:()=>a(e.id,"approve",i),disabled:n,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Approve Project"]}),s.jsxs(M,{onClick:()=>a(e.id,"reject",i),disabled:n,variant:"destructive",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Reject Project"]})]})]})]})]})]})}):null},wme=()=>{const{user:e}=ye(),{toast:t}=xe(),[r,n]=x.useState([]),[a,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(""),[d,h]=x.useState("all"),[f,m]=x.useState(null),[g,p]=x.useState(!1),[y,b]=x.useState(null);x.useEffect(()=>{v()},[]),x.useEffect(()=>{w()},[r,c,d]);const v=async()=>{try{l(!0),console.log("Loading projects...");const P=(await mme()).map(E=>({id:E.id,title:E.title,description:E.description,github_url:E.github_url,thumbnail_url:E.thumbnail_url,tech_tags:E.tech_tags,status:E.status,admin_notes:E.admin_feedback,admin_feedback:E.admin_feedback,reviewed_at:E.reviewed_at,reviewed_by:E.reviewed_by,created_at:E.created_at,user_id:E.user_id,is_featured:E.is_featured||!1,featured_by:E.featured_by||null,featured_at:E.featured_at||null,author_name:E.author_name||"Unknown User",reviewer_name:E.reviewer_name||null}));n(P),console.log("Projects loaded successfully:",P.length)}catch(C){console.error("Error loading projects:",C),t({title:"Error",description:"Failed to load projects. Please try again.",variant:"destructive"})}finally{l(!1)}},w=()=>{let C=r;c&&(C=C.filter(P=>P.title.toLowerCase().includes(c.toLowerCase())||P.author_name.toLowerCase().includes(c.toLowerCase())||P.description.toLowerCase().includes(c.toLowerCase()))),d!=="all"&&(C=C.filter(P=>P.status===d)),i(C)},j=async(C,P,E)=>{if(e)try{b(C),await pme(C,P==="approve"?"approved":"rejected",e.id,E),await v(),t({title:"Success",description:`Project ${P==="approve"?"approved":"rejected"} successfully`}),(f==null?void 0:f.id)===C&&(p(!1),m(null))}catch(T){console.error("Error updating project:",T),t({title:"Error",description:"Failed to update project",variant:"destructive"})}finally{b(null)}},N=async(C,P)=>{if(e)try{b(C),await gme(C,P,e.id),await v(),t({title:"Success",description:`Project ${P?"featured":"unfeatured"} successfully`})}catch(E){console.error("Error toggling feature:",E),t({title:"Error",description:E.message||"Failed to update featured status",variant:"destructive"})}finally{b(null)}},S=async C=>{if(confirm("Are you sure you want to delete this project? This action cannot be undone."))try{b(C),await xme(C),await v(),t({title:"Success",description:"Project deleted successfully"})}catch(P){console.error("Error deleting project:",P),t({title:"Error",description:"Failed to delete project",variant:"destructive"})}finally{b(null)}},_=C=>{switch(C){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},k=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return o?s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx(Wf,{className:"w-6 h-6 animate-spin mr-2"}),s.jsx("span",{children:"Loading projects..."})]})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center justify-between",children:["Project Management",s.jsxs(M,{onClick:v,variant:"outline",size:"sm",children:[s.jsx(Wf,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})}),s.jsxs(L,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(re,{placeholder:"Search projects, authors, or descriptions...",value:c,onChange:C=>u(C.target.value),className:"pl-10"})]})}),s.jsxs(Ie,{value:d,onValueChange:h,children:[s.jsxs(Me,{className:"w-48",children:[s.jsx(Vl,{className:"w-4 h-4 mr-2"}),s.jsx(Le,{placeholder:"Filter by status"})]}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Statuses"}),s.jsx(G,{value:"pending",children:"Pending"}),s.jsx(G,{value:"approved",children:"Approved"}),s.jsx(G,{value:"rejected",children:"Rejected"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),s.jsx("div",{className:"text-sm text-blue-600",children:"Total Projects"})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.filter(C=>C.status==="pending").length}),s.jsx("div",{className:"text-sm text-yellow-600",children:"Pending Review"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.filter(C=>C.status==="approved").length}),s.jsx("div",{className:"text-sm text-green-600",children:"Approved"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.filter(C=>C.is_featured).length}),s.jsx("div",{className:"text-sm text-purple-600",children:"Featured"})]})]}),a.length===0?s.jsxs(Ht,{children:[s.jsx(An,{className:"h-4 w-4"}),s.jsx(Kt,{children:"No projects found matching your criteria."})]}):s.jsx("div",{className:"space-y-4",children:a.map(C=>s.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-semibold",children:C.title}),s.jsx(H,{className:_(C.status),children:C.status}),C.is_featured&&s.jsx(qn,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:C.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{children:["By: ",C.author_name]}),s.jsxs("span",{children:["Submitted: ",k(C.created_at)]}),C.reviewed_at&&s.jsxs("span",{children:["Reviewed: ",k(C.reviewed_at)]})]}),C.tech_tags&&C.tech_tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[C.tech_tags.slice(0,3).map(P=>s.jsx(H,{variant:"outline",className:"text-xs",children:P},P)),C.tech_tags.length>3&&s.jsxs(H,{variant:"outline",className:"text-xs",children:["+",C.tech_tags.length-3]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx(M,{variant:"outline",size:"sm",onClick:()=>{m(C),p(!0)},children:s.jsx(Or,{className:"w-4 h-4"})}),C.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(M,{size:"sm",onClick:()=>j(C.id,"approve"),disabled:y===C.id,className:"bg-green-600 hover:bg-green-700",children:s.jsx(Ze,{className:"w-4 h-4"})}),s.jsx(M,{size:"sm",variant:"destructive",onClick:()=>j(C.id,"reject"),disabled:y===C.id,children:s.jsx(jr,{className:"w-4 h-4"})})]}),C.status==="approved"&&s.jsx(M,{variant:"outline",size:"sm",onClick:()=>N(C.id,!C.is_featured),disabled:y===C.id,children:C.is_featured?s.jsx(kee,{className:"w-4 h-4"}):s.jsx(qn,{className:"w-4 h-4"})}),s.jsx(M,{variant:"outline",size:"sm",onClick:()=>S(C.id),disabled:y===C.id,className:"text-red-600 hover:text-red-700",children:s.jsx(en,{className:"w-4 h-4"})})]})]})},C.id))})]})]}),s.jsx(bme,{project:f,open:g,onOpenChange:p,loading:y!==null,onProjectAction:j})]})},jme=({projects:e,updateProjectStatus:t})=>s.jsx(wme,{}),Nme=(e,t,r)=>{const{user:n}=ye(),{toast:a}=xe(),[i,o]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState(""),[h,f]=x.useState(""),[m,g]=x.useState(0),[p,y]=x.useState(),[b,v]=x.useState(!1),[w,j]=x.useState("members"),[N,S]=x.useState(!1),[_,k]=x.useState(!1),[C,P]=x.useState(null),E=()=>{o(""),c(""),d(""),f(""),g(0),y(void 0),v(!1),j("members"),S(!1),P(null)},T=()=>{e&&(o(e.title),c(e.description),d(new Date(e.date).toISOString().slice(0,16)),f(e.location),g(e.price),y(e.max_attendees),v(e.requires_registration),j(e.visibility),S(e.is_published),P(null))},F=async $=>{try{const U=$.name.split(".").pop(),I=`event-banners/${`${Date.now()}-${Math.random().toString(36).substring(2)}.${U}`}`,{error:V}=await A.storage.from("event-images").upload(I,$);if(V)return console.error("Upload error:",V),null;const{data:{publicUrl:Y}}=A.storage.from("event-images").getPublicUrl(I);return Y}catch(U){return console.error("Error uploading image:",U),null}};return{title:i,setTitle:o,description:l,setDescription:c,date:u,setDate:d,location:h,setLocation:f,price:m,setPrice:g,maxAttendees:p,setMaxAttendees:y,requiresRegistration:b,setRequiresRegistration:v,visibility:w,setVisibility:j,isPublished:N,setIsPublished:S,submitting:_,selectedImage:C,setSelectedImage:P,resetForm:E,loadEventData:T,handleSubmit:async()=>{if(!n||!i.trim()||!l.trim()||!u||!h.trim()){a({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}k(!0);try{let $=(e==null?void 0:e.image_url)||null;if(C){const I=await F(C);I?$=I:a({title:"Image upload failed",description:"The event will be saved without an image",variant:"destructive"})}const U={title:i.trim(),description:l.trim(),date:new Date(u).toISOString(),location:h.trim(),price:m,max_attendees:p,requires_registration:b,visibility:w,is_published:N,status:N?"published":"draft",created_by:n.id,image_url:$};let q;if(e?{error:q}=await A.from("events").update(U).eq("id",e.id):{error:q}=await A.from("events").insert(U),q)throw q;a({title:e?"Event updated":"Event created",description:`Event has been ${e?"updated":"created"} successfully`}),E(),r(),t()}catch($){console.error("Error saving event:",$),a({title:"Error",description:"Failed to save event",variant:"destructive"})}finally{k(!1)}}}},_7=({onImageSelect:e,onImageRemove:t,selectedImage:r,previewUrl:n,maxSize:a=5,accept:i="image/*",className:o=""})=>{const[l,c]=x.useState(!1),[u,d]=x.useState(""),{toast:h}=xe(),f=v=>(d(""),v.type.startsWith("image/")?v.size>a*1024*1024?(d(`File size must be less than ${a}MB`),!1):!0:(d("Please select an image file"),!1)),m=v=>{f(v)&&(e(v),h({title:"Image selected",description:`${v.name} is ready to upload`}))},g=v=>{var j;const w=(j=v.target.files)==null?void 0:j[0];w&&m(w)},p=x.useCallback(v=>{v.preventDefault(),c(!1);const w=v.dataTransfer.files[0];w&&m(w)},[]),y=x.useCallback(v=>{v.preventDefault(),c(!0)},[]),b=x.useCallback(v=>{v.preventDefault(),c(!1)},[]);return s.jsxs("div",{className:`space-y-4 ${o}`,children:[s.jsx(W,{children:"Featured Image"}),u&&s.jsx(Ht,{variant:"destructive",children:s.jsx(Kt,{children:u})}),r||n?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative border rounded-lg overflow-hidden",children:[s.jsx("img",{src:n||(r?URL.createObjectURL(r):""),alt:"Preview",className:"w-full h-48 object-cover"}),s.jsx(M,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:t,children:s.jsx(Kn,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:r?r.name:"Current image"})]}):s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${l?"border-kic-green-500 bg-kic-green-50":"border-gray-300"}`,onDrop:p,onDragOver:y,onDragLeave:b,children:[s.jsx(TS,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"Drag and drop an image here, or"}),s.jsx(re,{type:"file",accept:i,onChange:g,className:"hidden",id:"image-upload"}),s.jsx(W,{htmlFor:"image-upload",asChild:!0,children:s.jsxs(M,{type:"button",variant:"outline",className:"cursor-pointer",children:[s.jsx(Qm,{className:"h-4 w-4 mr-2"}),"Choose Image"]})}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Maximum file size: ",a,"MB"]})]})]})},_me=({selectedImage:e,onImageSelect:t,onImageRemove:r,previewUrl:n})=>s.jsx(_7,{onImageSelect:t,onImageRemove:r,selectedImage:e,previewUrl:n,maxSize:5,className:"mb-4"}),Sme=({title:e,setTitle:t,description:r,setDescription:n,date:a,setDate:i,location:o,setLocation:l,price:c,setPrice:u,maxAttendees:d,setMaxAttendees:h,requiresRegistration:f,setRequiresRegistration:m,visibility:g,setVisibility:p,isPublished:y,setIsPublished:b})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Title *"}),s.jsx(re,{id:"title",value:e,onChange:v=>t(v.target.value),placeholder:"Event title"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"location",children:"Location *"}),s.jsx(re,{id:"location",value:o,onChange:v=>l(v.target.value),placeholder:"Event location"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description *"}),s.jsx(ct,{id:"description",value:r,onChange:v=>n(v.target.value),placeholder:"Event description",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"date",children:"Date & Time *"}),s.jsx(re,{id:"date",type:"datetime-local",value:a,onChange:v=>i(v.target.value)})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"price",children:"Price (KSh)"}),s.jsx(re,{id:"price",type:"number",value:c,onChange:v=>u(Number(v.target.value)),min:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"maxAttendees",children:"Max Attendees"}),s.jsx(re,{id:"maxAttendees",type:"number",value:d||"",onChange:v=>h(v.target.value?Number(v.target.value):void 0),placeholder:"Unlimited",min:"1"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"visibility",children:"Visibility"}),s.jsxs(Ie,{value:g,onValueChange:p,children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"everyone",children:"Everyone"}),s.jsx(G,{value:"members",children:"Members Only"})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gl,{id:"requiresRegistration",checked:f,onCheckedChange:m}),s.jsx(W,{htmlFor:"requiresRegistration",children:"Requires Registration"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gl,{id:"isPublished",checked:y,onCheckedChange:b}),s.jsx(W,{htmlFor:"isPublished",children:"Publish Immediately"})]})]})]}),kme=({onSubmit:e,onCancel:t,submitting:r,isEditing:n})=>s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(M,{onClick:e,disabled:r,className:"flex-1",children:r?"Saving...":n?"Update Event":"Create Event"}),s.jsx(M,{variant:"outline",onClick:t,children:"Cancel"})]}),Cme=({open:e,onOpenChange:t,editingEvent:r,onEventSaved:n})=>{const{title:a,setTitle:i,description:o,setDescription:l,date:c,setDate:u,location:d,setLocation:h,price:f,setPrice:m,maxAttendees:g,setMaxAttendees:p,requiresRegistration:y,setRequiresRegistration:b,visibility:v,setVisibility:w,isPublished:j,setIsPublished:N,submitting:S,selectedImage:_,setSelectedImage:k,resetForm:C,loadEventData:P,handleSubmit:E}=Nme(r,n,()=>t(!1)),T=F=>{F&&r?P():F||C(),t(F)};return s.jsx(pt,{open:e,onOpenChange:T,children:s.jsxs(yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(wt,{children:r?"Edit Event":"Create New Event"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(_me,{selectedImage:_,onImageSelect:k,onImageRemove:()=>k(null),previewUrl:r==null?void 0:r.image_url}),s.jsx(Sme,{title:a,setTitle:i,description:o,setDescription:l,date:c,setDate:u,location:d,setLocation:h,price:f,setPrice:m,maxAttendees:g,setMaxAttendees:p,requiresRegistration:y,setRequiresRegistration:b,visibility:v,setVisibility:w,isPublished:j,setIsPublished:N}),s.jsx(kme,{onSubmit:E,onCancel:()=>T(!1),submitting:S,isEditing:!!r})]})]})})},Pme=({onCreateEvent:e})=>s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center justify-between",children:["Event Management",s.jsxs(M,{className:"flex items-center gap-2",onClick:e,children:[s.jsx(Bt,{className:"h-4 w-4"}),"Create Event"]})]}),s.jsx(ut,{children:"Create and manage events with advanced controls"})]}),Ame=({event:e,onEdit:t,onDelete:r,onTogglePublish:n})=>{const a=new Date(e.date)>=new Date,i=new Date(e.date)<new Date;return s.jsx("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:e.image_url?s.jsx("img",{src:e.image_url,alt:e.title,className:"w-24 h-24 object-cover rounded-lg border"}):s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-kic-green-100 to-kic-green-200 rounded-lg flex items-center justify-center border",children:s.jsx(Ae,{className:"h-8 w-8 text-kic-green-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex items-start justify-between mb-3",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 truncate mb-2",children:e.title}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(H,{variant:e.is_published?"default":"secondary",children:e.is_published?"Published":"Draft"}),s.jsx(H,{variant:"outline",className:e.visibility==="everyone"?"border-blue-300 text-blue-700":"border-purple-300 text-purple-700",children:e.visibility==="everyone"?"Public":"Members Only"}),e.requires_registration&&s.jsx(H,{variant:"outline",className:"border-orange-300 text-orange-700",children:"Registration Required"}),i&&s.jsx(H,{variant:"outline",className:"border-gray-300 text-gray-600",children:"Past Event"}),a&&s.jsx(H,{variant:"outline",className:"border-green-300 text-green-700",children:"Upcoming"})]})]})}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-kic-green-600"}),s.jsx("span",{children:ui(new Date(e.date),"MMM dd, yyyy")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-4 w-4 text-kic-green-600"}),s.jsx("span",{children:ui(new Date(e.date),"h:mm a")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mo,{className:"h-4 w-4 text-kic-green-600"}),s.jsx("span",{className:"truncate",children:e.location})]}),e.max_attendees&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-kic-green-600"}),s.jsxs("span",{children:["Max ",e.max_attendees," attendees"]})]}),e.price>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{className:"h-4 w-4 text-kic-green-600"}),s.jsxs("span",{className:"font-medium text-kic-green-700",children:["KSh ",e.price]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>n(e),className:"flex items-center gap-2 min-w-0",children:[e.is_published?s.jsx(X$,{className:"h-4 w-4"}):s.jsx(Or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:e.is_published?"Unpublish":"Publish"})]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>t(e),className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>r(e.id),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:border-red-300",children:[s.jsx(en,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})})},Eme=({onCreateEvent:e})=>s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"bg-gradient-to-br from-kic-green-100 to-kic-green-200 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:s.jsx(Ae,{className:"h-10 w-10 text-kic-green-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No events found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Get started by creating your first event to engage with your community members."}),e&&s.jsxs(M,{onClick:e,className:"bg-kic-green-500 hover:bg-kic-green-600 text-white",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Create Your First Event"]}),s.jsxs("div",{className:"mt-8 text-sm text-gray-500",children:[s.jsx("p",{children:"Events help you:"}),s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[s.jsx("li",{children:"Engage with community members"}),s.jsx("li",{children:"Share knowledge through workshops"}),s.jsx("li",{children:"Build networking opportunities"}),s.jsx("li",{children:"Track attendance and participation"})]})]})]})}),Tme=({events:e,onEdit:t,onDelete:r,onTogglePublish:n,onCreateEvent:a})=>{if(e.length===0)return s.jsx(Eme,{onCreateEvent:a});const i=[...e].sort((o,l)=>{const c=new Date(o.date),u=new Date(l.date),d=new Date,h=c>=d,f=u>=d;return h&&!f?-1:!h&&f?1:h?c.getTime()-u.getTime():u.getTime()-c.getTime()});return s.jsx("div",{className:"space-y-6",children:i.map(o=>s.jsx(Ame,{event:o,onEdit:t,onDelete:r,onTogglePublish:n},o.id))})},Ome=()=>{const{toast:e}=xe(),[t,r]=x.useState([]),[n,a]=x.useState(!0),i=async()=>{try{const{data:c,error:u}=await A.from("events").select("*").order("date",{ascending:!1});if(u)throw u;r(c||[])}catch(c){console.error("Error fetching events:",c),e({title:"Error",description:"Failed to load events",variant:"destructive"})}finally{a(!1)}},o=async c=>{if(confirm("Are you sure you want to delete this event?"))try{const{error:u}=await A.from("events").delete().eq("id",c);if(u)throw u;e({title:"Event deleted",description:"Event has been deleted successfully"}),await i()}catch(u){console.error("Error deleting event:",u),e({title:"Error",description:"Failed to delete event",variant:"destructive"})}},l=async c=>{try{const u=!c.is_published,{error:d}=await A.from("events").update({is_published:u,status:u?"published":"draft"}).eq("id",c.id);if(d)throw d;e({title:u?"Event published":"Event unpublished",description:`Event is now ${u?"visible to members":"hidden from members"}`}),await i()}catch(u){console.error("Error updating event status:",u),e({title:"Error",description:"Failed to update event status",variant:"destructive"})}};return x.useEffect(()=>{i()},[]),{events:t,loading:n,fetchEvents:i,deleteEvent:o,togglePublishStatus:l}},Mme=()=>{const{events:e,loading:t,fetchEvents:r,deleteEvent:n,togglePublishStatus:a}=Ome(),[i,o]=x.useState(!1),[l,c]=x.useState(null),[u,d]=x.useState(""),[h,f]=x.useState("all"),[m,g]=x.useState("all"),p=_=>{c(_),o(!0)},y=()=>{o(!1),c(null)},b=()=>{c(null),o(!0)},v=e.filter(_=>{const k=_.title.toLowerCase().includes(u.toLowerCase())||_.description.toLowerCase().includes(u.toLowerCase())||_.location.toLowerCase().includes(u.toLowerCase()),C=h==="all"||h==="published"&&_.is_published||h==="draft"&&!_.is_published,P=m==="all"||_.visibility===m;return k&&C&&P}),w=e.length,j=e.filter(_=>_.is_published).length,N=e.filter(_=>!_.is_published).length,S=e.filter(_=>new Date(_.date)>=new Date).length;return t?s.jsx(R,{children:s.jsx(L,{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-kic-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})})}):s.jsxs(R,{children:[s.jsx(Pme,{onCreateEvent:b}),s.jsxs(L,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Events"}),s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:w})]})]})}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Published"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:j})]})]})}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Drafts"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:N})]})]})}),s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Upcoming"}),s.jsx("p",{className:"text-2xl font-bold text-purple-700",children:S})]})]})})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(re,{placeholder:"Search events by title, description, or location...",value:u,onChange:_=>d(_.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ie,{value:h,onValueChange:f,children:[s.jsxs(Me,{className:"w-40",children:[s.jsx(Vl,{className:"h-4 w-4 mr-2"}),s.jsx(Le,{placeholder:"Status"})]}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Status"}),s.jsx(G,{value:"published",children:"Published"}),s.jsx(G,{value:"draft",children:"Draft"})]})]}),s.jsxs(Ie,{value:m,onValueChange:g,children:[s.jsxs(Me,{className:"w-40",children:[s.jsx(Vl,{className:"h-4 w-4 mr-2"}),s.jsx(Le,{placeholder:"Visibility"})]}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Visibility"}),s.jsx(G,{value:"everyone",children:"Public"}),s.jsx(G,{value:"members",children:"Members Only"})]})]})]})]}),(u||h!=="all"||m!=="all")&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",v.length," of ",w," events"]}),s.jsx(M,{variant:"outline",size:"sm",onClick:()=>{d(""),f("all"),g("all")},children:"Clear Filters"})]}),s.jsx(Tme,{events:v,onEdit:p,onDelete:n,onTogglePublish:a})]}),s.jsx(Cme,{open:i,onOpenChange:y,editingEvent:l,onEventSaved:r})]})},Rme=()=>s.jsx(Mme,{}),Dme=()=>s.jsxs(s.Fragment,{children:[s.jsx(de,{value:"projects",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requirePermission:"project_review",children:s.jsx(jme,{})})}),s.jsx(de,{value:"events",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requirePermission:"event_manage",children:s.jsx(Rme,{})})})]}),$me=({stats:e})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(R,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["KSh ",e.totalAmount.toLocaleString()]})]}),s.jsx(Bn,{className:"w-8 h-8 text-green-500"})]})})}),s.jsx(R,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.totalCount})]}),s.jsx(gi,{className:"w-8 h-8 text-blue-500"})]})})}),s.jsx(R,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.pendingCount})]}),s.jsx(Ae,{className:"w-8 h-8 text-yellow-500"})]})})}),s.jsx(R,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Failed"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.failedCount})]}),s.jsx(Or,{className:"w-8 h-8 text-red-500"})]})})})]}),Ime=({loading:e,onRefresh:t,onExport:r})=>s.jsx(Z,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(gi,{className:"w-5 h-5"}),"Payment Tracking"]}),s.jsx(ut,{children:"Monitor and manage all M-PESA payments"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:t,disabled:e,children:[s.jsx(Wf,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`}),"Refresh"]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:r,children:[s.jsx(Ym,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]})}),Lme=({searchQuery:e,statusFilter:t,typeFilter:r,onSearchChange:n,onStatusChange:a,onTypeChange:i})=>s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(re,{placeholder:"Search by transaction ID, phone, name, or email...",value:e,onChange:o=>n(o.target.value),className:"pl-10"})]}),s.jsxs(Ie,{value:t,onValueChange:a,children:[s.jsx(Me,{className:"w-full sm:w-[140px]",children:s.jsx(Le,{placeholder:"Status"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Status"}),s.jsx(G,{value:"completed",children:"Completed"}),s.jsx(G,{value:"pending",children:"Pending"}),s.jsx(G,{value:"failed",children:"Failed"})]})]}),s.jsxs(Ie,{value:r,onValueChange:i,children:[s.jsx(Me,{className:"w-full sm:w-[140px]",children:s.jsx(Le,{placeholder:"Type"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Types"}),s.jsx(G,{value:"membership",children:"Membership"}),s.jsx(G,{value:"event",children:"Event"})]})]})]}),Fme=({payment:e})=>{var n,a;const t=i=>{switch(i){case"completed":return s.jsx(H,{className:"bg-green-100 text-green-800",children:"Completed"});case"failed":return s.jsx(H,{variant:"destructive",children:"Failed"});case"pending":return s.jsx(H,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});default:return s.jsx(H,{variant:"secondary",children:i})}},r=i=>{switch(i.toLowerCase()){case"membership":return s.jsx(Oe,{className:"w-4 h-4 text-blue-500"});case"event":return s.jsx(Ae,{className:"w-4 h-4 text-purple-500"});default:return s.jsx(gi,{className:"w-4 h-4 text-gray-500"})}};return s.jsxs(Fs,{className:"hover:bg-gray-50",children:[s.jsxs(rt,{className:"font-medium",children:[ui(new Date(e.created_at),"MMM d, yyyy"),s.jsx("br",{}),s.jsx("span",{className:"text-xs text-gray-500",children:ui(new Date(e.created_at),"h:mm a")})]}),s.jsx(rt,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:((n=e.members)==null?void 0:n.name)||"N/A"}),s.jsx("p",{className:"text-xs text-gray-500",children:((a=e.members)==null?void 0:a.email)||"N/A"})]})}),s.jsxs(rt,{className:"font-semibold text-green-600",children:["KSh ",Number(e.amount).toLocaleString()]}),s.jsx(rt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[r(e.payment_type),s.jsx("span",{className:"capitalize",children:e.payment_type})]})}),s.jsx(rt,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-mono text-xs",children:e.transaction_id||"N/A"}),e.mpesa_receipt_number&&s.jsx("p",{className:"font-mono text-xs text-gray-500",children:e.mpesa_receipt_number})]})}),s.jsx(rt,{children:e.phone_number}),s.jsx(rt,{children:t(e.status)}),s.jsx(rt,{children:s.jsx(M,{variant:"ghost",size:"sm",children:s.jsx(Or,{className:"w-4 h-4"})})})]})},Bme=({payments:e,loading:t})=>s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(yp,{children:[s.jsx(bp,{children:s.jsxs(Fs,{children:[s.jsx(lt,{children:"Date & Time"}),s.jsx(lt,{children:"Member"}),s.jsx(lt,{children:"Amount"}),s.jsx(lt,{children:"Type"}),s.jsx(lt,{children:"Transaction ID"}),s.jsx(lt,{children:"Phone"}),s.jsx(lt,{children:"Status"}),s.jsx(lt,{children:"Actions"})]})}),s.jsx(wp,{children:t?s.jsx(Fs,{children:s.jsxs(rt,{colSpan:8,className:"text-center py-8",children:[s.jsx(Wf,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading payments..."]})}):e.length===0?s.jsx(Fs,{children:s.jsx(rt,{colSpan:8,className:"text-center py-8 text-gray-500",children:"No payments found matching your criteria"})}):e.map(r=>s.jsx(Fme,{payment:r},r.id))})]})}),Ume=e=>{const[t,r]=x.useState(e),[n,a]=x.useState(!1),{toast:i}=xe(),o=async()=>{a(!0);try{const{data:l,error:c}=await A.from("mpesa_payments").select(`
          *,
          members!left (
            name,
            email
          )
        `).order("created_at",{ascending:!1});if(c)throw c;const u=(l||[]).map(d=>{const h=d.members;return{...d,members:(m=>m!==null&&typeof m=="object"&&typeof m.name=="string"&&typeof m.email=="string")(h)?{name:h.name||"N/A",email:h.email||"N/A"}:null}});r(u)}catch(l){console.error("Error fetching payments:",l),i({title:"Error",description:"Failed to fetch payments",variant:"destructive"})}finally{a(!1)}};return x.useEffect(()=>{o()},[]),{payments:t,loading:n,fetchPayments:o}},zme=e=>{const[t,r]=x.useState(""),[n,a]=x.useState("all"),[i,o]=x.useState("all"),[l,c]=x.useState([]);x.useEffect(()=>{u()},[e,t,n,i]);const u=()=>{let d=e;t&&(d=d.filter(h=>{var f,m,g,p,y,b,v;return((f=h.transaction_id)==null?void 0:f.toLowerCase().includes(t.toLowerCase()))||((m=h.mpesa_receipt_number)==null?void 0:m.toLowerCase().includes(t.toLowerCase()))||((g=h.phone_number)==null?void 0:g.includes(t))||((y=(p=h.members)==null?void 0:p.name)==null?void 0:y.toLowerCase().includes(t.toLowerCase()))||((v=(b=h.members)==null?void 0:b.email)==null?void 0:v.toLowerCase().includes(t.toLowerCase()))})),n!=="all"&&(d=d.filter(h=>h.status===n)),i!=="all"&&(d=d.filter(h=>h.payment_type===i)),c(d)};return{searchQuery:t,statusFilter:n,typeFilter:i,filteredPayments:l,setSearchQuery:r,setStatusFilter:a,setTypeFilter:o}},Vme=e=>x.useMemo(()=>{const t=e.filter(o=>o.status==="completed"),r=t.reduce((o,l)=>o+Number(l.amount),0),n=t.length,a=e.filter(o=>o.status==="pending").length,i=e.filter(o=>o.status==="failed").length;return{totalAmount:r,totalCount:n,pendingCount:a,failedCount:i}},[e]),qme=()=>({exportPayments:t=>{const r=[["Date","Transaction ID","Amount","Phone","Type","Status","Member Name","Member Email"].join(","),...t.map(o=>{var l,c;return[ui(new Date(o.created_at),"yyyy-MM-dd HH:mm:ss"),o.transaction_id||"N/A",o.amount,o.phone_number,o.payment_type,o.status,((l=o.members)==null?void 0:l.name)||"N/A",((c=o.members)==null?void 0:c.email)||"N/A"].join(",")})].join(`
`),n=new Blob([r],{type:"text/csv"}),a=window.URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download=`payments_${ui(new Date,"yyyy-MM-dd")}.csv`,i.click(),window.URL.revokeObjectURL(a)}}),Wme=({payments:e})=>{const{payments:t,loading:r,fetchPayments:n}=Ume(e),{searchQuery:a,statusFilter:i,typeFilter:o,filteredPayments:l,setSearchQuery:c,setStatusFilter:u,setTypeFilter:d}=zme(t),h=Vme(l),{exportPayments:f}=qme(),m=()=>{f(l)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx($me,{stats:h}),s.jsxs(R,{children:[s.jsx(Ime,{loading:r,onRefresh:n,onExport:m}),s.jsxs(L,{children:[s.jsx(Lme,{searchQuery:a,statusFilter:i,typeFilter:o,onSearchChange:c,onStatusChange:u,onTypeChange:d}),s.jsx(Bme,{payments:l,loading:r}),l.length>0&&s.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Showing ",l.length," of ",t.length," payments"]})]})]})]})},Hme=()=>{const{toast:e}=xe(),[t,r]=x.useState(!1),[n,a]=x.useState(!1),[i,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(""),[h,f]=x.useState(!1),[m,g]=x.useState({configuration_name:"",business_short_code:"",consumer_key:"",consumer_secret:"",passkey:"",callback_url:"",environment:"sandbox",is_sandbox:!0});x.useEffect(()=>{p(),y()},[]);const p=async()=>{try{const{data:k,error:C}=await A.from("mpesa_configurations").select("*").order("created_at",{ascending:!1});if(C)throw C;o(k||[]);const P=k==null?void 0:k.find(E=>E.is_active);P&&!u&&(d(P.id),b(P))}catch(k){console.error("Error fetching configurations:",k),e({title:"Error",description:"Failed to fetch M-Pesa configurations",variant:"destructive"})}},y=async()=>{try{const{data:k,error:C}=await A.from("mpesa_configuration_audit").select("*").order("changed_at",{ascending:!1}).limit(50);if(C)throw C;c(k||[])}catch(k){console.error("Error fetching audit logs:",k)}},b=k=>{g({configuration_name:k.configuration_name,business_short_code:k.business_short_code,consumer_key:k.consumer_key,consumer_secret:k.consumer_secret,passkey:k.passkey,callback_url:k.callback_url,environment:k.environment,is_sandbox:k.is_sandbox})},v=k=>{d(k);const C=i.find(P=>P.id===k);C&&(b(C),f(!1))},w=()=>{f(!0),d(""),g({configuration_name:"",business_short_code:"",consumer_key:"",consumer_secret:"",passkey:"",callback_url:"",environment:"sandbox",is_sandbox:!0})},j=async k=>{var C;k.preventDefault(),r(!0);try{if(h){const{data:P,error:E}=await A.from("mpesa_configurations").insert([{...m,created_by:(C=(await A.auth.getUser()).data.user)==null?void 0:C.id}]).select().single();if(E)throw E;e({title:"Success",description:"M-Pesa configuration created successfully"}),await p(),d(P.id),f(!1)}else{const{error:P}=await A.from("mpesa_configurations").update(m).eq("id",u);if(P)throw P;e({title:"Success",description:"M-Pesa configuration updated successfully"}),await p()}await y()}catch(P){console.error("Error saving configuration:",P),e({title:"Error",description:"Failed to save M-Pesa configuration",variant:"destructive"})}finally{r(!1)}},N=async k=>{try{await A.from("mpesa_configurations").update({is_active:!1}).neq("id","00000000-0000-0000-0000-000000000000");const{error:C}=await A.from("mpesa_configurations").update({is_active:!0}).eq("id",k);if(C)throw C;e({title:"Success",description:"Configuration activated successfully"}),await p(),await y()}catch(C){console.error("Error activating configuration:",C),e({title:"Error",description:"Failed to activate configuration",variant:"destructive"})}},S=async k=>{if(confirm("Are you sure you want to delete this configuration? This action cannot be undone."))try{const{error:C}=await A.from("mpesa_configurations").delete().eq("id",k);if(C)throw C;e({title:"Success",description:"Configuration deleted successfully"}),await p(),await y(),u===k&&(d(""),f(!1))}catch(C){console.error("Error deleting configuration:",C),e({title:"Error",description:"Failed to delete configuration",variant:"destructive"})}},_=(k,C)=>{g(P=>({...P,[k]:C,...k==="environment"&&{is_sandbox:C==="sandbox"}}))};return s.jsx("div",{className:"space-y-6",children:s.jsxs(Mr,{defaultValue:"manage",className:"w-full",children:[s.jsxs(Yt,{className:"grid w-full grid-cols-2",children:[s.jsx(te,{value:"manage",children:"Manage Configurations"}),s.jsx(te,{value:"audit",children:"Audit Logs"})]}),s.jsx(de,{value:"manage",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-5 h-5"}),"Configurations"]}),s.jsxs(M,{onClick:w,size:"sm",children:[s.jsx(Bt,{className:"w-4 h-4 mr-2"}),"New"]})]})}),s.jsxs(L,{className:"space-y-2",children:[i.map(k=>s.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${u===k.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>v(k.id),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:k.configuration_name}),s.jsx("p",{className:"text-sm text-gray-500",children:k.environment})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[k.is_active&&s.jsx(H,{variant:"default",className:"text-xs",children:"Active"}),s.jsx(M,{variant:"ghost",size:"sm",onClick:C=>{C.stopPropagation(),S(k.id)},children:s.jsx(en,{className:"w-4 h-4 text-red-500"})})]})]})},k.id)),i.length===0&&s.jsx("p",{className:"text-center text-gray-500 py-4",children:"No configurations found"})]})]}),s.jsxs(R,{className:"lg:col-span-2",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-5 h-5"}),h?"Create New Configuration":"Edit Configuration"]})}),s.jsxs(L,{children:[s.jsxs(Ht,{className:"mb-6",children:[s.jsx(cc,{className:"w-4 h-4"}),s.jsx(Kt,{children:"Configure your M-Pesa Daraja API credentials. These settings are required for payment processing. Get your credentials from the Safaricom Developer Portal."})]}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"configuration_name",children:"Configuration Name"}),s.jsx(re,{id:"configuration_name",value:m.configuration_name,onChange:k=>_("configuration_name",k.target.value),placeholder:"e.g., Production Config, Test Config",required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"environment",children:"Environment"}),s.jsxs(Ie,{value:m.environment,onValueChange:k=>_("environment",k),children:[s.jsx(Me,{children:s.jsx(Le,{placeholder:"Select environment"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"sandbox",children:"Sandbox"}),s.jsx(G,{value:"production",children:"Production"})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"business_short_code",children:"Business Short Code"}),s.jsx(re,{id:"business_short_code",value:m.business_short_code,onChange:k=>_("business_short_code",k.target.value),placeholder:"174379",required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"consumer_key",children:"Consumer Key"}),s.jsxs("div",{className:"relative",children:[s.jsx(re,{id:"consumer_key",type:n?"text":"password",value:m.consumer_key,onChange:k=>_("consumer_key",k.target.value),placeholder:"Your consumer key",required:!0}),s.jsx(M,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2",onClick:()=>a(!n),children:n?s.jsx(X$,{className:"w-4 h-4"}):s.jsx(Or,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"consumer_secret",children:"Consumer Secret"}),s.jsx(re,{id:"consumer_secret",type:n?"text":"password",value:m.consumer_secret,onChange:k=>_("consumer_secret",k.target.value),placeholder:"Your consumer secret",required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"passkey",children:"Passkey"}),s.jsx(re,{id:"passkey",type:n?"text":"password",value:m.passkey,onChange:k=>_("passkey",k.target.value),placeholder:"Your passkey",required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"callback_url",children:"Callback URL"}),s.jsx(re,{id:"callback_url",value:m.callback_url,onChange:k=>_("callback_url",k.target.value),placeholder:"https://your-domain.com/api/mpesa-callback",required:!0})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M,{type:"submit",disabled:t,children:[s.jsx(Ty,{className:"w-4 h-4 mr-2"}),t?"Saving...":h?"Create Configuration":"Update Configuration"]}),!h&&u&&s.jsx(M,{type:"button",variant:"outline",onClick:()=>N(u),children:"Activate Configuration"})]})]})]})]})]})}),s.jsx(de,{value:"audit",children:s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(uee,{className:"w-5 h-5"}),"Configuration Audit Logs"]})}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-4",children:[l.map(k=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(H,{variant:k.action==="created"?"default":k.action==="updated"?"secondary":k.action==="deleted"?"destructive":"outline",children:k.action.toUpperCase()}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(k.changed_at).toLocaleString()})]}),s.jsx("p",{className:"text-sm",children:k.change_description})]},k.id)),l.length===0&&s.jsx("p",{className:"text-center text-gray-500 py-8",children:"No audit logs found"})]})})]})})]})})},Kme=()=>s.jsxs(s.Fragment,{children:[s.jsx(de,{value:"payments",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requirePermission:"payment_processing",children:s.jsx(Wme,{payments:[]})})}),s.jsx(de,{value:"mpesa-config",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requiredRole:"finance_admin",children:s.jsx(Hme,{})})})]}),Gme=e=>{const{user:t}=ye(),[r,n]=x.useState(!1),[a,i]=x.useState({member_id:"",event_id:"",certificate_type:"completion",custom_fields:{}}),[o,l]=x.useState(null),[c,u]=x.useState([]),[d,h]=x.useState([]);x.useEffect(()=>{f()},[]);const f=async()=>{try{const[g,p]=await Promise.all([A.from("members").select("id, name, email").eq("registration_status","approved"),A.from("events").select("id, title, date")]);g.data&&u(g.data),p.data&&h(p.data)}catch(g){console.error("Error fetching data:",g),ar.error("Failed to load members and events")}};return{uploading:r,formData:a,setFormData:i,file:o,setFile:l,members:c,events:d,uploadCertificate:async()=>{if(!o||!a.member_id){ar.error("Please select a file and member");return}n(!0);try{const g=`${Date.now()}_${o.name}`,{data:p,error:y}=await A.storage.from("certificates").upload(g,o);if(y)throw y;const{data:b}=A.storage.from("certificates").getPublicUrl(g),{error:v}=await A.from("certificates").insert({user_id:a.member_id,event_id:a.event_id||null,certificate_url:b.publicUrl,certificate_type:a.certificate_type,created_by:t==null?void 0:t.id,issue_date:new Date().toISOString(),metadata:a.custom_fields});if(v)throw v;ar.success("Certificate uploaded successfully!"),l(null),i({member_id:"",event_id:"",certificate_type:"completion",custom_fields:{}}),e==null||e()}catch(g){console.error("Error uploading certificate:",g),ar.error("Failed to upload certificate")}finally{n(!1)}}}},Yme=({formData:e,members:t,events:r,onFormDataChange:n})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"member",children:"Select Member"}),s.jsxs(Ie,{value:e.member_id,onValueChange:a=>n({...e,member_id:a}),children:[s.jsx(Me,{children:s.jsx(Le,{placeholder:"Choose a member"})}),s.jsx(Re,{children:t.map(a=>s.jsxs(G,{value:a.id,children:[a.name," (",a.email,")"]},a.id))})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"event",children:"Event (Optional)"}),s.jsxs(Ie,{value:e.event_id,onValueChange:a=>n({...e,event_id:a==="no-event"?"":a}),children:[s.jsx(Me,{children:s.jsx(Le,{placeholder:"Choose an event"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"no-event",children:"No specific event"}),r.map(a=>s.jsxs(G,{value:a.id,children:[a.title," (",new Date(a.date).toLocaleDateString(),")"]},a.id))]})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"type",children:"Certificate Type"}),s.jsxs(Ie,{value:e.certificate_type,onValueChange:a=>n({...e,certificate_type:a}),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"completion",children:"Completion Certificate"}),s.jsx(G,{value:"participation",children:"Participation Certificate"}),s.jsx(G,{value:"achievement",children:"Achievement Award"}),s.jsx(G,{value:"membership",children:"Membership Certificate"})]})]})]})]}),Xme=({file:e,onFileChange:t})=>{const r=n=>{var i;const a=(i=n.target.files)==null?void 0:i[0];a&&(a.type==="application/pdf"||a.type.startsWith("image/")?t(a):ar.error("Please select a PDF or image file"))};return s.jsxs("div",{children:[s.jsx(W,{htmlFor:"file",children:"Certificate File"}),s.jsx(re,{type:"file",accept:".pdf,image/*",onChange:r,className:"cursor-pointer"}),e&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Selected: ",e.name," (",(e.size/1024/1024).toFixed(2)," MB)"]})]})},Qme=({onSuccess:e})=>{const{uploading:t,formData:r,setFormData:n,file:a,setFile:i,members:o,events:l,uploadCertificate:c}=Gme(e);return s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Qm,{className:"h-5 w-5"}),"Upload Certificate"]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsx(Yme,{formData:r,members:o,events:l,onFormDataChange:n}),s.jsx(Xme,{file:a,onFileChange:i}),s.jsx(M,{onClick:c,disabled:t||!a||!r.member_id,className:"w-full",children:t?"Uploading...":"Upload Certificate"})]})]})},Jme=()=>{$o();const[e,t]=x.useState(0),r=()=>{t(n=>n+1)};return s.jsx(fr,{requirePermission:"certificate_upload",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(lr,{className:"h-5 w-5"}),"Certificate Management"]})}),s.jsx(L,{children:s.jsxs(Mr,{defaultValue:"upload",className:"w-full",children:[s.jsxs(Yt,{className:"grid w-full grid-cols-2",children:[s.jsxs(te,{value:"upload",className:"flex items-center gap-2",children:[s.jsx(Qm,{className:"h-4 w-4"}),"Upload Certificates"]}),s.jsxs(te,{value:"manage",className:"flex items-center gap-2",children:[s.jsx(lr,{className:"h-4 w-4"}),"Manage Certificates"]})]}),s.jsx(de,{value:"upload",className:"space-y-4",children:s.jsx(Qme,{onSuccess:r})}),s.jsx(de,{value:"manage",className:"space-y-4",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(lr,{className:"mx-auto h-12 w-12 text-muted-foreground"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"Certificate Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Certificate management features will be available here."})]})})]})})]})})})},Zme=()=>{const{toast:e}=xe(),{user:t}=ye(),[r,n]=x.useState([]),[a,i]=x.useState(!0),[o,l]=x.useState(null),[c,u]=x.useState(!1);x.useEffect(()=>{d()},[]);const d=async()=>{try{i(!0);const{data:p,error:y}=await A.from("blogs").select("*").order("created_at",{ascending:!1});if(y)throw y;const b=await Promise.all((p||[]).map(async v=>{const{data:w}=await A.from("members").select("name").eq("user_id",v.user_id).single();let j=null;if(v.verified_by){const{data:_}=await A.from("members").select("name").eq("user_id",v.verified_by).single();j=_==null?void 0:_.name}const{data:N}=await A.from("blog_attachments").select("*").eq("blog_id",v.id),S=(N||[]).map(_=>({..._,file_type:_.file_type}));return{...v,author_name:(w==null?void 0:w.name)||"Unknown Author",verifier_name:j,attachments:S}}));n(b)}catch(p){console.error("Error fetching blogs:",p),e({title:"Error",description:"Failed to load blogs",variant:"destructive"})}finally{i(!1)}},h=async(p,y)=>{if(t){u(!0);try{const{error:b}=await A.from("blogs").update({status:y,admin_verified:y==="published",verified_by:t.id,verified_at:new Date().toISOString(),published_at:y==="published"?new Date().toISOString():null}).eq("id",p);if(b)throw b;e({title:y==="published"?"Blog approved":"Blog rejected",description:`Blog has been ${y}`}),l(null),await d()}catch(b){console.error("Error reviewing blog:",b),e({title:"Error",description:`Failed to ${y} blog`,variant:"destructive"})}finally{u(!1)}}},f=async p=>{if(t)try{const{error:y}=await A.from("blogs").delete().eq("id",p);if(y)throw y;e({title:"Blog deleted",description:"Blog has been permanently removed"}),l(null),await d()}catch(y){console.error("Error deleting blog:",y),e({title:"Error",description:"Failed to delete blog",variant:"destructive"})}},m=p=>{switch(p){case"pending":return s.jsxs(H,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(vt,{className:"h-3 w-3"}),"Pending"]});case"published":return s.jsxs(H,{className:"flex items-center gap-1 bg-green-500 hover:bg-green-600",children:[s.jsx(Ze,{className:"h-3 w-3"}),"Published"]});case"rejected":return s.jsxs(H,{variant:"destructive",className:"flex items-center gap-1",children:[s.jsx(jr,{className:"h-3 w-3"}),"Rejected"]});default:return s.jsx(H,{variant:"secondary",children:p})}},g=p=>(p/1024/1024).toFixed(1)+"MB";return a?s.jsx("div",{className:"text-center py-8",children:"Loading blogs..."}):s.jsxs(R,{children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Fr,{className:"w-5 h-5"}),"Blog Management"]}),s.jsx(ut,{children:"Review and manage blog posts submitted by members"})]}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-4",children:[r.map(p=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-medium truncate",children:p.title}),m(p.status)]}),s.jsxs("div",{className:"flex items-center gap-1 mb-2 text-sm text-muted-foreground",children:[s.jsx(ir,{className:"h-3 w-3"}),s.jsxs("span",{children:["By ",p.author_name]})]}),p.excerpt&&s.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:p.excerpt}),p.attachments&&p.attachments.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:p.attachments.map(y=>s.jsxs("div",{className:"flex items-center gap-1 text-xs bg-gray-100 rounded px-2 py-1",children:[y.file_type==="image"?s.jsx(TS,{className:"h-3 w-3 text-blue-500"}):s.jsx(Jm,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{children:y.file_name}),s.jsxs("span",{className:"text-gray-500",children:["(",g(y.file_size),")"]})]},y.id))}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Views: ",p.view_count||0]}),s.jsxs("span",{children:["Created: ",new Date(p.created_at).toLocaleDateString()]}),p.tags&&p.tags.length>0&&s.jsxs("span",{children:["Tags: ",p.tags.join(", ")]})]}),(p.status==="published"||p.status==="rejected")&&p.verifier_name&&p.verified_at&&s.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground bg-muted p-2 rounded",children:[s.jsx(Ae,{className:"h-3 w-3"}),s.jsxs("span",{children:[p.status==="published"?"Approved":"Rejected"," by ",p.verifier_name," on"," ",new Date(p.verified_at).toLocaleDateString()," at"," ",new Date(p.verified_at).toLocaleTimeString()]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(pt,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>l(p),children:[s.jsx(Or,{className:"h-4 w-4 mr-1"}),p.status==="pending"?"Review":"View"]})}),s.jsxs(yt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Blog Post Details"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Title:"})," ",p.title]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Author:"})," ",p.author_name]}),p.excerpt&&s.jsxs("div",{children:[s.jsx("strong",{children:"Excerpt:"}),s.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:p.excerpt})]}),p.attachments&&p.attachments.length>0&&s.jsxs("div",{children:[s.jsx("strong",{children:"Attachments:"}),s.jsx("div",{className:"mt-2 space-y-2",children:p.attachments.map(y=>s.jsxs("div",{className:"border rounded p-2",children:[y.file_type==="image"?s.jsx("img",{src:y.file_url,alt:y.file_name||"Attachment",className:"max-h-64 w-auto rounded"}):s.jsx("video",{src:y.file_url,controls:!0,className:"max-h-64 w-auto rounded"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[y.file_name," (",g(y.file_size),")"]})]},y.id))})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Content:"}),s.jsx("div",{className:"mt-1 p-3 bg-muted rounded-md text-sm max-h-60 overflow-y-auto whitespace-pre-wrap",children:p.content})]}),p.tags&&p.tags.length>0&&s.jsxs("div",{children:[s.jsx("strong",{children:"Tags:"})," ",p.tags.join(", ")]}),(p.status==="published"||p.status==="rejected")&&p.verifier_name&&p.verified_at&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("strong",{children:"Verification Details:"}),s.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:[p.status==="published"?"Approved":"Rejected"," by ",s.jsx("span",{className:"font-medium",children:p.verifier_name}),s.jsx("br",{}),"Date: ",new Date(p.verified_at).toLocaleDateString(),s.jsx("br",{}),"Time: ",new Date(p.verified_at).toLocaleTimeString()]})]}),p.status==="pending"&&s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(M,{onClick:()=>h(p.id,"published"),disabled:c,className:"flex-1 bg-green-600 hover:bg-green-700",children:c?"Processing...":"Approve & Publish"}),s.jsx(M,{onClick:()=>h(p.id,"rejected"),disabled:c,variant:"destructive",className:"flex-1",children:c?"Processing...":"Reject"})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs(M,{onClick:()=>f(p.id),variant:"destructive",size:"sm",className:"flex items-center gap-1",children:[s.jsx(en,{className:"h-4 w-4"}),"Delete Blog"]})})]})]})]})})]})},p.id)),r.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Fr,{className:"h-12 w-12 mx-auto mb-4 text-muted"}),s.jsx("p",{className:"text-muted-foreground",children:"No blog posts found."})]})]})})]})},epe=({opportunity:e,onSuccess:t})=>{const{user:r}=ye(),[n,a]=x.useState(!1),[i,o]=x.useState({title:"",company_name:"",type:"",location:"",remote:!1,description:"",requirements:"",salary_range:"",application_url:"",application_email:"",expires_at:""});return x.useEffect(()=>{e&&o({title:e.title||"",company_name:e.company_name||"",type:e.type||"",location:e.location||"",remote:e.remote||!1,description:e.description||"",requirements:e.requirements||"",salary_range:e.salary_range||"",application_url:e.application_url||"",application_email:e.application_email||"",expires_at:e.expires_at?new Date(e.expires_at).toISOString().split("T")[0]:""})},[e]),{formData:i,loading:n,handleSubmit:async u=>{if(u.preventDefault(),!!r){a(!0);try{const d={...i,posted_by:r.id,expires_at:i.expires_at?new Date(i.expires_at).toISOString():null};if(e){const{error:h}=await A.from("career_opportunities").update(d).eq("id",e.id);if(h)throw h;ar.success("Opportunity updated successfully!")}else{const{error:h}=await A.from("career_opportunities").insert(d);if(h)throw h;ar.success("Opportunity posted successfully!")}t()}catch(d){console.error("Error saving opportunity:",d),ar.error("Error saving opportunity")}finally{a(!1)}}},handleChange:(u,d)=>{o(h=>({...h,[u]:d}))}}},tpe=({formData:e,handleChange:t})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Job Title *"}),s.jsx(re,{id:"title",value:e.title,onChange:r=>t("title",r.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"company_name",children:"Company Name *"}),s.jsx(re,{id:"company_name",value:e.company_name,onChange:r=>t("company_name",r.target.value),required:!0})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"type",children:"Type *"}),s.jsxs(Ie,{value:e.type,onValueChange:r=>t("type",r),required:!0,children:[s.jsx(Me,{children:s.jsx(Le,{placeholder:"Select type"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"internship",children:"Internship"}),s.jsx(G,{value:"full_time",children:"Full Time"}),s.jsx(G,{value:"part_time",children:"Part Time"}),s.jsx(G,{value:"contract",children:"Contract"}),s.jsx(G,{value:"volunteer",children:"Volunteer"})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"location",children:"Location"}),s.jsx(re,{id:"location",value:e.location,onChange:r=>t("location",r.target.value),placeholder:"e.g. Nairobi, Kenya"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pk,{id:"remote",checked:e.remote,onCheckedChange:r=>t("remote",r)}),s.jsx(W,{htmlFor:"remote",children:"Remote work available"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description *"}),s.jsx(ct,{id:"description",value:e.description,onChange:r=>t("description",r.target.value),rows:4,required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"requirements",children:"Requirements"}),s.jsx(ct,{id:"requirements",value:e.requirements,onChange:r=>t("requirements",r.target.value),rows:3})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"salary_range",children:"Salary Range"}),s.jsx(re,{id:"salary_range",value:e.salary_range,onChange:r=>t("salary_range",r.target.value),placeholder:"e.g. $50,000 - $70,000"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"expires_at",children:"Application Deadline"}),s.jsx(re,{id:"expires_at",type:"date",value:e.expires_at,onChange:r=>t("expires_at",r.target.value)})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"application_url",children:"Application URL"}),s.jsx(re,{id:"application_url",type:"url",value:e.application_url,onChange:r=>t("application_url",r.target.value),placeholder:"https://company.com/apply"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"application_email",children:"Application Email"}),s.jsx(re,{id:"application_email",type:"email",value:e.application_email,onChange:r=>t("application_email",r.target.value),placeholder:"hr@company.com"})]})]})]}),rpe=({opportunity:e,onClose:t,onSuccess:r})=>{const{formData:n,loading:a,handleSubmit:i,handleChange:o}=epe({opportunity:e,onSuccess:r});return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs(R,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(ee,{children:[e?"Edit":"Post"," Career Opportunity"]}),s.jsx(M,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(Kn,{className:"h-4 w-4"})})]})}),s.jsx(L,{children:s.jsxs("form",{onSubmit:i,children:[s.jsx(tpe,{formData:n,handleChange:o}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(M,{type:"submit",disabled:a,children:a?e?"Updating...":"Posting...":e?"Update Opportunity":"Post Opportunity"}),s.jsx(M,{type:"button",variant:"outline",onClick:t,children:"Cancel"})]})]})})]})})},npe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),a=async()=>{try{const{data:l,error:c}=await A.from("career_opportunities").select(`
          *,
          members!inner(name)
        `).order("created_at",{ascending:!1});if(c)throw c;t(l||[])}catch(l){console.error("Error fetching opportunities:",l),ar.error("Error loading career opportunities")}finally{n(!1)}},i=async l=>{if(confirm("Are you sure you want to delete this opportunity?"))try{const{error:c}=await A.from("career_opportunities").delete().eq("id",l);if(c)throw c;ar.success("Opportunity deleted successfully"),a()}catch(c){console.error("Error deleting opportunity:",c),ar.error("Error deleting opportunity")}},o=async(l,c)=>{const u=c==="active"?"inactive":"active";try{const{error:d}=await A.from("career_opportunities").update({status:u}).eq("id",l);if(d)throw d;ar.success(`Opportunity ${u==="active"?"activated":"deactivated"}`),a()}catch(d){console.error("Error updating opportunity status:",d),ar.error("Error updating opportunity status")}};return x.useEffect(()=>{a()},[]),{opportunities:e,loading:r,fetchOpportunities:a,handleDeleteOpportunity:i,handleStatusToggle:o}},spe=({onPostNew:e})=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Career Opportunities Management"}),s.jsxs(M,{onClick:e,className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Post New Opportunity"]})]}),ape=({opportunity:e,onEdit:t,onDelete:r,onStatusToggle:n})=>{var o;const a=l=>({internship:"bg-blue-100 text-blue-800",full_time:"bg-green-100 text-green-800",part_time:"bg-yellow-100 text-yellow-800",contract:"bg-purple-100 text-purple-800",volunteer:"bg-orange-100 text-orange-800"})[l]||"bg-gray-100 text-gray-800",i=l=>l==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ee,{className:"text-lg",children:e.title}),s.jsx("p",{className:"text-gray-600",children:e.company_name})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{className:a(e.type),children:e.type.replace("_"," ").toUpperCase()}),s.jsx(H,{className:i(e.status),children:e.status.toUpperCase()})]})]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:e.description}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[e.location&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mo,{className:"h-4 w-4"}),e.location,e.remote&&" (Remote)"]}),e.salary_range&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ul,{className:"h-4 w-4"}),e.salary_range]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ae,{className:"h-4 w-4"}),"Posted ",new Date(e.created_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>t(e),children:[s.jsx(yo,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsx(M,{variant:"outline",size:"sm",onClick:()=>n(e.id,e.status),className:e.status==="active"?"text-red-600":"text-green-600",children:e.status==="active"?"Deactivate":"Activate"}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>r(e.id),className:"text-red-600",children:[s.jsx(en,{className:"h-4 w-4 mr-1"}),"Delete"]})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Posted by ",((o=e.members)==null?void 0:o.name)||"Unknown"]})]})]})},ipe=()=>s.jsx(R,{children:s.jsx(L,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No career opportunities posted yet."})})}),ope=()=>{const{opportunities:e,loading:t,fetchOpportunities:r,handleDeleteOpportunity:n,handleStatusToggle:a}=npe(),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=()=>{o(!0)},d=m=>{c(m)},h=()=>{o(!1),c(null)},f=()=>{o(!1),c(null),r()};return t?s.jsx("div",{children:"Loading career opportunities..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(spe,{onPostNew:u}),s.jsxs("div",{className:"grid gap-4",children:[e.map(m=>s.jsx(ape,{opportunity:m,onEdit:d,onDelete:n,onStatusToggle:a},m.id)),e.length===0&&s.jsx(ipe,{})]}),(i||l)&&s.jsx(rpe,{opportunity:l,onClose:h,onSuccess:f})]})},lpe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(null),[a,i]=x.useState([]),[o,l]=x.useState(""),[c,u]=x.useState(!0),[d,h]=x.useState(""),[f,m]=x.useState(!0),[g,p]=x.useState(!1),[y,b]=x.useState("all"),{user:v}=ye(),{toast:w}=xe();x.useEffect(()=>{j()},[y]);const j=async()=>{try{let $=A.from("submissions_with_stats").select("*").order("created_at",{ascending:!1});y!=="all"&&($=$.eq("submission_type",y));const{data:U,error:q}=await $;if(q)throw q;t(U||[])}catch($){console.error("Error fetching submissions:",$),w({title:"Error",description:"Failed to load submissions",variant:"destructive"})}finally{m(!1)}},N=async $=>{try{const{data:U,error:q}=await A.from("submission_responses").select("*").eq("submission_id",$).order("created_at",{ascending:!0});if(q)throw q;i(U||[])}catch(U){console.error("Error fetching responses:",U),w({title:"Error",description:"Failed to load responses",variant:"destructive"})}},S=$=>{n($),h($.status),N($.id)},_=async()=>{if(!(!r||!v||!o.trim())){p(!0);try{const{error:$}=await A.from("submission_responses").insert({submission_id:r.id,admin_id:v.id,response_content:o,is_public:c});if($)throw $;w({title:"Success",description:"Response submitted successfully"}),l(""),N(r.id),j()}catch($){console.error("Error submitting response:",$),w({title:"Error",description:"Failed to submit response",variant:"destructive"})}finally{p(!1)}}},k=async()=>{if(!(!r||!v||d===r.status))try{const $={status:d,updated_at:new Date().toISOString()};d==="resolved"&&($.resolved_at=new Date().toISOString(),$.resolved_by=v.id);const{error:U}=await A.from("user_submissions").update($).eq("id",r.id);if(U)throw U;w({title:"Success",description:"Status updated successfully"}),n({...r,status:d}),j()}catch($){console.error("Error updating status:",$),w({title:"Error",description:"Failed to update status",variant:"destructive"})}},C=$=>{switch($){case"pending":return s.jsx(vt,{className:"w-4 h-4 text-yellow-500"});case"in_progress":return s.jsx(An,{className:"w-4 h-4 text-blue-500"});case"resolved":return s.jsx(Ze,{className:"w-4 h-4 text-green-500"});case"closed":return s.jsx(jr,{className:"w-4 h-4 text-gray-500"});default:return s.jsx(vt,{className:"w-4 h-4 text-gray-400"})}},P=$=>{switch($){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},E=$=>{switch($){case 1:return"bg-green-100 text-green-800";case 2:return"bg-yellow-100 text-yellow-800";case 3:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},T=$=>{switch($){case 1:return"Low";case 2:return"Medium";case 3:return"High";default:return"Unknown"}},F=$=>{switch($){case"complaint":return"bg-red-100 text-red-800";case"recommendation":return"bg-blue-100 text-blue-800";case"thought":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},D=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return f?s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:[1,2,3].map($=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},$))})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Submissions Management"}),s.jsx("p",{className:"text-gray-600",children:"Review and respond to user complaints, recommendations, and thoughts"})]})}),s.jsxs(Mr,{value:y,onValueChange:$=>b($),children:[s.jsxs(Yt,{className:"grid w-full grid-cols-4",children:[s.jsxs(te,{value:"all",children:["All (",e.length,")"]}),s.jsx(te,{value:"complaint",children:"Complaints"}),s.jsx(te,{value:"recommendation",children:"Recommendations"}),s.jsx(te,{value:"thought",children:"Thoughts"})]}),s.jsx(de,{value:y,className:"mt-6",children:s.jsx(R,{children:s.jsxs(L,{className:"p-0",children:[s.jsxs(yp,{children:[s.jsx(bp,{children:s.jsxs(Fs,{children:[s.jsx(lt,{children:"Title"}),s.jsx(lt,{children:"Type"}),s.jsx(lt,{children:"Status"}),s.jsx(lt,{children:"Priority"}),s.jsx(lt,{children:"Submitter"}),s.jsx(lt,{children:"Created"}),s.jsx(lt,{children:"Responses"}),s.jsx(lt,{children:"Actions"})]})}),s.jsx(wp,{children:e.map($=>s.jsxs(Fs,{children:[s.jsxs(rt,{className:"font-medium",children:[$.title,$.is_anonymous&&s.jsxs(H,{variant:"outline",className:"ml-2",children:[s.jsx(ir,{className:"w-3 h-3 mr-1"}),"Anonymous"]})]}),s.jsx(rt,{children:s.jsx(H,{className:F($.submission_type),children:$.submission_type})}),s.jsx(rt,{children:s.jsxs(H,{className:P($.status),children:[C($.status),s.jsx("span",{className:"ml-1 capitalize",children:$.status.replace("_"," ")})]})}),s.jsx(rt,{children:s.jsx(H,{className:E($.priority),children:T($.priority)})}),s.jsx(rt,{children:$.is_anonymous?"Anonymous":$.submitter_name||"Unknown"}),s.jsx(rt,{children:D($.created_at)}),s.jsx(rt,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Wl,{className:"w-4 h-4"}),$.response_count]})}),s.jsx(rt,{children:s.jsxs(pt,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>S($),children:[s.jsx(Or,{className:"w-4 h-4 mr-2"}),"View"]})}),s.jsxs(yt,{className:"max-w-4xl max-h-[90vh]",children:[s.jsx(bt,{children:s.jsx(wt,{children:r==null?void 0:r.title})}),r&&s.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Submission Details"})}),s.jsxs(L,{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:r.content})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Created:"}),s.jsx("span",{className:"font-medium",children:D(r.created_at)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Directed to:"}),s.jsx("span",{className:"font-medium capitalize",children:r.directed_to.replace("_"," ")})]})]})]})]}),s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Update Status"})}),s.jsx(L,{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ie,{value:d,onValueChange:h,children:[s.jsx(Me,{className:"w-48",children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"pending",children:"Pending"}),s.jsx(G,{value:"in_progress",children:"In Progress"}),s.jsx(G,{value:"resolved",children:"Resolved"}),s.jsx(G,{value:"closed",children:"Closed"})]})]}),s.jsx(M,{onClick:k,disabled:d===r.status,children:"Update Status"})]})})]}),s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"text-lg",children:["Previous Responses (",a.length,")"]})}),s.jsx(L,{children:a.length===0?s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No responses yet"}):s.jsx("div",{className:"space-y-4",children:a.map(U=>s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Admin Response"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:D(U.created_at)}),s.jsx(H,{variant:U.is_public?"default":"secondary",children:U.is_public?"Public":"Internal"})]})]}),s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:U.response_content})]},U.id))})})]}),s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Add Response"})}),s.jsxs(L,{className:"space-y-4",children:[s.jsx(ct,{placeholder:"Type your response...",value:o,onChange:U=>l(U.target.value),rows:4}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:c,onChange:U=>u(U.target.checked)}),"Make response visible to user"]})}),s.jsxs(M,{onClick:_,disabled:!o.trim()||g,children:[s.jsx(Od,{className:"w-4 h-4 mr-2"}),g?"Sending...":"Send Response"]})]})]})]})]})]})]})})]},$.id))})]}),e.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No submissions found"}),s.jsx("p",{className:"text-gray-600",children:y==="all"?"No submissions have been made yet.":`No ${y}s have been submitted yet.`})]})]})})})]})]})},cpe=()=>s.jsxs(s.Fragment,{children:[s.jsx(de,{value:"certificates",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requirePermission:"certificate_upload",children:s.jsx(Jme,{})})}),s.jsx(de,{value:"blogs",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requirePermission:"blog_moderation",children:s.jsx(Zme,{})})}),s.jsx(de,{value:"careers",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requiredRole:"general_admin",children:s.jsx(ope,{})})}),s.jsx(de,{value:"submissions",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requiredRole:"general_admin",children:s.jsx(lpe,{})})})]}),upe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(""),{toast:o}=xe();x.useEffect(()=>{l();const f=A.channel("leaderboard-member-points-changes").on("postgres_changes",{event:"*",schema:"public",table:"member_points"},g=>{console.log("Member points changed:",g),l()}).subscribe(),m=A.channel("leaderboard-members-changes").on("postgres_changes",{event:"*",schema:"public",table:"members"},g=>{console.log("Members table changed (leaderboard):",g),l()}).subscribe();return()=>{A.removeChannel(f),A.removeChannel(m)}},[]);const l=async()=>{try{const{data:f,error:m}=await A.from("enhanced_member_leaderboard").select("*").order("rank");if(m)throw m;t(f||[])}catch(f){console.error("Error fetching enhanced leaderboard:",f),o({title:"Error",description:"Failed to fetch leaderboard data",variant:"destructive"})}finally{n(!1)}},c=async(f,m,g)=>{try{const{error:p}=await A.rpc("award_activity_points",{user_id_param:f,activity_type_param:"admin_bonus",source_id_param:null,description_param:g});if(p)throw p;o({title:"Success",description:`Awarded ${m} bonus points successfully`})}catch(p){console.error("Error awarding bonus points:",p),o({title:"Error",description:"Failed to award bonus points",variant:"destructive"})}},u=e.filter(f=>f.name.toLowerCase().includes(a.toLowerCase())||f.email.toLowerCase().includes(a.toLowerCase())),d=f=>{switch(f){case 1:return s.jsx(Wt,{className:"w-5 h-5 text-yellow-500"});case 2:return s.jsx(lr,{className:"w-5 h-5 text-gray-400"});case 3:return s.jsx(qn,{className:"w-5 h-5 text-orange-500"});default:return s.jsx(Bn,{className:"w-5 h-5 text-blue-500"})}},h=f=>{switch(f){case 1:return"bg-yellow-100 text-yellow-800 border-yellow-300";case 2:return"bg-gray-100 text-gray-800 border-gray-300";case 3:return"bg-orange-100 text-orange-800 border-orange-300";default:return f<=10?"bg-blue-100 text-blue-800 border-blue-300":"bg-gray-50 text-gray-600"}};return r?s.jsx("div",{className:"text-center py-8",children:"Loading enhanced leaderboard..."}):s.jsx("div",{className:"space-y-6",children:s.jsxs(R,{children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(CS,{className:"h-5 w-5"}),"Enhanced Member Leaderboard"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(re,{placeholder:"Search members...",value:a,onChange:f=>i(f.target.value),className:"max-w-sm"}),s.jsxs(M,{onClick:l,children:[s.jsx(Bn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s.jsx(L,{children:s.jsx("div",{className:"rounded-md border",children:s.jsxs(yp,{children:[s.jsx(bp,{children:s.jsxs(Fs,{children:[s.jsx(lt,{className:"w-[80px]",children:"Rank"}),s.jsx(lt,{children:"Member"}),s.jsx(lt,{className:"text-center",children:"Total Points"}),s.jsx(lt,{className:"text-center",children:"Event Points"}),s.jsx(lt,{className:"text-center",children:"Project Points"}),s.jsx(lt,{className:"text-center",children:"Blog Points"}),s.jsx(lt,{className:"text-center",children:"Visit Points"}),s.jsx(lt,{className:"text-center",children:"Activities"}),s.jsx(lt,{className:"text-center",children:"Actions"})]})}),s.jsx(wp,{children:u.map(f=>s.jsxs(Fs,{children:[s.jsx(rt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[d(f.rank),s.jsxs(H,{className:h(f.rank),children:["#",f.rank]})]})}),s.jsx(rt,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[f.avatar_url?s.jsx("img",{src:f.avatar_url,alt:f.name,className:"w-8 h-8 rounded-full"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 text-sm font-medium",children:f.name.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:f.name}),s.jsx("div",{className:"text-sm text-gray-500",children:f.email})]})]})}),s.jsx(rt,{className:"text-center",children:s.jsx("div",{className:"font-bold text-green-600",children:f.total_points})}),s.jsxs(rt,{className:"text-center",children:[s.jsx("div",{className:"text-blue-600",children:f.event_points}),s.jsxs("div",{className:"text-xs text-gray-500",children:[f.events_attended," events"]})]}),s.jsxs(rt,{className:"text-center",children:[s.jsx("div",{className:"text-purple-600",children:f.project_points}),s.jsxs("div",{className:"text-xs text-gray-500",children:[f.projects_created," projects"]})]}),s.jsxs(rt,{className:"text-center",children:[s.jsx("div",{className:"text-orange-600",children:f.blog_points}),s.jsxs("div",{className:"text-xs text-gray-500",children:[f.blogs_written," blogs"]})]}),s.jsxs(rt,{className:"text-center",children:[s.jsx("div",{className:"text-green-600",children:f.visit_points}),s.jsxs("div",{className:"text-xs text-gray-500",children:[f.visit_days," days"]})]}),s.jsx(rt,{className:"text-center",children:s.jsx("div",{className:"flex flex-col space-y-1",children:s.jsxs(H,{variant:"outline",className:"text-xs",children:[s.jsx(Ro,{className:"w-3 h-3 mr-1"}),f.subscriptions_made," subs"]})})}),s.jsx(rt,{className:"text-center",children:s.jsx(M,{size:"sm",variant:"outline",onClick:()=>c(f.user_id,50,"Admin bonus points"),children:"+50 Bonus"})})]},f.user_id))})]})})})]})})},dpe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(null),[o,l]=x.useState(!1),{toast:c}=xe();x.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:m,error:g}=await A.from("point_configurations").select("*").order("activity_type");if(g)throw g;t(m||[])}catch(m){console.error("Error fetching point configurations:",m),c({title:"Error",description:"Failed to fetch point configurations",variant:"destructive"})}finally{n(!1)}},d=async m=>{try{if(m.id){const{error:g}=await A.from("point_configurations").update({activity_type:m.activity_type,points_value:m.points_value,description:m.description,is_active:m.is_active,updated_at:new Date().toISOString()}).eq("id",m.id);if(g)throw g}else{const{error:g}=await A.from("point_configurations").insert({activity_type:m.activity_type,points_value:m.points_value,description:m.description,is_active:m.is_active||!0});if(g)throw g}await u(),l(!1),i(null),c({title:"Success",description:`Point configuration ${m.id?"updated":"created"} successfully`})}catch(g){console.error("Error saving point configuration:",g),c({title:"Error",description:"Failed to save point configuration",variant:"destructive"})}},h=async m=>{try{const{error:g}=await A.from("point_configurations").delete().eq("id",m);if(g)throw g;await u(),c({title:"Success",description:"Point configuration deleted successfully"})}catch(g){console.error("Error deleting point configuration:",g),c({title:"Error",description:"Failed to delete point configuration",variant:"destructive"})}},f=m=>{i(m||{id:"",activity_type:"",points_value:0,description:"",is_active:!0}),l(!0)};return r?s.jsx("div",{className:"text-center py-8",children:"Loading point configurations..."}):s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Oy,{className:"h-5 w-5"}),"Point Configuration Management"]}),s.jsxs(pt,{open:o,onOpenChange:l,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{onClick:()=>f(),children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Add Configuration"]})}),s.jsxs(yt,{children:[s.jsx(bt,{children:s.jsxs(wt,{children:[a!=null&&a.id?"Edit":"Create"," Point Configuration"]})}),s.jsx(hpe,{config:a,onSave:d,onCancel:()=>l(!1)})]})]})]})}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:e.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:m.activity_type.replace(/_/g," ").toUpperCase()}),s.jsx("p",{className:"text-sm text-gray-600",children:m.description})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:m.points_value}),s.jsx("div",{className:"text-xs text-gray-500",children:"Points"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gl,{checked:m.is_active,disabled:!0}),s.jsx("span",{className:"text-sm",children:m.is_active?"Active":"Inactive"})]})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{size:"sm",variant:"outline",onClick:()=>f(m),children:s.jsx(bee,{className:"h-4 w-4"})}),s.jsx(M,{size:"sm",variant:"destructive",onClick:()=>h(m.id),children:s.jsx(en,{className:"h-4 w-4"})})]})]},m.id))})})]})},hpe=({config:e,onSave:t,onCancel:r})=>{const[n,a]=x.useState({activity_type:(e==null?void 0:e.activity_type)||"",points_value:(e==null?void 0:e.points_value)||0,description:(e==null?void 0:e.description)||"",is_active:(e==null?void 0:e.is_active)??!0}),i=o=>{o.preventDefault(),t({...e,...n})};return s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"activity_type",children:"Activity Type"}),s.jsx(re,{id:"activity_type",value:n.activity_type,onChange:o=>a(l=>({...l,activity_type:o.target.value})),placeholder:"e.g., event_attendance",required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"points_value",children:"Points Value"}),s.jsx(re,{id:"points_value",type:"number",value:n.points_value,onChange:o=>a(l=>({...l,points_value:parseInt(o.target.value)||0})),min:"0",required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description"}),s.jsx(re,{id:"description",value:n.description,onChange:o=>a(l=>({...l,description:o.target.value})),placeholder:"Description of this point configuration"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gl,{id:"is_active",checked:n.is_active,onCheckedChange:o=>a(l=>({...l,is_active:o}))}),s.jsx(W,{htmlFor:"is_active",children:"Active"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(M,{type:"submit",children:[s.jsx(Ty,{className:"h-4 w-4 mr-2"}),"Save"]}),s.jsx(M,{type:"button",variant:"outline",onClick:r,children:"Cancel"})]})]})},fpe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState([]),[o,l]=x.useState(!1),[c,u]=x.useState(!1),{toast:d}=xe(),[h,f]=x.useState({title:"",message:"",type:"announcement",priority:"medium",targetType:"all",targetIds:[],scheduledFor:"",metadata:{}});x.useEffect(()=>{m(),g(),p()},[]);const m=async()=>{try{const{data:j,error:N}=await A.from("notification_templates").select("*").order("created_at",{ascending:!1});if(N)throw N;const S=(j||[]).map(_=>({..._,priority:_.priority||"medium"}));t(S)}catch(j){console.error("Error fetching templates:",j),d({title:"Error",description:"Failed to fetch notification templates",variant:"destructive"})}},g=async()=>{try{const{data:j,error:N}=await A.from("community_groups").select("id, name").eq("is_active",!0).order("name");if(N)throw N;n(j||[])}catch(j){console.error("Error fetching communities:",j)}},p=async()=>{try{const{data:j,error:N}=await A.from("members").select("user_id, name, email").eq("registration_status","approved").order("name");if(N)throw N;i(j||[])}catch(j){console.error("Error fetching members:",j)}},y=async()=>{if(!h.title||!h.message){d({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{l(!0);const{data:j,error:N}=await A.rpc("send_bulk_notification",{p_title:h.title,p_message:h.message,p_type:h.type,p_priority:h.priority,p_target_type:h.targetType,p_target_ids:h.targetIds.length>0?h.targetIds:null,p_scheduled_for:h.scheduledFor||null,p_metadata:h.metadata});if(N)throw N;d({title:"Success",description:h.scheduledFor?"Notification scheduled successfully":"Notification sent successfully"}),f({title:"",message:"",type:"announcement",priority:"medium",targetType:"all",targetIds:[],scheduledFor:"",metadata:{}}),u(!1)}catch(j){console.error("Error sending notification:",j),d({title:"Error",description:"Failed to send notification",variant:"destructive"})}finally{l(!1)}},b=j=>{f(N=>({...N,title:j.title,message:j.message,type:j.type,priority:j.priority}))},v=j=>{switch(j){case"event":return s.jsx(Ae,{className:"w-4 h-4"});case"alert":return s.jsx(cc,{className:"w-4 h-4"});case"achievement":return s.jsx(Ze,{className:"w-4 h-4"});case"info":return s.jsx(oc,{className:"w-4 h-4"});default:return s.jsx(Pn,{className:"w-4 h-4"})}},w=j=>{switch(j){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return s.jsx("div",{className:"space-y-6",children:s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"h-5 w-5 text-primary"}),"Notification Management System"]}),s.jsxs(pt,{open:c,onOpenChange:u,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Send Notification"]})}),s.jsxs(yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Send New Notification"})}),s.jsxs(Mr,{defaultValue:"compose",className:"w-full",children:[s.jsxs(Yt,{className:"grid w-full grid-cols-2",children:[s.jsx(te,{value:"compose",children:"Compose"}),s.jsx(te,{value:"templates",children:"Templates"})]}),s.jsxs(de,{value:"compose",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"title",children:"Title *"}),s.jsx(re,{id:"title",value:h.title,onChange:j=>f(N=>({...N,title:j.target.value})),placeholder:"Notification title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"type",children:"Type"}),s.jsxs(Ie,{value:h.type,onValueChange:j=>f(N=>({...N,type:j})),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"announcement",children:"Announcement"}),s.jsx(G,{value:"event",children:"Event"}),s.jsx(G,{value:"alert",children:"Alert"}),s.jsx(G,{value:"info",children:"Information"}),s.jsx(G,{value:"achievement",children:"Achievement"}),s.jsx(G,{value:"payment",children:"Payment"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"priority",children:"Priority"}),s.jsxs(Ie,{value:h.priority,onValueChange:j=>f(N=>({...N,priority:j})),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"low",children:"Low"}),s.jsx(G,{value:"medium",children:"Medium"}),s.jsx(G,{value:"high",children:"High"}),s.jsx(G,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"targetType",children:"Send To"}),s.jsxs(Ie,{value:h.targetType,onValueChange:j=>f(N=>({...N,targetType:j,targetIds:[]})),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"w-4 h-4"}),"All Members"]})}),s.jsx(G,{value:"individual",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-4 h-4"}),"Specific Users"]})}),s.jsx(G,{value:"community",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bx,{className:"w-4 h-4"}),"Communities"]})})]})]})]})]}),h.targetType==="individual"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Select Members"}),s.jsx("div",{className:"border rounded-md p-3 max-h-32 overflow-y-auto space-y-1",children:a.map(j=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:h.targetIds.includes(j.user_id),onChange:N=>{N.target.checked?f(S=>({...S,targetIds:[...S.targetIds,j.user_id]})):f(S=>({...S,targetIds:S.targetIds.filter(_=>_!==j.user_id)}))}}),s.jsxs("span",{className:"text-sm",children:[j.name," (",j.email,")"]})]},j.user_id))})]}),h.targetType==="community"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Select Communities"}),s.jsx("div",{className:"border rounded-md p-3 space-y-1",children:r.map(j=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:h.targetIds.includes(j.id),onChange:N=>{N.target.checked?f(S=>({...S,targetIds:[...S.targetIds,j.id]})):f(S=>({...S,targetIds:S.targetIds.filter(_=>_!==j.id)}))}}),s.jsx("span",{className:"text-sm",children:j.name})]},j.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"message",children:"Message *"}),s.jsx(ct,{id:"message",value:h.message,onChange:j=>f(N=>({...N,message:j.target.value})),placeholder:"Write your notification message...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"scheduledFor",children:"Schedule For (Optional)"}),s.jsx(re,{id:"scheduledFor",type:"datetime-local",value:h.scheduledFor,onChange:j=>f(N=>({...N,scheduledFor:j.target.value}))})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(M,{onClick:y,disabled:o,children:[o?s.jsx(vt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Od,{className:"h-4 w-4 mr-2"}),h.scheduledFor?"Schedule":"Send"," Notification"]}),s.jsx(M,{variant:"outline",onClick:()=>u(!1),children:"Cancel"})]})]}),s.jsx(de,{value:"templates",className:"space-y-4",children:s.jsx("div",{className:"space-y-3",children:e.map(j=>s.jsx(R,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v(j.type),s.jsx("h4",{className:"font-semibold",children:j.title}),s.jsx(H,{variant:"outline",className:w(j.priority),children:j.priority})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:j.message}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Category: ",j.category]})]}),s.jsx(M,{size:"sm",onClick:()=>b(j),className:"ml-4",children:"Use Template"})]})},j.id))})})]})]})]})]})}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(R,{className:"p-4 text-center",children:[s.jsx(Oe,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-semibold",children:"Broadcast to All"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Send to all approved members"})]}),s.jsxs(R,{className:"p-4 text-center",children:[s.jsx(ir,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-semibold",children:"Individual Targeting"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Send to specific users"})]}),s.jsxs(R,{className:"p-4 text-center",children:[s.jsx(Bx,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-semibold",children:"Community Focus"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Target specific communities"})]})]})})]})})},mpe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!1),[a,i]=x.useState(!1),[o,l]=x.useState(null),{toast:c}=xe(),[u,d]=x.useState({title:"",message:"",type:"announcement",priority:"medium",category:"general",is_active:!0});x.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:b,error:v}=await A.from("notification_templates").select("*").order("created_at",{ascending:!1});if(v)throw v;const w=(b||[]).map(j=>({...j,priority:j.priority||"medium"}));t(w)}catch(b){console.error("Error fetching templates:",b),c({title:"Error",description:"Failed to fetch notification templates",variant:"destructive"})}},f=async()=>{if(!u.title||!u.message){c({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{if(n(!0),o){const{error:b}=await A.from("notification_templates").update({title:u.title,message:u.message,type:u.type,priority:u.priority,category:u.category,is_active:u.is_active,updated_at:new Date().toISOString()}).eq("id",o.id);if(b)throw b;c({title:"Success",description:"Template updated successfully"})}else{const{error:b}=await A.from("notification_templates").insert({title:u.title,message:u.message,type:u.type,priority:u.priority,category:u.category,is_active:u.is_active});if(b)throw b;c({title:"Success",description:"Template created successfully"})}p(),await h()}catch(b){console.error("Error saving template:",b),c({title:"Error",description:"Failed to save template",variant:"destructive"})}finally{n(!1)}},m=async b=>{try{const{error:v}=await A.from("notification_templates").delete().eq("id",b);if(v)throw v;c({title:"Success",description:"Template deleted successfully"}),await h()}catch(v){console.error("Error deleting template:",v),c({title:"Error",description:"Failed to delete template",variant:"destructive"})}},g=b=>{b?(l(b),d({title:b.title,message:b.message,type:b.type,priority:b.priority,category:b.category,is_active:b.is_active})):p(),i(!0)},p=()=>{l(null),d({title:"",message:"",type:"announcement",priority:"medium",category:"general",is_active:!0}),i(!1)},y=b=>{switch(b){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return s.jsx("div",{className:"space-y-6",children:s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Fr,{className:"h-5 w-5 text-primary"}),"Notification Templates"]}),s.jsxs(pt,{open:a,onOpenChange:i,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{onClick:()=>g(),children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Create Template"]})}),s.jsxs(yt,{className:"max-w-2xl",children:[s.jsx(bt,{children:s.jsx(wt,{children:o?"Edit Template":"Create New Template"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"title",children:"Title *"}),s.jsx(re,{id:"title",value:u.title,onChange:b=>d(v=>({...v,title:b.target.value})),placeholder:"Template title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"category",children:"Category"}),s.jsx(re,{id:"category",value:u.category,onChange:b=>d(v=>({...v,category:b.target.value})),placeholder:"e.g., welcome, events, payments"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"type",children:"Type"}),s.jsxs(Ie,{value:u.type,onValueChange:b=>d(v=>({...v,type:b})),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"announcement",children:"Announcement"}),s.jsx(G,{value:"event",children:"Event"}),s.jsx(G,{value:"alert",children:"Alert"}),s.jsx(G,{value:"info",children:"Information"}),s.jsx(G,{value:"achievement",children:"Achievement"}),s.jsx(G,{value:"payment",children:"Payment"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"priority",children:"Priority"}),s.jsxs(Ie,{value:u.priority,onValueChange:b=>d(v=>({...v,priority:b})),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"low",children:"Low"}),s.jsx(G,{value:"medium",children:"Medium"}),s.jsx(G,{value:"high",children:"High"}),s.jsx(G,{value:"urgent",children:"Urgent"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"message",children:"Message *"}),s.jsx(ct,{id:"message",value:u.message,onChange:b=>d(v=>({...v,message:b.target.value})),placeholder:"Template message content...",rows:4})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gl,{id:"is_active",checked:u.is_active,onCheckedChange:b=>d(v=>({...v,is_active:b}))}),s.jsx(W,{htmlFor:"is_active",children:"Active"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(M,{onClick:f,disabled:r,children:[s.jsx(Ty,{className:"h-4 w-4 mr-2"}),o?"Update":"Create"," Template"]}),s.jsxs(M,{variant:"outline",onClick:p,children:[s.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]})]})]})}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:e.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No templates found. Create your first template to get started!"}):e.map(b=>s.jsx(R,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-semibold",children:b.title}),s.jsx(H,{variant:"outline",className:y(b.priority),children:b.priority}),s.jsx(H,{variant:b.is_active?"default":"secondary",children:b.is_active?"Active":"Inactive"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:b.message}),s.jsxs("div",{className:"flex gap-4 text-xs text-gray-400",children:[s.jsxs("span",{children:["Type: ",b.type]}),s.jsxs("span",{children:["Category: ",b.category]}),s.jsxs("span",{children:["Created: ",new Date(b.created_at).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx(M,{size:"sm",variant:"outline",onClick:()=>g(b),children:s.jsx(yo,{className:"h-4 w-4"})}),s.jsx(M,{size:"sm",variant:"destructive",onClick:()=>m(b.id),children:s.jsx(en,{className:"h-4 w-4"})})]})]})},b.id))})})]})})},ppe=()=>{const{toast:e}=xe(),[t,r]=x.useState([]),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState({title:"",description:"",version:"1.0",file:null}),u=g=>{var y;const p=(y=g.target.files)==null?void 0:y[0];p&&c(b=>({...b,file:p}))},d=async()=>{if(!l.file||!l.title){e({title:"Error",description:"Please provide a title and select a file",variant:"destructive"});return}a(!0);try{e({title:"Success",description:"Constitution document uploaded successfully"}),o(!1),c({title:"",description:"",version:"1.0",file:null})}catch{e({title:"Error",description:"Failed to upload document",variant:"destructive"})}finally{a(!1)}},h=async(g,p)=>{try{e({title:"Success",description:`Document ${p?"deactivated":"activated"} successfully`})}catch{e({title:"Error",description:"Failed to update document status",variant:"destructive"})}},f=async g=>{try{e({title:"Success",description:"Document deleted successfully"})}catch{e({title:"Error",description:"Failed to delete document",variant:"destructive"})}},m=g=>{const p=["Bytes","KB","MB","GB"];if(g===0)return"0 Byte";const y=parseInt(Math.floor(Math.log(g)/Math.log(1024)).toString());return Math.round(g/Math.pow(1024,y)*100)/100+" "+p[y]};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-gradient-to-br from-indigo-100 to-blue-100 p-3 rounded-lg",children:s.jsx(Yg,{className:"h-6 w-6 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Constitution Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage club constitution documents and bylaws"})]})]}),s.jsxs(pt,{open:i,onOpenChange:o,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{className:"bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Upload Document"]})}),s.jsxs(yt,{className:"max-w-md",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Upload Constitution Document"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Document Title *"}),s.jsx(re,{id:"title",value:l.title,onChange:g=>c(p=>({...p,title:g.target.value})),placeholder:"e.g., Club Constitution 2024"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:l.description,onChange:g=>c(p=>({...p,description:g.target.value})),placeholder:"Brief description of the document",rows:3})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"version",children:"Version"}),s.jsx(re,{id:"version",value:l.version,onChange:g=>c(p=>({...p,version:g.target.value})),placeholder:"e.g., 1.0, 2.1"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"file",children:"Document File *"}),s.jsx(re,{id:"file",type:"file",accept:".pdf,.doc,.docx",onChange:u}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Supported formats: PDF, DOC, DOCX (Max 10MB)"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(M,{onClick:d,disabled:n,className:"flex-1",children:n?"Uploading...":"Upload Document"}),s.jsx(M,{variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(R,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fr,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Documents"}),s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:t.length})]})]})})}),s.jsx(R,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yg,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Active Documents"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:t.filter(g=>g.is_active).length})]})]})})}),s.jsx(R,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Latest Version"}),s.jsx("p",{className:"text-2xl font-bold text-purple-700",children:t.length>0?Math.max(...t.map(g=>parseFloat(g.version)||0)):0})]})]})})}),s.jsx(R,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qm,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Total Size"}),s.jsx("p",{className:"text-2xl font-bold text-orange-700",children:m(t.reduce((g,p)=>g+p.file_size,0))})]})]})})})]}),s.jsxs(R,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Constitution Documents"})}),s.jsx(L,{children:t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yg,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No documents uploaded"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Upload your first constitution document to get started."}),s.jsxs(M,{onClick:()=>o(!0),className:"bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Upload First Document"]})]}):s.jsx("div",{className:"space-y-4",children:t.map(g=>s.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:g.title}),s.jsx(H,{variant:g.is_active?"default":"secondary",children:g.is_active?"Active":"Inactive"}),s.jsxs(H,{variant:"outline",children:["v",g.version]})]}),g.description&&s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:g.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[s.jsx("span",{children:g.file_name}),s.jsx("span",{children:m(g.file_size)}),s.jsxs("span",{children:["Updated ",new Date(g.updated_at).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(M,{variant:"outline",size:"sm",onClick:()=>window.open(g.file_url,"_blank"),children:s.jsx(Ym,{className:"h-4 w-4"})}),s.jsx(M,{variant:"outline",size:"sm",onClick:()=>h(g.id,g.is_active),children:g.is_active?"Deactivate":"Activate"}),s.jsx(M,{variant:"outline",size:"sm",onClick:()=>f(g.id),className:"text-red-600 hover:text-red-700 hover:border-red-300",children:s.jsx(en,{className:"h-4 w-4"})})]})]})},g.id))})})]})]})},gpe=()=>{const{user:e}=ye(),{toast:t}=xe(),r=ic(),[n,a]=x.useState({title:"",description:"",nomination_start_date:"",nomination_end_date:"",voting_start_date:"",voting_end_date:"",positions:[]}),i=["chairman","vice_chairman","treasurer","secretary","vice_secretary","organizing_secretary","auditor"],o=zm({mutationFn:async u=>{const{data:d,error:h}=await A.from("elections").insert({title:u.title,description:u.description,nomination_start_date:u.nomination_start_date,nomination_end_date:u.nomination_end_date,voting_start_date:u.voting_start_date,voting_end_date:u.voting_end_date,created_by:e.id}).select().single();if(h)throw h;const f=u.positions.map(g=>({election_id:d.id,position_type:g})),{error:m}=await A.from("election_positions").insert(f);if(m)throw m;return d},onSuccess:()=>{r.invalidateQueries({queryKey:["all-elections"]}),a({title:"",description:"",nomination_start_date:"",nomination_end_date:"",voting_start_date:"",voting_end_date:"",positions:[]}),t({title:"Election Created",description:"New election has been created successfully."})},onError:u=>{t({title:"Error",description:"Failed to create election. Please try again.",variant:"destructive"}),console.error("Create election error:",u)}}),l=u=>{if(u.preventDefault(),!n.title||!n.positions.length){t({title:"Incomplete Form",description:"Please fill in all required fields.",variant:"destructive"});return}o.mutate(n)},c=u=>{a(d=>({...d,positions:d.positions.includes(u)?d.positions.filter(h=>h!==u):[...d.positions,u]}))};return s.jsxs(R,{children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"w-5 h-5"}),"Create New Election"]}),s.jsx(ut,{children:"Set up a new election with nomination and voting periods."})]}),s.jsx(L,{children:s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Election Title *"}),s.jsx(re,{id:"title",value:n.title,onChange:u=>a(d=>({...d,title:u.target.value})),placeholder:"e.g., Annual Leadership Election 2025"})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Available Positions *"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-1",children:i.map(u=>s.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:n.positions.includes(u),onChange:()=>c(u),className:"rounded"}),s.jsx("span",{className:"capitalize",children:u.replace("_"," ")})]},u))})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:n.description,onChange:u=>a(d=>({...d,description:u.target.value})),placeholder:"Describe the election..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"nomination_start",children:"Nomination Start Date"}),s.jsx(re,{id:"nomination_start",type:"datetime-local",value:n.nomination_start_date,onChange:u=>a(d=>({...d,nomination_start_date:u.target.value}))})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"nomination_end",children:"Nomination End Date"}),s.jsx(re,{id:"nomination_end",type:"datetime-local",value:n.nomination_end_date,onChange:u=>a(d=>({...d,nomination_end_date:u.target.value}))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"voting_start",children:"Voting Start Date"}),s.jsx(re,{id:"voting_start",type:"datetime-local",value:n.voting_start_date,onChange:u=>a(d=>({...d,voting_start_date:u.target.value}))})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"voting_end",children:"Voting End Date"}),s.jsx(re,{id:"voting_end",type:"datetime-local",value:n.voting_end_date,onChange:u=>a(d=>({...d,voting_end_date:u.target.value}))})]})]}),s.jsx(M,{type:"submit",disabled:o.isPending,className:"w-full",children:o.isPending?"Creating...":"Create Election"})]})})]})},xpe=()=>{const{toast:e}=xe(),t=ic(),{data:r}=Ya({queryKey:["all-elections"],queryFn:async()=>{const{data:a,error:i}=await A.from("elections").select(`
          *,
          election_positions(*),
          election_candidates(*, members!inner(name))
        `).order("created_at",{ascending:!1});if(i)throw i;return a}}),n=zm({mutationFn:async({electionId:a,status:i})=>{const{error:o}=await A.from("elections").update({status:i}).eq("id",a);if(o)throw o},onSuccess:()=>{t.invalidateQueries({queryKey:["all-elections"]}),e({title:"Status Updated",description:"Election status has been updated."})}});return s.jsx("div",{className:"space-y-4",children:r==null?void 0:r.map(a=>{var i,o;return s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ee,{children:a.title}),s.jsx(ut,{children:a.description})]}),s.jsx(H,{children:a.status})]})}),s.jsxs(L,{children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(M,{size:"sm",variant:"outline",onClick:()=>n.mutate({electionId:a.id,status:"nomination_open"}),disabled:a.status==="nomination_open",children:"Open Nominations"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>n.mutate({electionId:a.id,status:"voting_open"}),disabled:a.status==="voting_open",children:"Open Voting"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>n.mutate({electionId:a.id,status:"completed"}),disabled:a.status==="completed",children:"Complete"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{children:["Positions: ",((i=a.election_positions)==null?void 0:i.length)||0]}),s.jsxs("p",{children:["Candidates: ",((o=a.election_candidates)==null?void 0:o.length)||0]})]})]})]},a.id)})})},vpe=()=>{const{user:e}=ye(),{toast:t}=xe(),r=ic(),{data:n}=Ya({queryKey:["pending-candidates"],queryFn:async()=>{const{data:i,error:o}=await A.from("election_candidates").select(`
          *,
          elections(title)
        `).eq("status","pending").order("created_at",{ascending:!1});if(o)throw o;return await Promise.all(i.map(async c=>{const{data:u}=await A.from("members").select("name, email").eq("user_id",c.user_id).single();return{...c,member:u}}))}}),a=zm({mutationFn:async({candidateId:i,status:o})=>{const{error:l}=await A.from("election_candidates").update({status:o,approved_by:e.id,approved_at:new Date().toISOString()}).eq("id",i);if(l)throw l},onSuccess:()=>{r.invalidateQueries({queryKey:["pending-candidates"]}),t({title:"Candidate Status Updated",description:"Candidate application has been reviewed."})}});return s.jsxs("div",{className:"space-y-4",children:[n==null?void 0:n.map(i=>{var o,l,c;return s.jsx(R,{children:s.jsx(L,{className:"pt-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold",children:((o=i.member)==null?void 0:o.name)||"Unknown"}),s.jsx("p",{className:"text-sm text-gray-600",children:((l=i.member)==null?void 0:l.email)||"No email"}),s.jsxs("p",{className:"text-sm font-medium mt-1 capitalize",children:["Position: ",i.position_type.replace("_"," ")]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Election: ",(c=i.elections)==null?void 0:c.title]}),i.manifesto&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Manifesto:"}),s.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:i.manifesto})]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsxs(M,{size:"sm",onClick:()=>a.mutate({candidateId:i.id,status:"approved"}),disabled:a.isPending,children:[s.jsx(Ze,{className:"w-4 h-4 mr-1"}),"Approve"]}),s.jsxs(M,{size:"sm",variant:"destructive",onClick:()=>a.mutate({candidateId:i.id,status:"rejected"}),disabled:a.isPending,children:[s.jsx(jr,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})})},i.id)}),!(n!=null&&n.length)&&s.jsx(R,{children:s.jsxs(L,{className:"text-center py-12",children:[s.jsx(Oe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Pending Applications"}),s.jsx("p",{className:"text-gray-500",children:"All candidate applications have been reviewed."})]})})]})},ype=()=>s.jsxs(Mr,{defaultValue:"create",className:"space-y-6",children:[s.jsxs(Yt,{className:"grid w-full grid-cols-3",children:[s.jsx(te,{value:"create",children:"Create Election"}),s.jsx(te,{value:"manage",children:"Manage Elections"}),s.jsx(te,{value:"candidates",children:"Review Candidates"})]}),s.jsx(de,{value:"create",children:s.jsx(gpe,{})}),s.jsx(de,{value:"manage",children:s.jsx(xpe,{})}),s.jsx(de,{value:"candidates",children:s.jsx(vpe,{})})]}),S7=()=>s.jsx(ype,{}),bpe=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs(R,{children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(uu,{className:"h-5 w-5"}),"System Analytics"]}),s.jsx(ut,{children:"View system-wide analytics and insights"})]}),s.jsxs(L,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Total Members"})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-2",children:"-"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bn,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"Active Projects"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-900 mt-2",children:"-"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(CS,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-600",children:"Events This Month"})]}),s.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-2",children:"-"})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uu,{className:"h-5 w-5 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium text-orange-600",children:"Total Revenue"})]}),s.jsx("p",{className:"text-2xl font-bold text-orange-900 mt-2",children:"KSh -"})]})]}),s.jsxs("div",{className:"mt-8 text-center py-8",children:[s.jsx(uu,{className:"mx-auto h-12 w-12 text-muted-foreground"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Detailed analytics and reporting features will be available here."})]})]})]})}),wpe=()=>s.jsxs(s.Fragment,{children:[s.jsx(de,{value:"leaderboard",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requiredRole:"general_admin",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(dpe,{}),s.jsx(upe,{})]})})}),s.jsx(de,{value:"notifications",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requiredRole:"general_admin",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(Mr,{defaultValue:"manage",className:"w-full",children:[s.jsxs(Yt,{className:"grid w-full grid-cols-2",children:[s.jsx(te,{value:"manage",children:"Send Notifications"}),s.jsx(te,{value:"templates",children:"Manage Templates"})]}),s.jsx(de,{value:"manage",className:"mt-6",children:s.jsx(fpe,{})}),s.jsx(de,{value:"templates",className:"mt-6",children:s.jsx(mpe,{})})]})})})}),s.jsx(de,{value:"constitution",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requiredRole:"general_admin",children:s.jsx(ppe,{})})}),s.jsx(de,{value:"elections",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requiredRole:"general_admin",children:s.jsx(S7,{})})}),s.jsx(de,{value:"analytics",className:"mt-0 animate-fade-in",children:s.jsx(fr,{requirePermission:"system_analytics",children:s.jsx(bpe,{})})})]}),jpe=({canManageUsers:e})=>s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsx(Ufe,{canManageUsers:e}),s.jsx(fme,{}),s.jsx(Dme,{}),s.jsx(Kme,{}),s.jsx(cpe,{}),s.jsx(wpe,{})]});var Npe=Array.isArray,En=Npe,_pe=typeof Xr=="object"&&Xr&&Xr.Object===Object&&Xr,k7=_pe,Spe=k7,kpe=typeof self=="object"&&self&&self.Object===Object&&self,Cpe=Spe||kpe||Function("return this")(),Aa=Cpe,Ppe=Aa,Ape=Ppe.Symbol,jp=Ape,i4=jp,C7=Object.prototype,Epe=C7.hasOwnProperty,Tpe=C7.toString,wh=i4?i4.toStringTag:void 0;function Ope(e){var t=Epe.call(e,wh),r=e[wh];try{e[wh]=void 0;var n=!0}catch{}var a=Tpe.call(e);return n&&(t?e[wh]=r:delete e[wh]),a}var Mpe=Ope,Rpe=Object.prototype,Dpe=Rpe.toString;function $pe(e){return Dpe.call(e)}var Ipe=$pe,o4=jp,Lpe=Mpe,Fpe=Ipe,Bpe="[object Null]",Upe="[object Undefined]",l4=o4?o4.toStringTag:void 0;function zpe(e){return e==null?e===void 0?Upe:Bpe:l4&&l4 in Object(e)?Lpe(e):Fpe(e)}var vi=zpe;function Vpe(e){return e!=null&&typeof e=="object"}var yi=Vpe,qpe=vi,Wpe=yi,Hpe="[object Symbol]";function Kpe(e){return typeof e=="symbol"||Wpe(e)&&qpe(e)==Hpe}var zd=Kpe,Gpe=En,Ype=zd,Xpe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qpe=/^\w*$/;function Jpe(e,t){if(Gpe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ype(e)?!0:Qpe.test(e)||!Xpe.test(e)||t!=null&&e in Object(t)}var Lk=Jpe;function Zpe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Bo=Zpe;const Vd=ot(Bo);var ege=vi,tge=Bo,rge="[object AsyncFunction]",nge="[object Function]",sge="[object GeneratorFunction]",age="[object Proxy]";function ige(e){if(!tge(e))return!1;var t=ege(e);return t==nge||t==sge||t==rge||t==age}var Fk=ige;const Fe=ot(Fk);var oge=Aa,lge=oge["__core-js_shared__"],cge=lge,Pw=cge,c4=function(){var e=/[^.]+$/.exec(Pw&&Pw.keys&&Pw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function uge(e){return!!c4&&c4 in e}var dge=uge,hge=Function.prototype,fge=hge.toString;function mge(e){if(e!=null){try{return fge.call(e)}catch{}try{return e+""}catch{}}return""}var P7=mge,pge=Fk,gge=dge,xge=Bo,vge=P7,yge=/[\\^$.*+?()[\]{}|]/g,bge=/^\[object .+?Constructor\]$/,wge=Function.prototype,jge=Object.prototype,Nge=wge.toString,_ge=jge.hasOwnProperty,Sge=RegExp("^"+Nge.call(_ge).replace(yge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kge(e){if(!xge(e)||gge(e))return!1;var t=pge(e)?Sge:bge;return t.test(vge(e))}var Cge=kge;function Pge(e,t){return e==null?void 0:e[t]}var Age=Pge,Ege=Cge,Tge=Age;function Oge(e,t){var r=Tge(e,t);return Ege(r)?r:void 0}var pc=Oge,Mge=pc,Rge=Mge(Object,"create"),h0=Rge,u4=h0;function Dge(){this.__data__=u4?u4(null):{},this.size=0}var $ge=Dge;function Ige(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Lge=Ige,Fge=h0,Bge="__lodash_hash_undefined__",Uge=Object.prototype,zge=Uge.hasOwnProperty;function Vge(e){var t=this.__data__;if(Fge){var r=t[e];return r===Bge?void 0:r}return zge.call(t,e)?t[e]:void 0}var qge=Vge,Wge=h0,Hge=Object.prototype,Kge=Hge.hasOwnProperty;function Gge(e){var t=this.__data__;return Wge?t[e]!==void 0:Kge.call(t,e)}var Yge=Gge,Xge=h0,Qge="__lodash_hash_undefined__";function Jge(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Xge&&t===void 0?Qge:t,this}var Zge=Jge,exe=$ge,txe=Lge,rxe=qge,nxe=Yge,sxe=Zge;function qd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qd.prototype.clear=exe;qd.prototype.delete=txe;qd.prototype.get=rxe;qd.prototype.has=nxe;qd.prototype.set=sxe;var axe=qd;function ixe(){this.__data__=[],this.size=0}var oxe=ixe;function lxe(e,t){return e===t||e!==e&&t!==t}var Bk=lxe,cxe=Bk;function uxe(e,t){for(var r=e.length;r--;)if(cxe(e[r][0],t))return r;return-1}var f0=uxe,dxe=f0,hxe=Array.prototype,fxe=hxe.splice;function mxe(e){var t=this.__data__,r=dxe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():fxe.call(t,r,1),--this.size,!0}var pxe=mxe,gxe=f0;function xxe(e){var t=this.__data__,r=gxe(t,e);return r<0?void 0:t[r][1]}var vxe=xxe,yxe=f0;function bxe(e){return yxe(this.__data__,e)>-1}var wxe=bxe,jxe=f0;function Nxe(e,t){var r=this.__data__,n=jxe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var _xe=Nxe,Sxe=oxe,kxe=pxe,Cxe=vxe,Pxe=wxe,Axe=_xe;function Wd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wd.prototype.clear=Sxe;Wd.prototype.delete=kxe;Wd.prototype.get=Cxe;Wd.prototype.has=Pxe;Wd.prototype.set=Axe;var m0=Wd,Exe=pc,Txe=Aa,Oxe=Exe(Txe,"Map"),Uk=Oxe,d4=axe,Mxe=m0,Rxe=Uk;function Dxe(){this.size=0,this.__data__={hash:new d4,map:new(Rxe||Mxe),string:new d4}}var $xe=Dxe;function Ixe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Lxe=Ixe,Fxe=Lxe;function Bxe(e,t){var r=e.__data__;return Fxe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var p0=Bxe,Uxe=p0;function zxe(e){var t=Uxe(this,e).delete(e);return this.size-=t?1:0,t}var Vxe=zxe,qxe=p0;function Wxe(e){return qxe(this,e).get(e)}var Hxe=Wxe,Kxe=p0;function Gxe(e){return Kxe(this,e).has(e)}var Yxe=Gxe,Xxe=p0;function Qxe(e,t){var r=Xxe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Jxe=Qxe,Zxe=$xe,eve=Vxe,tve=Hxe,rve=Yxe,nve=Jxe;function Hd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hd.prototype.clear=Zxe;Hd.prototype.delete=eve;Hd.prototype.get=tve;Hd.prototype.has=rve;Hd.prototype.set=nve;var zk=Hd,A7=zk,sve="Expected a function";function Vk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(sve);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Vk.Cache||A7),r}Vk.Cache=A7;var E7=Vk;const ave=ot(E7);var ive=E7,ove=500;function lve(e){var t=ive(e,function(n){return r.size===ove&&r.clear(),n}),r=t.cache;return t}var cve=lve,uve=cve,dve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hve=/\\(\\)?/g,fve=uve(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(dve,function(r,n,a,i){t.push(a?i.replace(hve,"$1"):n||r)}),t}),mve=fve;function pve(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var qk=pve,h4=jp,gve=qk,xve=En,vve=zd,yve=1/0,f4=h4?h4.prototype:void 0,m4=f4?f4.toString:void 0;function T7(e){if(typeof e=="string")return e;if(xve(e))return gve(e,T7)+"";if(vve(e))return m4?m4.call(e):"";var t=e+"";return t=="0"&&1/e==-yve?"-0":t}var bve=T7,wve=bve;function jve(e){return e==null?"":wve(e)}var O7=jve,Nve=En,_ve=Lk,Sve=mve,kve=O7;function Cve(e,t){return Nve(e)?e:_ve(e,t)?[e]:Sve(kve(e))}var M7=Cve,Pve=zd,Ave=1/0;function Eve(e){if(typeof e=="string"||Pve(e))return e;var t=e+"";return t=="0"&&1/e==-Ave?"-0":t}var g0=Eve,Tve=M7,Ove=g0;function Mve(e,t){t=Tve(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ove(t[r++])];return r&&r==n?e:void 0}var Wk=Mve,Rve=Wk;function Dve(e,t,r){var n=e==null?void 0:Rve(e,t);return n===void 0?r:n}var R7=Dve;const zn=ot(R7);function $ve(e){return e==null}var Ive=$ve;const ze=ot(Ive);var Lve=vi,Fve=En,Bve=yi,Uve="[object String]";function zve(e){return typeof e=="string"||!Fve(e)&&Bve(e)&&Lve(e)==Uve}var Vve=zve;const Np=ot(Vve);var D7={exports:{}},gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk=Symbol.for("react.element"),Kk=Symbol.for("react.portal"),x0=Symbol.for("react.fragment"),v0=Symbol.for("react.strict_mode"),y0=Symbol.for("react.profiler"),b0=Symbol.for("react.provider"),w0=Symbol.for("react.context"),qve=Symbol.for("react.server_context"),j0=Symbol.for("react.forward_ref"),N0=Symbol.for("react.suspense"),_0=Symbol.for("react.suspense_list"),S0=Symbol.for("react.memo"),k0=Symbol.for("react.lazy"),Wve=Symbol.for("react.offscreen"),$7;$7=Symbol.for("react.module.reference");function vs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Hk:switch(e=e.type,e){case x0:case y0:case v0:case N0:case _0:return e;default:switch(e=e&&e.$$typeof,e){case qve:case w0:case j0:case k0:case S0:case b0:return e;default:return t}}case Kk:return t}}}gt.ContextConsumer=w0;gt.ContextProvider=b0;gt.Element=Hk;gt.ForwardRef=j0;gt.Fragment=x0;gt.Lazy=k0;gt.Memo=S0;gt.Portal=Kk;gt.Profiler=y0;gt.StrictMode=v0;gt.Suspense=N0;gt.SuspenseList=_0;gt.isAsyncMode=function(){return!1};gt.isConcurrentMode=function(){return!1};gt.isContextConsumer=function(e){return vs(e)===w0};gt.isContextProvider=function(e){return vs(e)===b0};gt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hk};gt.isForwardRef=function(e){return vs(e)===j0};gt.isFragment=function(e){return vs(e)===x0};gt.isLazy=function(e){return vs(e)===k0};gt.isMemo=function(e){return vs(e)===S0};gt.isPortal=function(e){return vs(e)===Kk};gt.isProfiler=function(e){return vs(e)===y0};gt.isStrictMode=function(e){return vs(e)===v0};gt.isSuspense=function(e){return vs(e)===N0};gt.isSuspenseList=function(e){return vs(e)===_0};gt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===x0||e===y0||e===v0||e===N0||e===_0||e===Wve||typeof e=="object"&&e!==null&&(e.$$typeof===k0||e.$$typeof===S0||e.$$typeof===b0||e.$$typeof===w0||e.$$typeof===j0||e.$$typeof===$7||e.getModuleId!==void 0)};gt.typeOf=vs;D7.exports=gt;var I7=D7.exports,Hve=vi,Kve=yi,Gve="[object Number]";function Yve(e){return typeof e=="number"||Kve(e)&&Hve(e)==Gve}var L7=Yve;const Xve=ot(L7);var Qve=L7;function Jve(e){return Qve(e)&&e!=+e}var Zve=Jve;const Kd=ot(Zve);var ln=function(t){return t===0?0:t>0?1:-1},fl=function(t){return Np(t)&&t.indexOf("%")===t.length-1},ce=function(t){return Xve(t)&&!Kd(t)},wr=function(t){return ce(t)||Np(t)},eye=0,Gd=function(t){var r=++eye;return"".concat(t||"").concat(r)},cn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ce(t)&&!Np(t))return n;var i;if(fl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Kd(i)&&(i=n),a&&i>r&&(i=r),i},Ui=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},tye=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},wn=function(t,r){return ce(t)&&ce(r)?function(n){return t+n*(r-t)}:function(){return r}};function ov(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):zn(n,t))===r})}function gu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function uN(e){"@babel/helpers - typeof";return uN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uN(e)}var rye=["viewBox","children"],nye=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],p4=["points","pathLength"],Aw={svg:rye,polygon:p4,polyline:p4},Gk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Vd(n))return null;var a={};return Object.keys(n).forEach(function(i){Gk.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},sye=function(t,r,n){return function(a){return t(r,n,a),null}},Jl=function(t,r,n){if(!Vd(t)||uN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];Gk.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=sye(o,r,n))}),a},aye=["children"],iye=["children"];function g4(e,t){if(e==null)return{};var r=oye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dN(e){"@babel/helpers - typeof";return dN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dN(e)}var x4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Xa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},v4=null,Ew=null,Yk=function e(t){if(t===v4&&Array.isArray(Ew))return Ew;var r=[];return x.Children.forEach(t,function(n){ze(n)||(I7.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Ew=r,v4=t,r};function ds(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Xa(a)}):n=[Xa(t)],Yk(e).forEach(function(a){var i=zn(a,"type.displayName")||zn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Dn(e,t){var r=ds(e,t);return r&&r[0]}var y4=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ce(n)||n<=0||!ce(a)||a<=0)},lye=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cye=function(t){return t&&t.type&&Np(t.type)&&lye.indexOf(t.type)>=0},uye=function(t){return t&&dN(t)==="object"&&"clipDot"in t},dye=function(t,r,n,a){var i,o=(i=Aw==null?void 0:Aw[a])!==null&&i!==void 0?i:[];return!Fe(t)&&(a&&o.includes(r)||nye.includes(r))||n&&Gk.includes(r)},Pe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Vd(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;dye((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},hN=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return b4(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!b4(i,o))return!1}return!0},b4=function(t,r){if(ze(t)&&ze(r))return!0;if(!ze(t)&&!ze(r)){var n=t.props||{},a=n.children,i=g4(n,aye),o=r.props||{},l=o.children,c=g4(o,iye);return a&&l?gu(i,c)&&hN(a,l):!a&&!l?gu(i,c):!1}return!1},w4=function(t,r){var n=[],a={};return Yk(t).forEach(function(i,o){if(cye(i))n.push(i);else if(i){var l=Xa(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var h=u(i,l,o);n.push(h),a[l]=!0}}}),n},hye=function(t){var r=t&&t.type;return r&&x4[r]?x4[r]:null},fye=function(t,r){return Yk(r).indexOf(t)},mye=["children","width","height","viewBox","className","style","title","desc"];function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fN.apply(this,arguments)}function pye(e,t){if(e==null)return{};var r=gye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=pye(e,mye),d=a||{width:r,height:n,x:0,y:0},h=Ve("recharts-surface",i);return O.createElement("svg",fN({},Pe(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),O.createElement("title",null,l),O.createElement("desc",null,c),t)}var xye=["children","className"];function pN(){return pN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pN.apply(this,arguments)}function vye(e,t){if(e==null)return{};var r=yye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nt=O.forwardRef(function(e,t){var r=e.children,n=e.className,a=vye(e,xye),i=Ve("recharts-layer",n);return O.createElement("g",pN({className:i},Pe(a,!0),{ref:t}),r)}),Bs=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function bye(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var wye=bye,jye=wye;function Nye(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:jye(e,t,r)}var _ye=Nye,Sye="\\ud800-\\udfff",kye="\\u0300-\\u036f",Cye="\\ufe20-\\ufe2f",Pye="\\u20d0-\\u20ff",Aye=kye+Cye+Pye,Eye="\\ufe0e\\ufe0f",Tye="\\u200d",Oye=RegExp("["+Tye+Sye+Aye+Eye+"]");function Mye(e){return Oye.test(e)}var F7=Mye;function Rye(e){return e.split("")}var Dye=Rye,B7="\\ud800-\\udfff",$ye="\\u0300-\\u036f",Iye="\\ufe20-\\ufe2f",Lye="\\u20d0-\\u20ff",Fye=$ye+Iye+Lye,Bye="\\ufe0e\\ufe0f",Uye="["+B7+"]",gN="["+Fye+"]",xN="\\ud83c[\\udffb-\\udfff]",zye="(?:"+gN+"|"+xN+")",U7="[^"+B7+"]",z7="(?:\\ud83c[\\udde6-\\uddff]){2}",V7="[\\ud800-\\udbff][\\udc00-\\udfff]",Vye="\\u200d",q7=zye+"?",W7="["+Bye+"]?",qye="(?:"+Vye+"(?:"+[U7,z7,V7].join("|")+")"+W7+q7+")*",Wye=W7+q7+qye,Hye="(?:"+[U7+gN+"?",gN,z7,V7,Uye].join("|")+")",Kye=RegExp(xN+"(?="+xN+")|"+Hye+Wye,"g");function Gye(e){return e.match(Kye)||[]}var Yye=Gye,Xye=Dye,Qye=F7,Jye=Yye;function Zye(e){return Qye(e)?Jye(e):Xye(e)}var e0e=Zye,t0e=_ye,r0e=F7,n0e=e0e,s0e=O7;function a0e(e){return function(t){t=s0e(t);var r=r0e(t)?n0e(t):void 0,n=r?r[0]:t.charAt(0),a=r?t0e(r,1).join(""):t.slice(1);return n[e]()+a}}var i0e=a0e,o0e=i0e,l0e=o0e("toUpperCase"),c0e=l0e;const C0=ot(c0e);function Pt(e){return function(){return e}}const H7=Math.cos,cv=Math.sin,Ks=Math.sqrt,uv=Math.PI,P0=2*uv,vN=Math.PI,yN=2*vN,tl=1e-6,u0e=yN-tl;function K7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function d0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return K7;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class h0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?K7:d0e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,h=l-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>tl)if(!(Math.abs(h*c-u*d)>tl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,p=c*c+u*u,y=m*m+g*g,b=Math.sqrt(p),v=Math.sqrt(f),w=i*Math.tan((vN-Math.acos((p+f-y)/(2*b*v)))/2),j=w/v,N=w/b;Math.abs(j-1)>tl&&this._append`L${t+j*d},${r+j*h}`,this._append`A${i},${i},0,0,${+(h*m>d*g)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>tl||Math.abs(this._y1-d)>tl)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%yN+yN),f>u0e?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>tl&&this._append`A${n},${n},0,${+(f>=vN)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Xk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new h0e(t)}function Qk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function G7(e){this._context=e}G7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function A0(e){return new G7(e)}function Y7(e){return e[0]}function X7(e){return e[1]}function Q7(e,t){var r=Pt(!0),n=null,a=A0,i=null,o=Xk(l);e=typeof e=="function"?e:e===void 0?Y7:Pt(e),t=typeof t=="function"?t:t===void 0?X7:Pt(t);function l(c){var u,d=(c=Qk(c)).length,h,f=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,u,c),+t(h,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Pt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Pt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Pt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function mg(e,t,r){var n=null,a=Pt(!0),i=null,o=A0,l=null,c=Xk(u);e=typeof e=="function"?e:e===void 0?Y7:Pt(+e),t=typeof t=="function"?t:Pt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?X7:Pt(+r);function u(h){var f,m,g,p=(h=Qk(h)).length,y,b=!1,v,w=new Array(p),j=new Array(p);for(i==null&&(l=o(v=c())),f=0;f<=p;++f){if(!(f<p&&a(y=h[f],f,h))===b)if(b=!b)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=m;--g)l.point(w[g],j[g]);l.lineEnd(),l.areaEnd()}b&&(w[f]=+e(y,f,h),j[f]=+t(y,f,h),l.point(n?+n(y,f,h):w[f],r?+r(y,f,h):j[f]))}if(v)return l=null,v+""||null}function d(){return Q7().defined(a).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Pt(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Pt(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Pt(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Pt(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Pt(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Pt(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Pt(!!h),u):a},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class J7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function f0e(e){return new J7(e,!0)}function m0e(e){return new J7(e,!1)}const Jk={draw(e,t){const r=Ks(t/uv);e.moveTo(r,0),e.arc(0,0,r,0,P0)}},p0e={draw(e,t){const r=Ks(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Z7=Ks(1/3),g0e=Z7*2,x0e={draw(e,t){const r=Ks(t/g0e),n=r*Z7;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},v0e={draw(e,t){const r=Ks(t),n=-r/2;e.rect(n,n,r,r)}},y0e=.8908130915292852,eB=cv(uv/10)/cv(7*uv/10),b0e=cv(P0/10)*eB,w0e=-H7(P0/10)*eB,j0e={draw(e,t){const r=Ks(t*y0e),n=b0e*r,a=w0e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=P0*i/5,l=H7(o),c=cv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Tw=Ks(3),N0e={draw(e,t){const r=-Ks(t/(Tw*3));e.moveTo(0,r*2),e.lineTo(-Tw*r,-r),e.lineTo(Tw*r,-r),e.closePath()}},Yn=-.5,Xn=Ks(3)/2,bN=1/Ks(12),_0e=(bN/2+1)*3,S0e={draw(e,t){const r=Ks(t/_0e),n=r/2,a=r*bN,i=n,o=r*bN+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Yn*n-Xn*a,Xn*n+Yn*a),e.lineTo(Yn*i-Xn*o,Xn*i+Yn*o),e.lineTo(Yn*l-Xn*c,Xn*l+Yn*c),e.lineTo(Yn*n+Xn*a,Yn*a-Xn*n),e.lineTo(Yn*i+Xn*o,Yn*o-Xn*i),e.lineTo(Yn*l+Xn*c,Yn*c-Xn*l),e.closePath()}};function k0e(e,t){let r=null,n=Xk(a);e=typeof e=="function"?e:Pt(e||Jk),t=typeof t=="function"?t:Pt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Pt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Pt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function dv(){}function hv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function tB(e){this._context=e}tB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function C0e(e){return new tB(e)}function rB(e){this._context=e}rB.prototype={areaStart:dv,areaEnd:dv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P0e(e){return new rB(e)}function nB(e){this._context=e}nB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:hv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A0e(e){return new nB(e)}function sB(e){this._context=e}sB.prototype={areaStart:dv,areaEnd:dv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function E0e(e){return new sB(e)}function j4(e){return e<0?-1:1}function N4(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(j4(i)+j4(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function _4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ow(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function fv(e){this._context=e}fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ow(this,this._t0,_4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ow(this,_4(this,r=N4(this,e,t)),r);break;default:Ow(this,this._t0,r=N4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function aB(e){this._context=new iB(e)}(aB.prototype=Object.create(fv.prototype)).point=function(e,t){fv.prototype.point.call(this,t,e)};function iB(e){this._context=e}iB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function T0e(e){return new fv(e)}function O0e(e){return new aB(e)}function oB(e){this._context=e}oB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=S4(e),a=S4(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function S4(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function M0e(e){return new oB(e)}function E0(e,t){this._context=e,this._t=t}E0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function R0e(e){return new E0(e,.5)}function D0e(e){return new E0(e,0)}function $0e(e){return new E0(e,1)}function Yu(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function wN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function I0e(e,t){return e[t]}function L0e(e){const t=[];return t.key=e,t}function F0e(){var e=Pt([]),t=wN,r=Yu,n=I0e;function a(i){var o=Array.from(e.apply(this,arguments),L0e),l,c=o.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,i)]).data=h;for(l=0,d=Qk(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Pt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Pt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?wN:typeof i=="function"?i:Pt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Yu,a):r},a}function B0e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Yu(e,t)}}function U0e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Yu(e,t)}}function z0e(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[n][1]||0,f=d[n-1][1]||0,m=(h-f)/2,g=0;g<l;++g){var p=e[t[g]],y=p[n][1]||0,b=p[n-1][1]||0;m+=y-b}c+=h,u+=m*h}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Yu(e,t)}}function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}var V0e=["type","size","sizeType"];function jN(){return jN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jN.apply(this,arguments)}function k4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k4(Object(r),!0).forEach(function(n){q0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q0e(e,t,r){return t=W0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W0e(e){var t=H0e(e,"string");return Jf(t)=="symbol"?t:t+""}function H0e(e,t){if(Jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K0e(e,t){if(e==null)return{};var r=G0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lB={symbolCircle:Jk,symbolCross:p0e,symbolDiamond:x0e,symbolSquare:v0e,symbolStar:j0e,symbolTriangle:N0e,symbolWye:S0e},Y0e=Math.PI/180,X0e=function(t){var r="symbol".concat(C0(t));return lB[r]||Jk},Q0e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Y0e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},J0e=function(t,r){lB["symbol".concat(C0(t))]=r},Zk=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=K0e(t,V0e),u=C4(C4({},c),{},{type:n,size:i,sizeType:l}),d=function(){var y=X0e(n),b=k0e().type(y).size(Q0e(i,l,n));return b()},h=u.className,f=u.cx,m=u.cy,g=Pe(u,!0);return f===+f&&m===+m&&i===+i?O.createElement("path",jN({},g,{className:Ve("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};Zk.registerSymbol=J0e;function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NN.apply(this,arguments)}function P4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(r),!0).forEach(function(n){Zf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ebe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uB(n.key),n)}}function rbe(e,t,r){return t&&tbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nbe(e,t,r){return t=mv(t),sbe(e,cB()?Reflect.construct(t,r||[],mv(e).constructor):t.apply(e,r))}function sbe(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return abe(e)}function abe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cB=function(){return!!e})()}function mv(e){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mv(e)}function ibe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_N(e,t)}function _N(e,t){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_N(e,t)}function Zf(e,t,r){return t=uB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uB(e){var t=obe(e,"string");return Xu(t)=="symbol"?t:t+""}function obe(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qn=32,eC=function(e){function t(){return ebe(this,t),nbe(this,t,arguments)}return ibe(t,e),rbe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Qn/2,o=Qn/6,l=Qn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Qn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Qn,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return O.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Qn/8,"h").concat(Qn,"v").concat(Qn*3/4,"h").concat(-Qn,"z"),className:"recharts-legend-icon"});if(O.isValidElement(n.legendIcon)){var u=Z0e({},n);return delete u.legendIcon,O.cloneElement(n.legendIcon,u)}return O.createElement(Zk,{fill:c,cx:i,cy:i,size:Qn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Qn,height:Qn},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,y=Ve(Zf(Zf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Fe(m.value)?null:m.value;Bs(!Fe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=m.inactive?u:m.color;return O.createElement("li",NN({className:y,style:h,key:"legend-item-".concat(g)},Jl(n.props,m,g)),O.createElement(mN,{width:o,height:o,viewBox:d,style:f},n.renderIcon(m)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Zf(eC,"displayName","Legend");Zf(eC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var lbe=m0;function cbe(){this.__data__=new lbe,this.size=0}var ube=cbe;function dbe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var hbe=dbe;function fbe(e){return this.__data__.get(e)}var mbe=fbe;function pbe(e){return this.__data__.has(e)}var gbe=pbe,xbe=m0,vbe=Uk,ybe=zk,bbe=200;function wbe(e,t){var r=this.__data__;if(r instanceof xbe){var n=r.__data__;if(!vbe||n.length<bbe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ybe(n)}return r.set(e,t),this.size=r.size,this}var jbe=wbe,Nbe=m0,_be=ube,Sbe=hbe,kbe=mbe,Cbe=gbe,Pbe=jbe;function Yd(e){var t=this.__data__=new Nbe(e);this.size=t.size}Yd.prototype.clear=_be;Yd.prototype.delete=Sbe;Yd.prototype.get=kbe;Yd.prototype.has=Cbe;Yd.prototype.set=Pbe;var dB=Yd,Abe="__lodash_hash_undefined__";function Ebe(e){return this.__data__.set(e,Abe),this}var Tbe=Ebe;function Obe(e){return this.__data__.has(e)}var Mbe=Obe,Rbe=zk,Dbe=Tbe,$be=Mbe;function pv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Rbe;++t<r;)this.add(e[t])}pv.prototype.add=pv.prototype.push=Dbe;pv.prototype.has=$be;var hB=pv;function Ibe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var fB=Ibe;function Lbe(e,t){return e.has(t)}var mB=Lbe,Fbe=hB,Bbe=fB,Ube=mB,zbe=1,Vbe=2;function qbe(e,t,r,n,a,i){var o=r&zbe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,m=r&Vbe?new Fbe:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var g=e[h],p=t[h];if(n)var y=o?n(p,g,h,t,e,i):n(g,p,h,e,t,i);if(y!==void 0){if(y)continue;f=!1;break}if(m){if(!Bbe(t,function(b,v){if(!Ube(m,v)&&(g===b||a(g,b,r,n,i)))return m.push(v)})){f=!1;break}}else if(!(g===p||a(g,p,r,n,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var pB=qbe,Wbe=Aa,Hbe=Wbe.Uint8Array,Kbe=Hbe;function Gbe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Ybe=Gbe;function Xbe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var tC=Xbe,A4=jp,E4=Kbe,Qbe=Bk,Jbe=pB,Zbe=Ybe,ewe=tC,twe=1,rwe=2,nwe="[object Boolean]",swe="[object Date]",awe="[object Error]",iwe="[object Map]",owe="[object Number]",lwe="[object RegExp]",cwe="[object Set]",uwe="[object String]",dwe="[object Symbol]",hwe="[object ArrayBuffer]",fwe="[object DataView]",T4=A4?A4.prototype:void 0,Mw=T4?T4.valueOf:void 0;function mwe(e,t,r,n,a,i,o){switch(r){case fwe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case hwe:return!(e.byteLength!=t.byteLength||!i(new E4(e),new E4(t)));case nwe:case swe:case owe:return Qbe(+e,+t);case awe:return e.name==t.name&&e.message==t.message;case lwe:case uwe:return e==t+"";case iwe:var l=Zbe;case cwe:var c=n&twe;if(l||(l=ewe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=rwe,o.set(e,t);var d=Jbe(l(e),l(t),n,a,i,o);return o.delete(e),d;case dwe:if(Mw)return Mw.call(e)==Mw.call(t)}return!1}var pwe=mwe;function gwe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var gB=gwe,xwe=gB,vwe=En;function ywe(e,t,r){var n=t(e);return vwe(e)?n:xwe(n,r(e))}var bwe=ywe;function wwe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var jwe=wwe;function Nwe(){return[]}var _we=Nwe,Swe=jwe,kwe=_we,Cwe=Object.prototype,Pwe=Cwe.propertyIsEnumerable,O4=Object.getOwnPropertySymbols,Awe=O4?function(e){return e==null?[]:(e=Object(e),Swe(O4(e),function(t){return Pwe.call(e,t)}))}:kwe,Ewe=Awe;function Twe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Owe=Twe,Mwe=vi,Rwe=yi,Dwe="[object Arguments]";function $we(e){return Rwe(e)&&Mwe(e)==Dwe}var Iwe=$we,M4=Iwe,Lwe=yi,xB=Object.prototype,Fwe=xB.hasOwnProperty,Bwe=xB.propertyIsEnumerable,Uwe=M4(function(){return arguments}())?M4:function(e){return Lwe(e)&&Fwe.call(e,"callee")&&!Bwe.call(e,"callee")},rC=Uwe,gv={exports:{}};function zwe(){return!1}var Vwe=zwe;gv.exports;(function(e,t){var r=Aa,n=Vwe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(gv,gv.exports);var vB=gv.exports,qwe=9007199254740991,Wwe=/^(?:0|[1-9]\d*)$/;function Hwe(e,t){var r=typeof e;return t=t??qwe,!!t&&(r=="number"||r!="symbol"&&Wwe.test(e))&&e>-1&&e%1==0&&e<t}var nC=Hwe,Kwe=9007199254740991;function Gwe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Kwe}var sC=Gwe,Ywe=vi,Xwe=sC,Qwe=yi,Jwe="[object Arguments]",Zwe="[object Array]",eje="[object Boolean]",tje="[object Date]",rje="[object Error]",nje="[object Function]",sje="[object Map]",aje="[object Number]",ije="[object Object]",oje="[object RegExp]",lje="[object Set]",cje="[object String]",uje="[object WeakMap]",dje="[object ArrayBuffer]",hje="[object DataView]",fje="[object Float32Array]",mje="[object Float64Array]",pje="[object Int8Array]",gje="[object Int16Array]",xje="[object Int32Array]",vje="[object Uint8Array]",yje="[object Uint8ClampedArray]",bje="[object Uint16Array]",wje="[object Uint32Array]",Rt={};Rt[fje]=Rt[mje]=Rt[pje]=Rt[gje]=Rt[xje]=Rt[vje]=Rt[yje]=Rt[bje]=Rt[wje]=!0;Rt[Jwe]=Rt[Zwe]=Rt[dje]=Rt[eje]=Rt[hje]=Rt[tje]=Rt[rje]=Rt[nje]=Rt[sje]=Rt[aje]=Rt[ije]=Rt[oje]=Rt[lje]=Rt[cje]=Rt[uje]=!1;function jje(e){return Qwe(e)&&Xwe(e.length)&&!!Rt[Ywe(e)]}var Nje=jje;function _je(e){return function(t){return e(t)}}var yB=_je,xv={exports:{}};xv.exports;(function(e,t){var r=k7,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(xv,xv.exports);var Sje=xv.exports,kje=Nje,Cje=yB,R4=Sje,D4=R4&&R4.isTypedArray,Pje=D4?Cje(D4):kje,bB=Pje,Aje=Owe,Eje=rC,Tje=En,Oje=vB,Mje=nC,Rje=bB,Dje=Object.prototype,$je=Dje.hasOwnProperty;function Ije(e,t){var r=Tje(e),n=!r&&Eje(e),a=!r&&!n&&Oje(e),i=!r&&!n&&!a&&Rje(e),o=r||n||a||i,l=o?Aje(e.length,String):[],c=l.length;for(var u in e)(t||$je.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Mje(u,c)))&&l.push(u);return l}var Lje=Ije,Fje=Object.prototype;function Bje(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Fje;return e===r}var Uje=Bje;function zje(e,t){return function(r){return e(t(r))}}var wB=zje,Vje=wB,qje=Vje(Object.keys,Object),Wje=qje,Hje=Uje,Kje=Wje,Gje=Object.prototype,Yje=Gje.hasOwnProperty;function Xje(e){if(!Hje(e))return Kje(e);var t=[];for(var r in Object(e))Yje.call(e,r)&&r!="constructor"&&t.push(r);return t}var Qje=Xje,Jje=Fk,Zje=sC;function e1e(e){return e!=null&&Zje(e.length)&&!Jje(e)}var _p=e1e,t1e=Lje,r1e=Qje,n1e=_p;function s1e(e){return n1e(e)?t1e(e):r1e(e)}var T0=s1e,a1e=bwe,i1e=Ewe,o1e=T0;function l1e(e){return a1e(e,o1e,i1e)}var c1e=l1e,$4=c1e,u1e=1,d1e=Object.prototype,h1e=d1e.hasOwnProperty;function f1e(e,t,r,n,a,i){var o=r&u1e,l=$4(e),c=l.length,u=$4(t),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in t:h1e.call(t,f)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var y=o;++h<c;){f=l[h];var b=e[f],v=t[f];if(n)var w=o?n(v,b,f,t,e,i):n(b,v,f,e,t,i);if(!(w===void 0?b===v||a(b,v,r,n,i):w)){p=!1;break}y||(y=f=="constructor")}if(p&&!y){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(p=!1)}return i.delete(e),i.delete(t),p}var m1e=f1e,p1e=pc,g1e=Aa,x1e=p1e(g1e,"DataView"),v1e=x1e,y1e=pc,b1e=Aa,w1e=y1e(b1e,"Promise"),j1e=w1e,N1e=pc,_1e=Aa,S1e=N1e(_1e,"Set"),jB=S1e,k1e=pc,C1e=Aa,P1e=k1e(C1e,"WeakMap"),A1e=P1e,SN=v1e,kN=Uk,CN=j1e,PN=jB,AN=A1e,NB=vi,Xd=P7,I4="[object Map]",E1e="[object Object]",L4="[object Promise]",F4="[object Set]",B4="[object WeakMap]",U4="[object DataView]",T1e=Xd(SN),O1e=Xd(kN),M1e=Xd(CN),R1e=Xd(PN),D1e=Xd(AN),rl=NB;(SN&&rl(new SN(new ArrayBuffer(1)))!=U4||kN&&rl(new kN)!=I4||CN&&rl(CN.resolve())!=L4||PN&&rl(new PN)!=F4||AN&&rl(new AN)!=B4)&&(rl=function(e){var t=NB(e),r=t==E1e?e.constructor:void 0,n=r?Xd(r):"";if(n)switch(n){case T1e:return U4;case O1e:return I4;case M1e:return L4;case R1e:return F4;case D1e:return B4}return t});var $1e=rl,Rw=dB,I1e=pB,L1e=pwe,F1e=m1e,z4=$1e,V4=En,q4=vB,B1e=bB,U1e=1,W4="[object Arguments]",H4="[object Array]",pg="[object Object]",z1e=Object.prototype,K4=z1e.hasOwnProperty;function V1e(e,t,r,n,a,i){var o=V4(e),l=V4(t),c=o?H4:z4(e),u=l?H4:z4(t);c=c==W4?pg:c,u=u==W4?pg:u;var d=c==pg,h=u==pg,f=c==u;if(f&&q4(e)){if(!q4(t))return!1;o=!0,d=!1}if(f&&!d)return i||(i=new Rw),o||B1e(e)?I1e(e,t,r,n,a,i):L1e(e,t,c,r,n,a,i);if(!(r&U1e)){var m=d&&K4.call(e,"__wrapped__"),g=h&&K4.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,y=g?t.value():t;return i||(i=new Rw),a(p,y,r,n,i)}}return f?(i||(i=new Rw),F1e(e,t,r,n,a,i)):!1}var q1e=V1e,W1e=q1e,G4=yi;function _B(e,t,r,n,a){return e===t?!0:e==null||t==null||!G4(e)&&!G4(t)?e!==e&&t!==t:W1e(e,t,r,n,_B,a)}var aC=_B,H1e=dB,K1e=aC,G1e=1,Y1e=2;function X1e(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new H1e;if(n)var f=n(u,d,c,e,t,h);if(!(f===void 0?K1e(d,u,G1e|Y1e,n,h):f))return!1}}return!0}var Q1e=X1e,J1e=Bo;function Z1e(e){return e===e&&!J1e(e)}var SB=Z1e,eNe=SB,tNe=T0;function rNe(e){for(var t=tNe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,eNe(a)]}return t}var nNe=rNe;function sNe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var kB=sNe,aNe=Q1e,iNe=nNe,oNe=kB;function lNe(e){var t=iNe(e);return t.length==1&&t[0][2]?oNe(t[0][0],t[0][1]):function(r){return r===e||aNe(r,e,t)}}var cNe=lNe;function uNe(e,t){return e!=null&&t in Object(e)}var dNe=uNe,hNe=M7,fNe=rC,mNe=En,pNe=nC,gNe=sC,xNe=g0;function vNe(e,t,r){t=hNe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=xNe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&gNe(a)&&pNe(o,a)&&(mNe(e)||fNe(e)))}var yNe=vNe,bNe=dNe,wNe=yNe;function jNe(e,t){return e!=null&&wNe(e,t,bNe)}var NNe=jNe,_Ne=aC,SNe=R7,kNe=NNe,CNe=Lk,PNe=SB,ANe=kB,ENe=g0,TNe=1,ONe=2;function MNe(e,t){return CNe(e)&&PNe(t)?ANe(ENe(e),t):function(r){var n=SNe(r,e);return n===void 0&&n===t?kNe(r,e):_Ne(t,n,TNe|ONe)}}var RNe=MNe;function DNe(e){return e}var Qd=DNe;function $Ne(e){return function(t){return t==null?void 0:t[e]}}var INe=$Ne,LNe=Wk;function FNe(e){return function(t){return LNe(t,e)}}var BNe=FNe,UNe=INe,zNe=BNe,VNe=Lk,qNe=g0;function WNe(e){return VNe(e)?UNe(qNe(e)):zNe(e)}var HNe=WNe,KNe=cNe,GNe=RNe,YNe=Qd,XNe=En,QNe=HNe;function JNe(e){return typeof e=="function"?e:e==null?YNe:typeof e=="object"?XNe(e)?GNe(e[0],e[1]):KNe(e):QNe(e)}var Ea=JNe;function ZNe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var CB=ZNe;function e_e(e){return e!==e}var t_e=e_e;function r_e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var n_e=r_e,s_e=CB,a_e=t_e,i_e=n_e;function o_e(e,t,r){return t===t?i_e(e,t,r):s_e(e,a_e,r)}var l_e=o_e,c_e=l_e;function u_e(e,t){var r=e==null?0:e.length;return!!r&&c_e(e,t,0)>-1}var d_e=u_e;function h_e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var f_e=h_e;function m_e(){}var p_e=m_e,Dw=jB,g_e=p_e,x_e=tC,v_e=1/0,y_e=Dw&&1/x_e(new Dw([,-0]))[1]==v_e?function(e){return new Dw(e)}:g_e,b_e=y_e,w_e=hB,j_e=d_e,N_e=f_e,__e=mB,S_e=b_e,k_e=tC,C_e=200;function P_e(e,t,r){var n=-1,a=j_e,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=N_e;else if(i>=C_e){var u=t?null:S_e(e);if(u)return k_e(u);o=!1,a=__e,c=new w_e}else c=t?[]:l;e:for(;++n<i;){var d=e[n],h=t?t(d):d;if(d=r||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(d)}else a(c,h,r)||(c!==l&&c.push(h),l.push(d))}return l}var A_e=P_e,E_e=Ea,T_e=A_e;function O_e(e,t){return e&&e.length?T_e(e,E_e(t)):[]}var M_e=O_e;const Y4=ot(M_e);function PB(e,t,r){return t===!0?Y4(e,r):Fe(t)?Y4(e,t):e}function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}var R_e=["ref"];function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){O0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EB(n.key),n)}}function $_e(e,t,r){return t&&Q4(e.prototype,t),r&&Q4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I_e(e,t,r){return t=vv(t),L_e(e,AB()?Reflect.construct(t,r||[],vv(e).constructor):t.apply(e,r))}function L_e(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F_e(e)}function F_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AB=function(){return!!e})()}function vv(e){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vv(e)}function B_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EN(e,t)}function EN(e,t){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EN(e,t)}function O0(e,t,r){return t=EB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EB(e){var t=U_e(e,"string");return Qu(t)=="symbol"?t:t+""}function U_e(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z_e(e,t){if(e==null)return{};var r=V_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function q_e(e){return e.value}function W_e(e,t){if(O.isValidElement(e))return O.cloneElement(e,t);if(typeof e=="function")return O.createElement(e,t);t.ref;var r=z_e(t,R_e);return O.createElement(eC,r)}var J4=1,xu=function(e){function t(){var r;D_e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=I_e(this,t,[].concat(a)),O0(r,"lastBoundingBox",{width:-1,height:-1}),r}return B_e(t,e),$_e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>J4||Math.abs(a.height-this.lastBoundingBox.height)>J4)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ra({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();f={top:((d||0)-g.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ra(Ra({},h),f)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,h=Ra(Ra({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return O.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){n.wrapperNode=m}},W_e(i,Ra(Ra({},this.props),{},{payload:PB(d,u,q_e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Ra(Ra({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ce(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);O0(xu,"displayName","Legend");O0(xu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Z4=jp,H_e=rC,K_e=En,eO=Z4?Z4.isConcatSpreadable:void 0;function G_e(e){return K_e(e)||H_e(e)||!!(eO&&e&&e[eO])}var Y_e=G_e,X_e=gB,Q_e=Y_e;function TB(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Q_e),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?TB(l,t-1,r,n,a):X_e(a,l):n||(a[a.length]=l)}return a}var OB=TB;function J_e(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var Z_e=J_e,e2e=Z_e,t2e=e2e(),r2e=t2e,n2e=r2e,s2e=T0;function a2e(e,t){return e&&n2e(e,t,s2e)}var MB=a2e,i2e=_p;function o2e(e,t){return function(r,n){if(r==null)return r;if(!i2e(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var l2e=o2e,c2e=MB,u2e=l2e,d2e=u2e(c2e),iC=d2e,h2e=iC,f2e=_p;function m2e(e,t){var r=-1,n=f2e(e)?Array(e.length):[];return h2e(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var RB=m2e;function p2e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var g2e=p2e,tO=zd;function x2e(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=tO(e),o=t!==void 0,l=t===null,c=t===t,u=tO(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var v2e=x2e,y2e=v2e;function b2e(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=y2e(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var w2e=b2e,$w=qk,j2e=Wk,N2e=Ea,_2e=RB,S2e=g2e,k2e=yB,C2e=w2e,P2e=Qd,A2e=En;function E2e(e,t,r){t.length?t=$w(t,function(i){return A2e(i)?function(o){return j2e(o,i.length===1?i[0]:i)}:i}):t=[P2e];var n=-1;t=$w(t,k2e(N2e));var a=_2e(e,function(i,o,l){var c=$w(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return S2e(a,function(i,o){return C2e(i,o,r)})}var T2e=E2e;function O2e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var M2e=O2e,R2e=M2e,rO=Math.max;function D2e(e,t,r){return t=rO(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=rO(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),R2e(e,this,l)}}var $2e=D2e;function I2e(e){return function(){return e}}var L2e=I2e,F2e=pc,B2e=function(){try{var e=F2e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),DB=B2e,U2e=L2e,nO=DB,z2e=Qd,V2e=nO?function(e,t){return nO(e,"toString",{configurable:!0,enumerable:!1,value:U2e(t),writable:!0})}:z2e,q2e=V2e,W2e=800,H2e=16,K2e=Date.now;function G2e(e){var t=0,r=0;return function(){var n=K2e(),a=H2e-(n-r);if(r=n,a>0){if(++t>=W2e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Y2e=G2e,X2e=q2e,Q2e=Y2e,J2e=Q2e(X2e),Z2e=J2e,eSe=Qd,tSe=$2e,rSe=Z2e;function nSe(e,t){return rSe(tSe(e,t,eSe),e+"")}var sSe=nSe,aSe=Bk,iSe=_p,oSe=nC,lSe=Bo;function cSe(e,t,r){if(!lSe(r))return!1;var n=typeof t;return(n=="number"?iSe(r)&&oSe(t,r.length):n=="string"&&t in r)?aSe(r[t],e):!1}var M0=cSe,uSe=OB,dSe=T2e,hSe=sSe,sO=M0,fSe=hSe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&sO(e,t[0],t[1])?t=[]:r>2&&sO(t[0],t[1],t[2])&&(t=[t[0]]),dSe(e,uSe(t,1),[])}),mSe=fSe;const oC=ot(mSe);function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TN.apply(this,arguments)}function pSe(e,t){return ySe(e)||vSe(e,t)||xSe(e,t)||gSe()}function gSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xSe(e,t){if(e){if(typeof e=="string")return aO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(e,t)}}function aO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ySe(e){if(Array.isArray(e))return e}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){bSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bSe(e,t,r){return t=wSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wSe(e){var t=jSe(e,"string");return em(t)=="symbol"?t:t+""}function jSe(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NSe(e){return Array.isArray(e)&&wr(e[0])&&wr(e[1])?e.join(" ~ "):e}var _Se=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,f=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,y=t.labelFormatter,b=t.accessibilityLayer,v=b===void 0?!1:b,w=function(){if(d&&d.length){var T={padding:0,margin:0},F=(f?oC(d,f):d).map(function(D,$){if(D.type==="none")return null;var U=Iw({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),q=D.formatter||h||NSe,I=D.value,V=D.name,Y=I,se=V;if(q&&Y!=null&&se!=null){var ie=q(I,V,D,$,d);if(Array.isArray(ie)){var je=pSe(ie,2);Y=je[0],se=je[1]}else Y=ie}return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:U},wr(se)?O.createElement("span",{className:"recharts-tooltip-item-name"},se):null,wr(se)?O.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,O.createElement("span",{className:"recharts-tooltip-item-value"},Y),O.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:T},F)}return null},j=Iw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=Iw({margin:0},u),S=!ze(p),_=S?p:"",k=Ve("recharts-default-tooltip",m),C=Ve("recharts-tooltip-label",g);S&&y&&d!==void 0&&d!==null&&(_=y(p,d));var P=v?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",TN({className:k,style:j},P),O.createElement("p",{className:C,style:N},O.isValidElement(_)?_:"".concat(_)),w())};function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function gg(e,t,r){return t=SSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SSe(e){var t=kSe(e,"string");return tm(t)=="symbol"?t:t+""}function kSe(e,t){if(tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jh="recharts-tooltip-wrapper",CSe={visibility:"hidden"};function PSe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ve(jh,gg(gg(gg(gg({},"".concat(jh,"-right"),ce(r)&&t&&ce(t.x)&&r>=t.x),"".concat(jh,"-left"),ce(r)&&t&&ce(t.x)&&r<t.x),"".concat(jh,"-bottom"),ce(n)&&t&&ce(t.y)&&n>=t.y),"".concat(jh,"-top"),ce(n)&&t&&ce(t.y)&&n<t.y))}function oO(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ce(i[n]))return i[n];var d=r[n]-l-a,h=r[n]+a;if(t[n])return o[n]?d:h;if(o[n]){var f=d,m=c[n];return f<m?Math.max(h,c[n]):Math.max(d,c[n])}var g=h+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(h,c[n])}function ASe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ESe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=oO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=oO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=ASe({translateX:d,translateY:h,useTranslate3d:l})):u=CSe,{cssProperties:u,cssClasses:PSe({translateX:d,translateY:h,coordinate:r})}}function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){MN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IB(n.key),n)}}function MSe(e,t,r){return t&&OSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RSe(e,t,r){return t=yv(t),DSe(e,$B()?Reflect.construct(t,r||[],yv(e).constructor):t.apply(e,r))}function DSe(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Se(e)}function $Se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($B=function(){return!!e})()}function yv(e){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yv(e)}function ISe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ON(e,t)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ON(e,t)}function MN(e,t,r){return t=IB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=LSe(e,"string");return Ju(t)=="symbol"?t:t+""}function LSe(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uO=1,FSe=function(e){function t(){var r;TSe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=RSe(this,t,[].concat(a)),MN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),MN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return ISe(t,e),MSe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>uO||Math.abs(n.height-this.state.lastBoundingBox.height)>uO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,v=a.wrapperStyle,w=ESe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),j=w.cssClasses,N=w.cssProperties,S=cO(cO({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},v);return O.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(x.PureComponent),BSe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pa={isSsr:BSe(),get:function(t){return pa[t]},set:function(t,r){if(typeof t=="string")pa[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){pa[a]=t[a]})}}};function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){lC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function USe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FB(n.key),n)}}function VSe(e,t,r){return t&&zSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qSe(e,t,r){return t=bv(t),WSe(e,LB()?Reflect.construct(t,r||[],bv(e).constructor):t.apply(e,r))}function WSe(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HSe(e)}function HSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LB=function(){return!!e})()}function bv(e){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bv(e)}function KSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RN(e,t)}function RN(e,t){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RN(e,t)}function lC(e,t,r){return t=FB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FB(e){var t=GSe(e,"string");return Zu(t)=="symbol"?t:t+""}function GSe(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YSe(e){return e.dataKey}function XSe(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement(_Se,t)}var Js=function(e){function t(){return USe(this,t),qSe(this,t,arguments)}return KSe(t,e),VSe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,h=a.filterNull,f=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,y=a.position,b=a.reverseDirection,v=a.useTranslate3d,w=a.viewBox,j=a.wrapperStyle,N=g??[];h&&N.length&&(N=PB(g.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),p,YSe));var S=N.length>0;return O.createElement(FSe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:d,hasPayload:S,offset:m,position:y,reverseDirection:b,useTranslate3d:v,viewBox:w,wrapperStyle:j},XSe(u,hO(hO({},this.props),{},{payload:N})))}}])}(x.PureComponent);lC(Js,"displayName","Tooltip");lC(Js,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var QSe=Aa,JSe=function(){return QSe.Date.now()},ZSe=JSe,eke=/\s/;function tke(e){for(var t=e.length;t--&&eke.test(e.charAt(t)););return t}var rke=tke,nke=rke,ske=/^\s+/;function ake(e){return e&&e.slice(0,nke(e)+1).replace(ske,"")}var ike=ake,oke=ike,fO=Bo,lke=zd,mO=NaN,cke=/^[-+]0x[0-9a-f]+$/i,uke=/^0b[01]+$/i,dke=/^0o[0-7]+$/i,hke=parseInt;function fke(e){if(typeof e=="number")return e;if(lke(e))return mO;if(fO(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fO(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=oke(e);var r=uke.test(e);return r||dke.test(e)?hke(e.slice(2),r?2:8):cke.test(e)?mO:+e}var BB=fke,mke=Bo,Lw=ZSe,pO=BB,pke="Expected a function",gke=Math.max,xke=Math.min;function vke(e,t,r){var n,a,i,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(pke);t=pO(t)||0,mke(r)&&(d=!!r.leading,h="maxWait"in r,i=h?gke(pO(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f);function m(S){var _=n,k=a;return n=a=void 0,u=S,o=e.apply(k,_),o}function g(S){return u=S,l=setTimeout(b,t),d?m(S):o}function p(S){var _=S-c,k=S-u,C=t-_;return h?xke(C,i-k):C}function y(S){var _=S-c,k=S-u;return c===void 0||_>=t||_<0||h&&k>=i}function b(){var S=Lw();if(y(S))return v(S);l=setTimeout(b,p(S))}function v(S){return l=void 0,f&&n?m(S):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:v(Lw())}function N(){var S=Lw(),_=y(S);if(n=arguments,a=this,c=S,_){if(l===void 0)return g(c);if(h)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return N.cancel=w,N.flush=j,N}var yke=vke,bke=yke,wke=Bo,jke="Expected a function";function Nke(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(jke);return wke(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),bke(e,t,{leading:n,maxWait:t,trailing:a})}var _ke=Nke;const UB=ot(_ke);function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){Ske(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ske(e,t,r){return t=kke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kke(e){var t=Cke(e,"string");return rm(t)=="symbol"?t:t+""}function Cke(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pke(e,t){return Oke(e)||Tke(e,t)||Eke(e,t)||Ake()}function Ake(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eke(e,t){if(e){if(typeof e=="string")return xO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xO(e,t)}}function xO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Oke(e){if(Array.isArray(e))return e}var Mke=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,f=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,y=e.id,b=e.className,v=e.onResize,w=e.style,j=w===void 0?{}:w,N=x.useRef(null),S=x.useRef();S.current=v,x.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var _=x.useState({containerWidth:a.width,containerHeight:a.height}),k=Pke(_,2),C=k[0],P=k[1],E=x.useCallback(function(F,D){P(function($){var U=Math.round(F),q=Math.round(D);return $.containerWidth===U&&$.containerHeight===q?$:{containerWidth:U,containerHeight:q}})},[]);x.useEffect(function(){var F=function(V){var Y,se=V[0].contentRect,ie=se.width,je=se.height;E(ie,je),(Y=S.current)===null||Y===void 0||Y.call(S,ie,je)};p>0&&(F=UB(F,p,{trailing:!0,leading:!1}));var D=new ResizeObserver(F),$=N.current.getBoundingClientRect(),U=$.width,q=$.height;return E(U,q),D.observe(N.current),function(){D.disconnect()}},[E,p]);var T=x.useMemo(function(){var F=C.containerWidth,D=C.containerHeight;if(F<0||D<0)return null;Bs(fl(o)||fl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Bs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=fl(o)?F:o,U=fl(c)?D:c;r&&r>0&&($?U=$/r:U&&($=U*r),f&&U>f&&(U=f)),Bs($>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,U,o,c,d,h,r);var q=!Array.isArray(m)&&Xa(m.type).endsWith("Chart");return O.Children.map(m,function(I){return I7.isElement(I)?x.cloneElement(I,xg({width:$,height:U},q?{style:xg({height:"100%",width:"100%",maxHeight:U,maxWidth:$},I.props.style)}:{})):I})},[r,m,c,f,h,d,C,o]);return O.createElement("div",{id:y?"".concat(y):void 0,className:Ve("recharts-responsive-container",b),style:xg(xg({},j),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:N},T)}),R0=function(t){return null};R0.displayName="Cell";function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(n){Rke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rke(e,t,r){return t=Dke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dke(e){var t=$ke(e,"string");return nm(t)=="symbol"?t:t+""}function $ke(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pc={widthCache:{},cacheCount:0},Ike=2e3,Lke={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yO="recharts_measurement_span";function Fke(e){var t=DN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var uf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pa.isSsr)return{width:0,height:0};var n=Fke(r),a=JSON.stringify({text:t,copyStyle:n});if(Pc.widthCache[a])return Pc.widthCache[a];try{var i=document.getElementById(yO);i||(i=document.createElement("span"),i.setAttribute("id",yO),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=DN(DN({},Lke),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Pc.widthCache[a]=c,++Pc.cacheCount>Ike&&(Pc.cacheCount=0,Pc.widthCache={}),c}catch{return{width:0,height:0}}},Bke=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function wv(e,t){return qke(e)||Vke(e,t)||zke(e,t)||Uke()}function Uke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zke(e,t){if(e){if(typeof e=="string")return bO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bO(e,t)}}function bO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function qke(e){if(Array.isArray(e))return e}function Wke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kke(n.key),n)}}function Hke(e,t,r){return t&&wO(e.prototype,t),r&&wO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kke(e){var t=Gke(e,"string");return sm(t)=="symbol"?t:t+""}function Gke(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yke=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Xke=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qke=Object.keys(zB),Xc="NaN";function Jke(e,t){return e*zB[t]}var vg=function(){function e(t,r){Wke(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Yke.test(r)&&(this.num=NaN,this.unit=""),Qke.includes(r)&&(this.num=Jke(t,r),this.unit="px")}return Hke(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Xke.exec(r))!==null&&n!==void 0?n:[],i=wv(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function VB(e){if(e.includes(Xc))return Xc;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=jO.exec(t))!==null&&r!==void 0?r:[],a=wv(n,4),i=a[1],o=a[2],l=a[3],c=vg.parse(i??""),u=vg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Xc;t=t.replace(jO,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=NO.exec(t))!==null&&h!==void 0?h:[],m=wv(f,4),g=m[1],p=m[2],y=m[3],b=vg.parse(g??""),v=vg.parse(y??""),w=p==="+"?b.add(v):b.subtract(v);if(w.isNaN())return Xc;t=t.replace(NO,w.toString())}return t}var _O=/\(([^()]*)\)/;function Zke(e){for(var t=e;t.includes("(");){var r=_O.exec(t),n=wv(r,2),a=n[1];t=t.replace(_O,VB(a))}return t}function eCe(e){var t=e.replace(/\s+/g,"");return t=Zke(t),t=VB(t),t}function tCe(e){try{return eCe(e)}catch{return Xc}}function Fw(e){var t=tCe(e.slice(5,-1));return t===Xc?"":t}var rCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nCe=["dx","dy","angle","className","breakAll"];function $N(){return $N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$N.apply(this,arguments)}function SO(e,t){if(e==null)return{};var r=sCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kO(e,t){return lCe(e)||oCe(e,t)||iCe(e,t)||aCe()}function aCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iCe(e,t){if(e){if(typeof e=="string")return CO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CO(e,t)}}function CO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function lCe(e){if(Array.isArray(e))return e}var qB=/[ \f\n\r\t\v\u2028\u2029]+/,WB=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];ze(r)||(n?i=r.toString().split(""):i=r.toString().split(qB));var o=i.map(function(c){return{word:c,width:uf(c,a).width}}),l=n?0:uf("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},cCe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ce(o),h=l,f=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(U,q){var I=q.word,V=q.width,Y=U[U.length-1];if(Y&&(a==null||i||Y.width+V+n<Number(a)))Y.words.push(I),Y.width+=V+n;else{var se={words:[I],width:V};U.push(se)}return U},[])},m=f(r),g=function($){return $.reduce(function(U,q){return U.width>q.width?U:q})};if(!d)return m;for(var p="",y=function($){var U=h.slice(0,$),q=WB({breakAll:u,style:c,children:U+p}).wordsWithComputedWidth,I=f(q),V=I.length>o||g(I).width>Number(a);return[V,I]},b=0,v=h.length-1,w=0,j;b<=v&&w<=h.length-1;){var N=Math.floor((b+v)/2),S=N-1,_=y(S),k=kO(_,2),C=k[0],P=k[1],E=y(N),T=kO(E,1),F=T[0];if(!C&&!F&&(b=N+1),C&&F&&(v=N-1),!C&&F){j=P;break}w++}return j||m},PO=function(t){var r=ze(t)?[]:t.toString().split(qB);return[{words:r}]},uCe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!pa.isSsr){var c,u,d=WB({breakAll:o,children:a,style:i});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return PO(a);return cCe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return PO(a)},AO="#808080",Zl=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,f=t.textAnchor,m=f===void 0?"start":f,g=t.verticalAnchor,p=g===void 0?"end":g,y=t.fill,b=y===void 0?AO:y,v=SO(t,rCe),w=x.useMemo(function(){return uCe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),j=v.dx,N=v.dy,S=v.angle,_=v.className,k=v.breakAll,C=SO(v,nCe);if(!wr(n)||!wr(i))return null;var P=n+(ce(j)?j:0),E=i+(ce(N)?N:0),T;switch(p){case"start":T=Fw("calc(".concat(u,")"));break;case"middle":T=Fw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=Fw("calc(".concat(w.length-1," * -").concat(l,")"));break}var F=[];if(h){var D=w[0].width,$=v.width;F.push("scale(".concat((ce($)?$/D:1)/D,")"))}return S&&F.push("rotate(".concat(S,", ").concat(P,", ").concat(E,")")),F.length&&(C.transform=F.join(" ")),O.createElement("text",$N({},Pe(C,!0),{x:P,y:E,className:Ve("recharts-text",_),textAnchor:m,fill:b.includes("url")?AO:b}),w.map(function(U,q){var I=U.words.join(k?"":" ");return O.createElement("tspan",{x:P,dy:q===0?T:l,key:"".concat(I,"-").concat(q)},I)}))};function fo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cC(e){let t,r,n;e.length!==2?(t=fo,r=(l,c)=>fo(e(l),c),n=(l,c)=>e(l)-c):(t=e===fo||e===dCe?e:hCe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=a(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function hCe(){return 0}function HB(e){return e===null?NaN:+e}function*fCe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const mCe=cC(fo),Sp=mCe.right;cC(HB).center;class EO extends Map{constructor(t,r=xCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(TO(this,t))}has(t){return super.has(TO(this,t))}set(t,r){return super.set(pCe(this,t),r)}delete(t){return super.delete(gCe(this,t))}}function TO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function pCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function gCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function xCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vCe(e=fo){if(e===fo)return KB;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function KB(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const yCe=Math.sqrt(50),bCe=Math.sqrt(10),wCe=Math.sqrt(2);function jv(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=yCe?10:i>=bCe?5:i>=wCe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?jv(e,t,r*2):[l,c,u]}function IN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?jv(t,e,r):jv(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function LN(e,t,r){return t=+t,e=+e,r=+r,jv(e,t,r)[2]}function FN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?LN(t,e,r):LN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function OO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function MO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function GB(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?KB:vCe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*h/c+f)),g=Math.min(n,Math.floor(t+(c-u)*h/c+f));GB(e,t,m,g,a)}const i=e[t];let o=r,l=n;for(Nh(e,r,t),a(e[n],i)>0&&Nh(e,r,n);o<l;){for(Nh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Nh(e,r,l):(++l,Nh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Nh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function jCe(e,t,r){if(e=Float64Array.from(fCe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return MO(e);if(t>=1)return OO(e);var n,a=(n-1)*t,i=Math.floor(a),o=OO(GB(e,i).subarray(0,i+1)),l=MO(e.subarray(i+1));return o+(l-o)*(a-i)}}function NCe(e,t,r=HB){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function _Ce(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ys(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const BN=Symbol("implicit");function uC(){var e=new EO,t=[],r=[],n=BN;function a(i){let o=e.get(i);if(o===void 0){if(n!==BN)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new EO;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return uC(t,r).unknown(n)},ys.apply(a,arguments),a}function am(){var e=uC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var f=t().length,m=a<n,g=m?a:n,p=m?n:a;i=(p-g)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(f-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=_Ce(f).map(function(b){return g+i*b});return r(m?y.reverse():y)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([n,a]=f,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(f){return[n,a]=f,n=+n,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return am(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ys.apply(h(),arguments)}function YB(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return YB(t())},e}function df(){return YB(am.apply(null,arguments).paddingInner(1))}function dC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function XB(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function kp(){}var im=.7,Nv=1/im,vu="\\s*([+-]?\\d+)\\s*",om="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ga="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SCe=/^#([0-9a-f]{3,8})$/,kCe=new RegExp(`^rgb\\(${vu},${vu},${vu}\\)$`),CCe=new RegExp(`^rgb\\(${ga},${ga},${ga}\\)$`),PCe=new RegExp(`^rgba\\(${vu},${vu},${vu},${om}\\)$`),ACe=new RegExp(`^rgba\\(${ga},${ga},${ga},${om}\\)$`),ECe=new RegExp(`^hsl\\(${om},${ga},${ga}\\)$`),TCe=new RegExp(`^hsla\\(${om},${ga},${ga},${om}\\)$`),RO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dC(kp,lm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:DO,formatHex:DO,formatHex8:OCe,formatHsl:MCe,formatRgb:$O,toString:$O});function DO(){return this.rgb().formatHex()}function OCe(){return this.rgb().formatHex8()}function MCe(){return QB(this).formatHsl()}function $O(){return this.rgb().formatRgb()}function lm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=SCe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?IO(t):r===3?new _n(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?yg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?yg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kCe.exec(e))?new _n(t[1],t[2],t[3],1):(t=CCe.exec(e))?new _n(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=PCe.exec(e))?yg(t[1],t[2],t[3],t[4]):(t=ACe.exec(e))?yg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ECe.exec(e))?BO(t[1],t[2]/100,t[3]/100,1):(t=TCe.exec(e))?BO(t[1],t[2]/100,t[3]/100,t[4]):RO.hasOwnProperty(e)?IO(RO[e]):e==="transparent"?new _n(NaN,NaN,NaN,0):null}function IO(e){return new _n(e>>16&255,e>>8&255,e&255,1)}function yg(e,t,r,n){return n<=0&&(e=t=r=NaN),new _n(e,t,r,n)}function RCe(e){return e instanceof kp||(e=lm(e)),e?(e=e.rgb(),new _n(e.r,e.g,e.b,e.opacity)):new _n}function UN(e,t,r,n){return arguments.length===1?RCe(e):new _n(e,t,r,n??1)}function _n(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}dC(_n,UN,XB(kp,{brighter(e){return e=e==null?Nv:Math.pow(Nv,e),new _n(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?im:Math.pow(im,e),new _n(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _n(El(this.r),El(this.g),El(this.b),_v(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LO,formatHex:LO,formatHex8:DCe,formatRgb:FO,toString:FO}));function LO(){return`#${ml(this.r)}${ml(this.g)}${ml(this.b)}`}function DCe(){return`#${ml(this.r)}${ml(this.g)}${ml(this.b)}${ml((isNaN(this.opacity)?1:this.opacity)*255)}`}function FO(){const e=_v(this.opacity);return`${e===1?"rgb(":"rgba("}${El(this.r)}, ${El(this.g)}, ${El(this.b)}${e===1?")":`, ${e})`}`}function _v(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function El(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ml(e){return e=El(e),(e<16?"0":"")+e.toString(16)}function BO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ms(e,t,r,n)}function QB(e){if(e instanceof Ms)return new Ms(e.h,e.s,e.l,e.opacity);if(e instanceof kp||(e=lm(e)),!e)return new Ms;if(e instanceof Ms)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ms(o,l,c,e.opacity)}function $Ce(e,t,r,n){return arguments.length===1?QB(e):new Ms(e,t,r,n??1)}function Ms(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}dC(Ms,$Ce,XB(kp,{brighter(e){return e=e==null?Nv:Math.pow(Nv,e),new Ms(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?im:Math.pow(im,e),new Ms(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new _n(Bw(e>=240?e-240:e+120,a,n),Bw(e,a,n),Bw(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ms(UO(this.h),bg(this.s),bg(this.l),_v(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_v(this.opacity);return`${e===1?"hsl(":"hsla("}${UO(this.h)}, ${bg(this.s)*100}%, ${bg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UO(e){return e=(e||0)%360,e<0?e+360:e}function bg(e){return Math.max(0,Math.min(1,e||0))}function Bw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const hC=e=>()=>e;function ICe(e,t){return function(r){return e+r*t}}function LCe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function FCe(e){return(e=+e)==1?JB:function(t,r){return r-t?LCe(t,r,e):hC(isNaN(t)?r:t)}}function JB(e,t){var r=t-e;return r?ICe(e,r):hC(isNaN(e)?t:e)}const zO=function e(t){var r=FCe(t);function n(a,i){var o=r((a=UN(a)).r,(i=UN(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=JB(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function BCe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function UCe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zCe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Jd(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function VCe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Sv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function qCe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Jd(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var zN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uw=new RegExp(zN.source,"g");function WCe(e){return function(){return e}}function HCe(e){return function(t){return e(t)+""}}function KCe(e,t){var r=zN.lastIndex=Uw.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=zN.exec(e))&&(a=Uw.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Sv(n,a)})),r=Uw.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?HCe(c[0].x):WCe(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Jd(e,t){var r=typeof t,n;return t==null||r==="boolean"?hC(t):(r==="number"?Sv:r==="string"?(n=lm(t))?(t=n,zO):KCe:t instanceof lm?zO:t instanceof Date?VCe:UCe(t)?BCe:Array.isArray(t)?zCe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qCe:Sv)(e,t)}function fC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function GCe(e,t){t===void 0&&(t=e,e=Jd);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function YCe(e){return function(){return e}}function kv(e){return+e}var VO=[0,1];function un(e){return e}function VN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:YCe(isNaN(t)?NaN:.5)}function XCe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function QCe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=VN(a,n),i=r(o,i)):(n=VN(n,a),i=r(i,o)),function(l){return i(n(l))}}function JCe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=VN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Sp(e,l,1,n)-1;return i[c](a[c](l))}}function Cp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function D0(){var e=VO,t=VO,r=Jd,n,a,i,o=un,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==un&&(o=XCe(e[0],e[f-1])),l=f>2?JCe:QCe,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return h.invert=function(f){return o(a((u||(u=l(t,e.map(n),Sv)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,kv),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),r=fC,d()},h.clamp=function(f){return arguments.length?(o=f?!0:un,d()):o!==un},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,m){return n=f,a=m,d()}}function mC(){return D0()(un,un)}function ZCe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ed(e){return e=Cv(Math.abs(e)),e?e[1]:NaN}function ePe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function tPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cm(e){if(!(t=rPe.exec(e)))throw new Error("invalid format: "+e);var t;return new pC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}cm.prototype=pC.prototype;function pC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nPe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var ZB;function sPe(e,t){var r=Cv(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(ZB=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Cv(e,Math.max(0,t+i-1))[0]}function qO(e,t){var r=Cv(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const WO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZCe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qO(e*100,t),r:qO,s:sPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function HO(e){return e}var KO=Array.prototype.map,GO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aPe(e){var t=e.grouping===void 0||e.thousands===void 0?HO:ePe(KO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?HO:tPe(KO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=cm(h);var f=h.fill,m=h.align,g=h.sign,p=h.symbol,y=h.zero,b=h.width,v=h.comma,w=h.precision,j=h.trim,N=h.type;N==="n"?(v=!0,N="g"):WO[N]||(w===void 0&&(w=12),j=!0,N="g"),(y||f==="0"&&m==="=")&&(y=!0,f="0",m="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",_=p==="$"?n:/[%p]/.test(N)?o:"",k=WO[N],C=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(E){var T=S,F=_,D,$,U;if(N==="c")F=k(E)+F,E="";else{E=+E;var q=E<0||1/E<0;if(E=isNaN(E)?c:k(Math.abs(E),w),j&&(E=nPe(E)),q&&+E==0&&g!=="+"&&(q=!1),T=(q?g==="("?g:l:g==="-"||g==="("?"":g)+T,F=(N==="s"?GO[8+ZB/3]:"")+F+(q&&g==="("?")":""),C){for(D=-1,$=E.length;++D<$;)if(U=E.charCodeAt(D),48>U||U>57){F=(U===46?a+E.slice(D+1):E.slice(D))+F,E=E.slice(0,D);break}}}v&&!y&&(E=t(E,1/0));var I=T.length+E.length+F.length,V=I<b?new Array(b-I+1).join(f):"";switch(v&&y&&(E=t(V+E,V.length?b-F.length:1/0),V=""),m){case"<":E=T+E+F+V;break;case"=":E=T+V+E+F;break;case"^":E=V.slice(0,I=V.length>>1)+T+E+F+V.slice(I);break;default:E=V+T+E+F;break}return i(E)}return P.toString=function(){return h+""},P}function d(h,f){var m=u((h=cm(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(ed(f)/3)))*3,p=Math.pow(10,-g),y=GO[8+g/3];return function(b){return m(p*b)+y}}return{format:u,formatPrefix:d}}var wg,gC,eU;iPe({thousands:",",grouping:[3],currency:["$",""]});function iPe(e){return wg=aPe(e),gC=wg.format,eU=wg.formatPrefix,wg}function oPe(e){return Math.max(0,-ed(Math.abs(e)))}function lPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ed(t)/3)))*3-ed(Math.abs(e)))}function cPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ed(t)-ed(e))+1}function tU(e,t,r,n){var a=FN(e,t,r),i;switch(n=cm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=lPe(a,o))&&(n.precision=i),eU(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=cPe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=oPe(a))&&(n.precision=i-(n.type==="%")*2);break}}return gC(n)}function Uo(e){var t=e.domain;return e.ticks=function(r){var n=t();return IN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return tU(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=LN(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Pv(){var e=mC();return e.copy=function(){return Cp(e,Pv())},ys.apply(e,arguments),Uo(e)}function rU(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,kv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return rU(e).unknown(t)},e=arguments.length?Array.from(e,kv):[0,1],Uo(r)}function nU(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function YO(e){return Math.log(e)}function XO(e){return Math.exp(e)}function uPe(e){return-Math.log(-e)}function dPe(e){return-Math.exp(-e)}function hPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fPe(e){return e===10?hPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QO(e){return(t,r)=>-e(-t,r)}function xC(e){const t=e(YO,XO),r=t.domain;let n=10,a,i;function o(){return a=mPe(n),i=fPe(n),r()[0]<0?(a=QO(a),i=QO(i),e(uPe,dPe)):e(YO,XO),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=a(u),m=a(d),g,p;const y=l==null?10:+l;let b=[];if(!(n%1)&&m-f<y){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(g=1;g<n;++g)if(p=f<0?g/i(-f):g*i(f),!(p<u)){if(p>d)break;b.push(p)}}else for(;f<=m;++f)for(g=n-1;g>=1;--g)if(p=f>0?g/i(-f):g*i(f),!(p<u)){if(p>d)break;b.push(p)}b.length*2<y&&(b=IN(u,d,y))}else b=IN(f,m,Math.min(m-f,y)).map(i);return h?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=cm(c)).precision==null&&(c.trim=!0),c=gC(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let h=d/i(Math.round(a(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},t.nice=()=>r(nU(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function sU(){const e=xC(D0()).domain([1,10]);return e.copy=()=>Cp(e,sU()).base(e.base()),ys.apply(e,arguments),e}function JO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ZO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vC(e){var t=1,r=e(JO(t),ZO(t));return r.constant=function(n){return arguments.length?e(JO(t=+n),ZO(t)):t},Uo(r)}function aU(){var e=vC(D0());return e.copy=function(){return Cp(e,aU()).constant(e.constant())},ys.apply(e,arguments)}function eM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function gPe(e){return e<0?-e*e:e*e}function yC(e){var t=e(un,un),r=1;function n(){return r===1?e(un,un):r===.5?e(pPe,gPe):e(eM(r),eM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Uo(t)}function bC(){var e=yC(D0());return e.copy=function(){return Cp(e,bC()).exponent(e.exponent())},ys.apply(e,arguments),e}function xPe(){return bC.apply(null,arguments).exponent(.5)}function tM(e){return Math.sign(e)*e*e}function vPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function iU(){var e=mC(),t=[0,1],r=!1,n;function a(i){var o=vPe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(tM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,kv)).map(tM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return iU(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ys.apply(a,arguments),Uo(a)}function oU(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=NCe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Sp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(fo),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return oU().domain(e).range(t).unknown(n)},ys.apply(i,arguments)}function lU(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Sp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return lU().domain([e,t]).range(a).unknown(i)},ys.apply(Uo(o),arguments)}function cU(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Sp(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return cU().domain(e).range(t).unknown(r)},ys.apply(a,arguments)}const zw=new Date,Vw=new Date;function _r(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>_r(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(zw.setTime(+i),Vw.setTime(+o),e(zw),e(Vw),Math.floor(r(zw,Vw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Av=_r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Av.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_r(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Av);Av.range;const Wa=1e3,os=Wa*60,Ha=os*60,di=Ha*24,wC=di*7,rM=di*30,qw=di*365,pl=_r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wa)},(e,t)=>(t-e)/Wa,e=>e.getUTCSeconds());pl.range;const jC=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wa)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getMinutes());jC.range;const NC=_r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getUTCMinutes());NC.range;const _C=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wa-e.getMinutes()*os)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getHours());_C.range;const SC=_r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getUTCHours());SC.range;const Pp=_r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*os)/di,e=>e.getDate()-1);Pp.range;const $0=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/di,e=>e.getUTCDate()-1);$0.range;const uU=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/di,e=>Math.floor(e/di));uU.range;function gc(e){return _r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*os)/wC)}const I0=gc(0),Ev=gc(1),yPe=gc(2),bPe=gc(3),td=gc(4),wPe=gc(5),jPe=gc(6);I0.range;Ev.range;yPe.range;bPe.range;td.range;wPe.range;jPe.range;function xc(e){return _r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/wC)}const L0=xc(0),Tv=xc(1),NPe=xc(2),_Pe=xc(3),rd=xc(4),SPe=xc(5),kPe=xc(6);L0.range;Tv.range;NPe.range;_Pe.range;rd.range;SPe.range;kPe.range;const kC=_r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kC.range;const CC=_r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());CC.range;const hi=_r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});hi.range;const fi=_r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());fi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});fi.range;function dU(e,t,r,n,a,i){const o=[[pl,1,Wa],[pl,5,5*Wa],[pl,15,15*Wa],[pl,30,30*Wa],[i,1,os],[i,5,5*os],[i,15,15*os],[i,30,30*os],[a,1,Ha],[a,3,3*Ha],[a,6,6*Ha],[a,12,12*Ha],[n,1,di],[n,2,2*di],[r,1,wC],[t,1,rM],[t,3,3*rM],[e,1,qw]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),g=m?m.range(u,+d+1):[];return f?g.reverse():g}function c(u,d,h){const f=Math.abs(d-u)/h,m=cC(([,,y])=>y).right(o,f);if(m===o.length)return e.every(FN(u/qw,d/qw,h));if(m===0)return Av.every(Math.max(FN(u,d,h),1));const[g,p]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return g.every(p)}return[l,c]}const[CPe,PPe]=dU(fi,CC,L0,uU,SC,NC),[APe,EPe]=dU(hi,kC,I0,Pp,_C,jC);function Ww(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _h(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function TPe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Sh(a),d=kh(a),h=Sh(i),f=kh(i),m=Sh(o),g=kh(o),p=Sh(l),y=kh(l),b=Sh(c),v=kh(c),w={a:q,A:I,b:V,B:Y,c:null,d:lM,e:lM,f:eAe,g:uAe,G:hAe,H:QPe,I:JPe,j:ZPe,L:hU,m:tAe,M:rAe,p:se,q:ie,Q:dM,s:hM,S:nAe,u:sAe,U:aAe,V:iAe,w:oAe,W:lAe,x:null,X:null,y:cAe,Y:dAe,Z:fAe,"%":uM},j={a:je,A:Ee,b:at,B:et,c:null,d:cM,e:cM,f:xAe,g:CAe,G:AAe,H:mAe,I:pAe,j:gAe,L:mU,m:vAe,M:yAe,p:pe,q:Ue,Q:dM,s:hM,S:bAe,u:wAe,U:jAe,V:NAe,w:_Ae,W:SAe,x:null,X:null,y:kAe,Y:PAe,Z:EAe,"%":uM},N={a:P,A:E,b:T,B:F,c:D,d:iM,e:iM,f:KPe,g:aM,G:sM,H:oM,I:oM,j:VPe,L:HPe,m:zPe,M:qPe,p:C,q:UPe,Q:YPe,s:XPe,S:WPe,u:$Pe,U:IPe,V:LPe,w:DPe,W:FPe,x:$,X:U,y:aM,Y:sM,Z:BPe,"%":GPe};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(oe,ge){return function(be){var Q=[],Ye=-1,Be=0,St=oe.length,jt,ur,B;for(be instanceof Date||(be=new Date(+be));++Ye<St;)oe.charCodeAt(Ye)===37&&(Q.push(oe.slice(Be,Ye)),(ur=nM[jt=oe.charAt(++Ye)])!=null?jt=oe.charAt(++Ye):ur=jt==="e"?" ":"0",(B=ge[jt])&&(jt=B(be,ur)),Q.push(jt),Be=Ye+1);return Q.push(oe.slice(Be,Ye)),Q.join("")}}function _(oe,ge){return function(be){var Q=_h(1900,void 0,1),Ye=k(Q,oe,be+="",0),Be,St;if(Ye!=be.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ge&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Be=Hw(_h(Q.y,0,1)),St=Be.getUTCDay(),Be=St>4||St===0?Tv.ceil(Be):Tv(Be),Be=$0.offset(Be,(Q.V-1)*7),Q.y=Be.getUTCFullYear(),Q.m=Be.getUTCMonth(),Q.d=Be.getUTCDate()+(Q.w+6)%7):(Be=Ww(_h(Q.y,0,1)),St=Be.getDay(),Be=St>4||St===0?Ev.ceil(Be):Ev(Be),Be=Pp.offset(Be,(Q.V-1)*7),Q.y=Be.getFullYear(),Q.m=Be.getMonth(),Q.d=Be.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),St="Z"in Q?Hw(_h(Q.y,0,1)).getUTCDay():Ww(_h(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(St+5)%7:Q.w+Q.U*7-(St+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Hw(Q)):Ww(Q)}}function k(oe,ge,be,Q){for(var Ye=0,Be=ge.length,St=be.length,jt,ur;Ye<Be;){if(Q>=St)return-1;if(jt=ge.charCodeAt(Ye++),jt===37){if(jt=ge.charAt(Ye++),ur=N[jt in nM?ge.charAt(Ye++):jt],!ur||(Q=ur(oe,be,Q))<0)return-1}else if(jt!=be.charCodeAt(Q++))return-1}return Q}function C(oe,ge,be){var Q=u.exec(ge.slice(be));return Q?(oe.p=d.get(Q[0].toLowerCase()),be+Q[0].length):-1}function P(oe,ge,be){var Q=m.exec(ge.slice(be));return Q?(oe.w=g.get(Q[0].toLowerCase()),be+Q[0].length):-1}function E(oe,ge,be){var Q=h.exec(ge.slice(be));return Q?(oe.w=f.get(Q[0].toLowerCase()),be+Q[0].length):-1}function T(oe,ge,be){var Q=b.exec(ge.slice(be));return Q?(oe.m=v.get(Q[0].toLowerCase()),be+Q[0].length):-1}function F(oe,ge,be){var Q=p.exec(ge.slice(be));return Q?(oe.m=y.get(Q[0].toLowerCase()),be+Q[0].length):-1}function D(oe,ge,be){return k(oe,t,ge,be)}function $(oe,ge,be){return k(oe,r,ge,be)}function U(oe,ge,be){return k(oe,n,ge,be)}function q(oe){return o[oe.getDay()]}function I(oe){return i[oe.getDay()]}function V(oe){return c[oe.getMonth()]}function Y(oe){return l[oe.getMonth()]}function se(oe){return a[+(oe.getHours()>=12)]}function ie(oe){return 1+~~(oe.getMonth()/3)}function je(oe){return o[oe.getUTCDay()]}function Ee(oe){return i[oe.getUTCDay()]}function at(oe){return c[oe.getUTCMonth()]}function et(oe){return l[oe.getUTCMonth()]}function pe(oe){return a[+(oe.getUTCHours()>=12)]}function Ue(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ge=S(oe+="",w);return ge.toString=function(){return oe},ge},parse:function(oe){var ge=_(oe+="",!1);return ge.toString=function(){return oe},ge},utcFormat:function(oe){var ge=S(oe+="",j);return ge.toString=function(){return oe},ge},utcParse:function(oe){var ge=_(oe+="",!0);return ge.toString=function(){return oe},ge}}}var nM={"-":"",_:" ",0:"0"},Rr=/^\s*\d+/,OPe=/^%/,MPe=/[\\^$*+?|[\]().{}]/g;function dt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function RPe(e){return e.replace(MPe,"\\$&")}function Sh(e){return new RegExp("^(?:"+e.map(RPe).join("|")+")","i")}function kh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function DPe(e,t,r){var n=Rr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $Pe(e,t,r){var n=Rr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function IPe(e,t,r){var n=Rr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LPe(e,t,r){var n=Rr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function FPe(e,t,r){var n=Rr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function sM(e,t,r){var n=Rr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function aM(e,t,r){var n=Rr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function BPe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function UPe(e,t,r){var n=Rr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function zPe(e,t,r){var n=Rr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function iM(e,t,r){var n=Rr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function VPe(e,t,r){var n=Rr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function oM(e,t,r){var n=Rr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function qPe(e,t,r){var n=Rr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function WPe(e,t,r){var n=Rr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function HPe(e,t,r){var n=Rr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function KPe(e,t,r){var n=Rr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GPe(e,t,r){var n=OPe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function YPe(e,t,r){var n=Rr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function XPe(e,t,r){var n=Rr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function lM(e,t){return dt(e.getDate(),t,2)}function QPe(e,t){return dt(e.getHours(),t,2)}function JPe(e,t){return dt(e.getHours()%12||12,t,2)}function ZPe(e,t){return dt(1+Pp.count(hi(e),e),t,3)}function hU(e,t){return dt(e.getMilliseconds(),t,3)}function eAe(e,t){return hU(e,t)+"000"}function tAe(e,t){return dt(e.getMonth()+1,t,2)}function rAe(e,t){return dt(e.getMinutes(),t,2)}function nAe(e,t){return dt(e.getSeconds(),t,2)}function sAe(e){var t=e.getDay();return t===0?7:t}function aAe(e,t){return dt(I0.count(hi(e)-1,e),t,2)}function fU(e){var t=e.getDay();return t>=4||t===0?td(e):td.ceil(e)}function iAe(e,t){return e=fU(e),dt(td.count(hi(e),e)+(hi(e).getDay()===4),t,2)}function oAe(e){return e.getDay()}function lAe(e,t){return dt(Ev.count(hi(e)-1,e),t,2)}function cAe(e,t){return dt(e.getFullYear()%100,t,2)}function uAe(e,t){return e=fU(e),dt(e.getFullYear()%100,t,2)}function dAe(e,t){return dt(e.getFullYear()%1e4,t,4)}function hAe(e,t){var r=e.getDay();return e=r>=4||r===0?td(e):td.ceil(e),dt(e.getFullYear()%1e4,t,4)}function fAe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dt(t/60|0,"0",2)+dt(t%60,"0",2)}function cM(e,t){return dt(e.getUTCDate(),t,2)}function mAe(e,t){return dt(e.getUTCHours(),t,2)}function pAe(e,t){return dt(e.getUTCHours()%12||12,t,2)}function gAe(e,t){return dt(1+$0.count(fi(e),e),t,3)}function mU(e,t){return dt(e.getUTCMilliseconds(),t,3)}function xAe(e,t){return mU(e,t)+"000"}function vAe(e,t){return dt(e.getUTCMonth()+1,t,2)}function yAe(e,t){return dt(e.getUTCMinutes(),t,2)}function bAe(e,t){return dt(e.getUTCSeconds(),t,2)}function wAe(e){var t=e.getUTCDay();return t===0?7:t}function jAe(e,t){return dt(L0.count(fi(e)-1,e),t,2)}function pU(e){var t=e.getUTCDay();return t>=4||t===0?rd(e):rd.ceil(e)}function NAe(e,t){return e=pU(e),dt(rd.count(fi(e),e)+(fi(e).getUTCDay()===4),t,2)}function _Ae(e){return e.getUTCDay()}function SAe(e,t){return dt(Tv.count(fi(e)-1,e),t,2)}function kAe(e,t){return dt(e.getUTCFullYear()%100,t,2)}function CAe(e,t){return e=pU(e),dt(e.getUTCFullYear()%100,t,2)}function PAe(e,t){return dt(e.getUTCFullYear()%1e4,t,4)}function AAe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?rd(e):rd.ceil(e),dt(e.getUTCFullYear()%1e4,t,4)}function EAe(){return"+0000"}function uM(){return"%"}function dM(e){return+e}function hM(e){return Math.floor(+e/1e3)}var Ac,gU,xU;TAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function TAe(e){return Ac=TPe(e),gU=Ac.format,Ac.parse,xU=Ac.utcFormat,Ac.utcParse,Ac}function OAe(e){return new Date(e)}function MAe(e){return e instanceof Date?+e:+new Date(+e)}function PC(e,t,r,n,a,i,o,l,c,u){var d=mC(),h=d.invert,f=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),v=u("%b %d"),w=u("%B"),j=u("%Y");function N(S){return(c(S)<S?m:l(S)<S?g:o(S)<S?p:i(S)<S?y:n(S)<S?a(S)<S?b:v:r(S)<S?w:j)(S)}return d.invert=function(S){return new Date(h(S))},d.domain=function(S){return arguments.length?f(Array.from(S,MAe)):f().map(OAe)},d.ticks=function(S){var _=f();return e(_[0],_[_.length-1],S??10)},d.tickFormat=function(S,_){return _==null?N:u(_)},d.nice=function(S){var _=f();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?f(nU(_,S)):d},d.copy=function(){return Cp(d,PC(e,t,r,n,a,i,o,l,c,u))},d}function RAe(){return ys.apply(PC(APe,EPe,hi,kC,I0,Pp,_C,jC,pl,gU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function DAe(){return ys.apply(PC(CPe,PPe,fi,CC,L0,$0,SC,NC,pl,xU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function F0(){var e=0,t=1,r,n,a,i,o=un,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var m,g;return arguments.length?([m,g]=f,o=h(m,g),u):[o(0),o(1)]}}return u.range=d(Jd),u.rangeRound=d(fC),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),u}}function zo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vU(){var e=Uo(F0()(un));return e.copy=function(){return zo(e,vU())},bi.apply(e,arguments)}function yU(){var e=xC(F0()).domain([1,10]);return e.copy=function(){return zo(e,yU()).base(e.base())},bi.apply(e,arguments)}function bU(){var e=vC(F0());return e.copy=function(){return zo(e,bU()).constant(e.constant())},bi.apply(e,arguments)}function AC(){var e=yC(F0());return e.copy=function(){return zo(e,AC()).exponent(e.exponent())},bi.apply(e,arguments)}function $Ae(){return AC.apply(null,arguments).exponent(.5)}function wU(){var e=[],t=un;function r(n){if(n!=null&&!isNaN(n=+n))return t((Sp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(fo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>jCe(e,i/n))},r.copy=function(){return wU(t).domain(e)},bi.apply(r,arguments)}function B0(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=un,d,h=!1,f;function m(p){return isNaN(p=+p)?f:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(h?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(h=!!p,m):h},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(y){var b,v,w;return arguments.length?([b,v,w]=y,u=GCe(p,[b,v,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(Jd),m.rangeRound=g(fC),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return d=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function jU(){var e=Uo(B0()(un));return e.copy=function(){return zo(e,jU())},bi.apply(e,arguments)}function NU(){var e=xC(B0()).domain([.1,1,10]);return e.copy=function(){return zo(e,NU()).base(e.base())},bi.apply(e,arguments)}function _U(){var e=vC(B0());return e.copy=function(){return zo(e,_U()).constant(e.constant())},bi.apply(e,arguments)}function EC(){var e=yC(B0());return e.copy=function(){return zo(e,EC()).exponent(e.exponent())},bi.apply(e,arguments)}function IAe(){return EC.apply(null,arguments).exponent(.5)}const fM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:am,scaleDiverging:jU,scaleDivergingLog:NU,scaleDivergingPow:EC,scaleDivergingSqrt:IAe,scaleDivergingSymlog:_U,scaleIdentity:rU,scaleImplicit:BN,scaleLinear:Pv,scaleLog:sU,scaleOrdinal:uC,scalePoint:df,scalePow:bC,scaleQuantile:oU,scaleQuantize:lU,scaleRadial:iU,scaleSequential:vU,scaleSequentialLog:yU,scaleSequentialPow:AC,scaleSequentialQuantile:wU,scaleSequentialSqrt:$Ae,scaleSequentialSymlog:bU,scaleSqrt:xPe,scaleSymlog:aU,scaleThreshold:cU,scaleTime:RAe,scaleUtc:DAe,tickFormat:tU},Symbol.toStringTag,{value:"Module"}));var LAe=zd;function FAe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!LAe(o):r(o,l)))var l=o,c=i}return c}var U0=FAe;function BAe(e,t){return e>t}var SU=BAe,UAe=U0,zAe=SU,VAe=Qd;function qAe(e){return e&&e.length?UAe(e,VAe,zAe):void 0}var WAe=qAe;const eo=ot(WAe);function HAe(e,t){return e<t}var kU=HAe,KAe=U0,GAe=kU,YAe=Qd;function XAe(e){return e&&e.length?KAe(e,YAe,GAe):void 0}var QAe=XAe;const z0=ot(QAe);var JAe=qk,ZAe=Ea,eEe=RB,tEe=En;function rEe(e,t){var r=tEe(e)?JAe:eEe;return r(e,ZAe(t))}var nEe=rEe,sEe=OB,aEe=nEe;function iEe(e,t){return sEe(aEe(e,t),1)}var oEe=iEe;const lEe=ot(oEe);var cEe=aC;function uEe(e,t){return cEe(e,t)}var dEe=uEe;const nd=ot(dEe);var Zd=1e9,hEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OC,Ft=!0,ps="[DecimalError] ",Tl=ps+"Invalid argument: ",TC=ps+"Exponent out of range: ",eh=Math.floor,nl=Math.pow,fEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,In,Pr=1e7,Dt=7,CU=9007199254740991,Ov=eh(CU/Dt),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Dt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};_e.dividedBy=_e.div=function(e){return Qa(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,r=t.constructor;return _t(Qa(t,new r(e),0,1),r.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return mr(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(In))throw Error(ps+"NaN");if(r.s<1)throw Error(ps+(r.s?"NaN":"-Infinity"));return r.eq(In)?new n(0):(Ft=!1,t=Qa(um(r,i),um(e,i),i),Ft=!0,_t(t,a))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EU(t,e):PU(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ps+"NaN");return r.s?(Ft=!1,t=Qa(r,e,0,1).times(e),Ft=!0,r.minus(t)):_t(new n(r),a)};_e.naturalExponential=_e.exp=function(){return AU(this)};_e.naturalLogarithm=_e.ln=function(){return um(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PU(t,e):EU(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Tl+e);if(t=mr(a)+1,n=a.d.length-1,r=n*Dt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};_e.squareRoot=_e.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ps+"NaN")}for(e=mr(l),Ft=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=oa(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=eh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Qa(l,i,o+2)).times(.5),oa(i.d).slice(0,o)===(t=oa(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(_t(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ft=!0,_t(n,r)};_e.times=_e.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,c=f.length,u=m.length,c<u&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*f[a-n-1]+t,i[a--]=l%Pr|0,t=l/Pr|0;i[a]=(i[a]+t)%Pr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ft?_t(e,h.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(_a(e,0,Zd),t===void 0?t=n.rounding:_a(t,0,8),_t(r,e+mr(r)+1,t))};_e.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ec(n,!0):(_a(e,0,Zd),t===void 0?t=a.rounding:_a(t,0,8),n=_t(new a(n),e+1,t),r=ec(n,!0,e+1)),r};_e.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ec(a):(_a(e,0,Zd),t===void 0?t=i.rounding:_a(t,0,8),n=_t(new i(a),e+mr(a)+1,t),r=ec(n.abs(),!1,e+mr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return _t(new t(e),mr(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(In);if(l=new c(l),!l.s){if(e.s<1)throw Error(ps+"Infinity");return l}if(l.eq(In))return l;if(n=c.precision,e.eq(In))return _t(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=CU){for(a=new c(In),t=Math.ceil(n/Dt+4),Ft=!1;r%2&&(a=a.times(l),pM(a.d,t)),r=eh(r/2),r!==0;)l=l.times(l),pM(l.d,t);return Ft=!0,e.s<0?new c(In).div(a):_t(a,n)}}else if(i<0)throw Error(ps+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ft=!1,a=e.times(um(l,n+u)),Ft=!0,a=AU(a),a.s=i,a};_e.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=mr(a),n=ec(a,r<=i.toExpNeg||r>=i.toExpPos)):(_a(e,1,Zd),t===void 0?t=i.rounding:_a(t,0,8),a=_t(new i(a),e,t),r=mr(a),n=ec(a,e<=r||r<=i.toExpNeg,e)),n};_e.toSignificantDigits=_e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(_a(e,1,Zd),t===void 0?t=n.rounding:_a(t,0,8)),_t(new n(r),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mr(e),r=e.constructor;return ec(e,t<=r.toExpNeg||t>=r.toExpPos)};function PU(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ft?_t(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(h/Dt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Pr|0,c[i]%=Pr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ft?_t(t,h):t}function _a(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Tl+e)}function oa(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Dt-n.length,r&&(i+=$i(r)),i+=n;o=e[t],n=o+"",r=Dt-n.length,r&&(i+=$i(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Qa=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Pr|0,o=i/Pr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Pr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,h,f,m,g,p,y,b,v,w,j,N,S,_,k,C=n.constructor,P=n.s==a.s?1:-1,E=n.d,T=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(ps+"Division by zero");for(c=n.e-a.e,_=T.length,N=E.length,m=new C(P),g=m.d=[],u=0;T[u]==(E[u]||0);)++u;if(T[u]>(E[u]||0)&&--c,i==null?v=i=C.precision:o?v=i+(mr(n)-mr(a))+1:v=i,v<0)return new C(0);if(v=v/Dt+2|0,u=0,_==1)for(d=0,T=T[0],v++;(u<N||d)&&v--;u++)w=d*Pr+(E[u]||0),g[u]=w/T|0,d=w%T|0;else{for(d=Pr/(T[0]+1)|0,d>1&&(T=e(T,d),E=e(E,d),_=T.length,N=E.length),j=_,p=E.slice(0,_),y=p.length;y<_;)p[y++]=0;k=T.slice(),k.unshift(0),S=T[0],T[1]>=Pr/2&&++S;do d=0,l=t(T,p,_,y),l<0?(b=p[0],_!=y&&(b=b*Pr+(p[1]||0)),d=b/S|0,d>1?(d>=Pr&&(d=Pr-1),h=e(T,d),f=h.length,y=p.length,l=t(h,p,f,y),l==1&&(d--,r(h,_<f?k:T,f))):(d==0&&(l=d=1),h=T.slice()),f=h.length,f<y&&h.unshift(0),r(p,h,y),l==-1&&(y=p.length,l=t(T,p,_,y),l<1&&(d++,r(p,_<y?k:T,y))),y=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[y++]=E[j]||0:(p=[E[j]],y=1);while((j++<N||p[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=c,_t(m,o?i+mr(m)+1:i)}}();function AU(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(mr(e)>16)throw Error(TC+mr(e));if(!e.s)return new d(In);for(t==null?(Ft=!1,l=h):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(nl(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(In),d.precision=l;;){if(a=_t(a.times(e),l),r=r.times(++c),o=i.plus(Qa(a,r,l)),oa(o.d).slice(0,l)===oa(i.d).slice(0,l)){for(;u--;)i=_t(i.times(i),l);return d.precision=h,t==null?(Ft=!0,_t(i,h)):i}i=o}}function mr(e){for(var t=e.e*Dt,r=e.d[0];r>=10;r/=10)t++;return t}function Kw(e,t,r){if(t>e.LN10.sd())throw Ft=!0,r&&(e.precision=r),Error(ps+"LN10 precision limit exceeded");return _t(new e(e.LN10),t)}function $i(e){for(var t="";e--;)t+="0";return t}function um(e,t){var r,n,a,i,o,l,c,u,d,h=1,f=10,m=e,g=m.d,p=m.constructor,y=p.precision;if(m.s<1)throw Error(ps+(m.s?"NaN":"-Infinity"));if(m.eq(In))return new p(0);if(t==null?(Ft=!1,u=y):u=t,m.eq(10))return t==null&&(Ft=!0),Kw(p,u);if(u+=f,p.precision=u,r=oa(g),n=r.charAt(0),i=mr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=oa(m.d),n=r.charAt(0),h++;i=mr(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=Kw(p,u+2,y).times(i+""),m=um(new p(n+"."+r.slice(1)),u-f).plus(c),p.precision=y,t==null?(Ft=!0,_t(m,y)):m;for(l=o=m=Qa(m.minus(In),m.plus(In),u),d=_t(m.times(m),u),a=3;;){if(o=_t(o.times(d),u),c=l.plus(Qa(o,new p(a),u)),oa(c.d).slice(0,u)===oa(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Kw(p,u+2,y).times(i+""))),l=Qa(l,new p(h),u),p.precision=y,t==null?(Ft=!0,_t(l,y)):l;l=c,a+=2}}function mM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=eh(r/Dt),e.d=[],n=(r+1)%Dt,r<0&&(n+=Dt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Dt;n<a;)e.d.push(+t.slice(n,n+=Dt));t=t.slice(n),n=Dt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ft&&(e.e>Ov||e.e<-Ov))throw Error(TC+r)}else e.s=0,e.e=0,e.d=[0];return e}function _t(e,t,r){var n,a,i,o,l,c,u,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Dt,a=t,u=h[d=0];else{if(d=Math.ceil((n+1)/Dt),i=h.length,d>=i)return e;for(u=i=h[d],o=1;i>=10;i/=10)o++;n%=Dt,a=n-Dt+o}if(r!==void 0&&(i=nl(10,o-a-1),l=u/i%10|0,c=t<0||h[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/nl(10,o-a):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=mr(e),h.length=1,t=t-i-1,h[0]=nl(10,(Dt-t%Dt)%Dt),e.e=eh(-t/Dt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=d,i=1,d--):(h.length=d+1,i=nl(10,Dt-n),h[d]=a>0?(u/nl(10,o-a)%nl(10,a)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==Pr&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=Pr)break;h[d--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(Ft&&(e.e>Ov||e.e<-Ov))throw Error(TC+mr(e));return e}function EU(e,t){var r,n,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Ft?_t(t,m):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),a=Math.max(Math.ceil(m/Dt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=Pr-1;--c[i],c[a]+=Pr}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ft?_t(t,m):t):new f(0)}function ec(e,t,r){var n,a=mr(e),i=oa(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+$i(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+$i(-a-1)+i,r&&(n=r-o)>0&&(i+=$i(n))):a>=o?(i+=$i(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+$i(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=$i(n))),e.s<0?"-"+i:i}function pM(e,t){if(e.length>t)return e.length=t,!0}function TU(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Tl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return mM(o,i.toString())}else if(typeof i!="string")throw Error(Tl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,fEe.test(i))mM(o,i);else throw Error(Tl+i)}if(a.prototype=_e,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=TU,a.config=a.set=mEe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function mEe(e){if(!e||typeof e!="object")throw Error(ps+"Object expected");var t,r,n,a=["precision",1,Zd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(eh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Tl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Tl+r+": "+n);return this}var OC=TU(hEe);In=new OC(1);const xt=OC;function pEe(e){return yEe(e)||vEe(e)||xEe(e)||gEe()}function gEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xEe(e,t){if(e){if(typeof e=="string")return qN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(e,t)}}function vEe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function yEe(e){if(Array.isArray(e))return qN(e)}function qN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bEe=function(t){return t},OU={"@@functional/placeholder":!0},MU=function(t){return t===OU},gM=function(t){return function r(){return arguments.length===0||arguments.length===1&&MU(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},wEe=function e(t,r){return t===1?r:gM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==OU}).length;return o>=t?r.apply(void 0,a):e(t-o,gM(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(h){return MU(h)?c.shift():h});return r.apply(void 0,pEe(d).concat(c))}))})},V0=function(t){return wEe(t.length,t)},WN=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},jEe=V0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),NEe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return bEe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},HN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},RU=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function _Ee(e){var t;return e===0?t=1:t=Math.floor(new xt(e).abs().log(10).toNumber())+1,t}function SEe(e,t,r){for(var n=new xt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var kEe=V0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),CEe=V0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),PEe=V0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const q0={rangeStep:SEe,getDigitCount:_Ee,interpolateNumber:kEe,uninterpolateNumber:CEe,uninterpolateTruncation:PEe};function KN(e){return TEe(e)||EEe(e)||DU(e)||AEe()}function AEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EEe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function TEe(e){if(Array.isArray(e))return GN(e)}function dm(e,t){return REe(e)||MEe(e,t)||DU(e,t)||OEe()}function OEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DU(e,t){if(e){if(typeof e=="string")return GN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GN(e,t)}}function GN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MEe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function REe(e){if(Array.isArray(e))return e}function $U(e){var t=dm(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function IU(e,t,r){if(e.lte(0))return new xt(0);var n=q0.getDigitCount(e.toNumber()),a=new xt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new xt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new xt(Math.ceil(c))}function DEe(e,t,r){var n=1,a=new xt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new xt(10).pow(q0.getDigitCount(e)-1),a=new xt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new xt(Math.floor(e)))}else e===0?a=new xt(Math.floor((t-1)/2)):r||(a=new xt(Math.floor(e)));var o=Math.floor((t-1)/2),l=NEe(jEe(function(c){return a.add(new xt(c-o).mul(n)).toNumber()}),WN);return l(0,t)}function LU(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new xt(0),tickMin:new xt(0),tickMax:new xt(0)};var i=IU(new xt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new xt(0):(o=new xt(e).add(t).div(2),o=o.sub(new xt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new xt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?LU(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new xt(l).mul(i)),tickMax:o.add(new xt(c).mul(i))})}function $Ee(e){var t=dm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=$U([r,n]),c=dm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(KN(WN(0,a-1).map(function(){return 1/0}))):[].concat(KN(WN(0,a-1).map(function(){return-1/0})),[d]);return r>n?HN(h):h}if(u===d)return DEe(u,a,i);var f=LU(u,d,o,i),m=f.step,g=f.tickMin,p=f.tickMax,y=q0.rangeStep(g,p.add(new xt(.1).mul(m)),m);return r>n?HN(y):y}function IEe(e,t){var r=dm(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=$U([n,a]),l=dm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),h=IU(new xt(u).sub(c).div(d-1),i,0),f=[].concat(KN(q0.rangeStep(new xt(c),new xt(u).sub(new xt(.99).mul(h)),h)),[u]);return n>a?HN(f):f}var LEe=RU($Ee),FEe=RU(IEe),BEe="Invariant failed";function tc(e,t){throw new Error(BEe)}var UEe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mv.apply(this,arguments)}function zEe(e,t){return HEe(e)||WEe(e,t)||qEe(e,t)||VEe()}function VEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qEe(e,t){if(e){if(typeof e=="string")return xM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xM(e,t)}}function xM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function HEe(e){if(Array.isArray(e))return e}function KEe(e,t){if(e==null)return{};var r=GEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UU(n.key),n)}}function QEe(e,t,r){return t&&XEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JEe(e,t,r){return t=Rv(t),ZEe(e,FU()?Reflect.construct(t,r||[],Rv(e).constructor):t.apply(e,r))}function ZEe(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eTe(e)}function eTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FU=function(){return!!e})()}function Rv(e){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(e)}function tTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YN(e,t)}function YN(e,t){return YN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YN(e,t)}function BU(e,t,r){return t=UU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=rTe(e,"string");return sd(t)=="symbol"?t:t+""}function rTe(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W0=function(e){function t(){return YEe(this,t),JEe(this,t,arguments)}return tTe(t,e),QEe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,f=KEe(n,UEe),m=Pe(f,!1);this.props.direction==="x"&&d.type!=="number"&&tc();var g=c.map(function(p){var y=u(p,l),b=y.x,v=y.y,w=y.value,j=y.errorVal;if(!j)return null;var N=[],S,_;if(Array.isArray(j)){var k=zEe(j,2);S=k[0],_=k[1]}else S=_=j;if(i==="vertical"){var C=d.scale,P=v+a,E=P+o,T=P-o,F=C(w-S),D=C(w+_);N.push({x1:D,y1:E,x2:D,y2:T}),N.push({x1:F,y1:P,x2:D,y2:P}),N.push({x1:F,y1:E,x2:F,y2:T})}else if(i==="horizontal"){var $=h.scale,U=b+a,q=U-o,I=U+o,V=$(w-S),Y=$(w+_);N.push({x1:q,y1:Y,x2:I,y2:Y}),N.push({x1:U,y1:V,x2:U,y2:Y}),N.push({x1:q,y1:V,x2:I,y2:V})}return O.createElement(nt,Mv({className:"recharts-errorBar",key:"bar-".concat(N.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},m),N.map(function(se){return O.createElement("line",Mv({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return O.createElement(nt,{className:"recharts-errorBars"},g)}}])}(O.Component);BU(W0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});BU(W0,"displayName","ErrorBar");function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function vM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(r),!0).forEach(function(n){nTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nTe(e,t,r){return t=sTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sTe(e){var t=aTe(e,"string");return hm(t)=="symbol"?t:t+""}function aTe(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zU=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Dn(r,xu);if(!o)return null;var l=xu.defaultProps,c=l!==void 0?Ko(Ko({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,h){var f=h.item,m=h.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var h=d.item,f=h.type.defaultProps,m=f!==void 0?Ko(Ko({},f),h.props):{},g=m.dataKey,p=m.name,y=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||y||"square",color:MC(h),value:p||g,payload:m}}),Ko(Ko(Ko({},c),xu.getWithHeight(o,a)),{},{payload:u,item:o})};function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function yM(e){return cTe(e)||lTe(e)||oTe(e)||iTe()}function iTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oTe(e,t){if(e){if(typeof e=="string")return XN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XN(e,t)}}function lTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cTe(e){if(Array.isArray(e))return XN(e)}function XN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(r),!0).forEach(function(n){yu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yu(e,t,r){return t=uTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uTe(e){var t=dTe(e,"string");return fm(t)=="symbol"?t:t+""}function dTe(e,t){if(fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t,r){return ze(e)||ze(t)?r:wr(t)?zn(e,t,r):Fe(t)?t(e):r}function hf(e,t,r,n){var a=lEe(e,function(l){return yr(l,t)});if(r==="number"){var i=a.filter(function(l){return ce(l)||parseFloat(l)});return i.length?[z0(i),eo(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!ze(l)}):a;return o.map(function(l){return wr(l)||l instanceof Date?l:""})}var hTe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,h=a[u].coordinate,f=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(ln(h-d)!==ln(f-h)){var g=[];if(ln(f-h)===ln(c[1]-c[0])){m=f;var p=h+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var y=f+c[1]-c[0];g[0]=Math.min(h,(y+h)/2),g[1]=Math.max(h,(y+h)/2)}var b=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var v=Math.min(d,f),w=Math.max(d,f);if(t>(v+h)/2&&t<=(w+h)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},MC=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Zt(Zt({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},fTe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,h=Object.keys(d),f=0,m=h.length;f<m;f++){var g=d[h[f]],p=g.items,y=g.cateAxisId,b=p.filter(function(_){return Xa(_.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,w=v!==void 0?Zt(Zt({},v),b[0].props):b[0].props,j=w.barSize,N=w[y];o[N]||(o[N]=[]);var S=ze(j)?r:j;o[N].push({item:b[0],stackList:b.slice(1),barSize:ze(S)?void 0:cn(S,n,0)})}}return o},mTe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=cn(r,a,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=a/c,g=o.reduce(function(j,N){return j+N.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(f=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,y={offset:p-u,size:0};d=o.reduce(function(j,N){var S={item:N.item,position:{offset:y.offset+y.size+u,size:f?m:N.barSize}},_=[].concat(yM(j),[S]);return y=_[_.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){_.push({item:k,position:y})}),_},h)}else{var b=cn(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var v=(a-2*b-(c-1)*u)/c;v>1&&(v>>=0);var w=l===+l?Math.min(v,l):v;d=o.reduce(function(j,N,S){var _=[].concat(yM(j),[{item:N.item,position:{offset:b+(v+u)*S+(v-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){_.push({item:k,position:_[_.length-1].position})}),_},h)}return d},pTe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=zU({children:i,legendWidth:c});if(u){var d=a||{},h=d.width,f=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&ce(t[m]))return Zt(Zt({},t),{},yu({},m,t[m]+(h||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&ce(t[g]))return Zt(Zt({},t),{},yu({},g,t[g]+(f||0)))}return t},gTe=function(t,r,n){return ze(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},VU=function(t,r,n,a,i){var o=r.props.children,l=ds(o,W0).filter(function(u){return gTe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=yr(d,n);if(ze(h))return u;var f=Array.isArray(h)?[z0(h),eo(h)]:[h,h],m=c.reduce(function(g,p){var y=yr(d,p,0),b=f[0]-Math.abs(Array.isArray(y)?y[0]:y),v=f[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},xTe=function(t,r,n,a,i){var o=r.map(function(l){return VU(t,l,n,i,a)}).filter(function(l){return!ze(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},qU=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&VU(t,c,u,a)||hf(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},WU=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},HU=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Ka=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ln(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:a(f)+u,value:h,offset:u}});return d.filter(function(h){return!Kd(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:a(h)+u,value:h,index:f,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+u,value:h,offset:u}}):a.domain().map(function(h,f){return{coordinate:a(h)+u,value:i?i[h]:h,index:f,offset:u}})},Gw=new WeakMap,jg=function(t,r){if(typeof r!="function")return t;Gw.has(t)||Gw.set(t,new WeakMap);var n=Gw.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},KU=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:am(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Pv(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:df(),realScaleType:"point"}:i==="category"?{scale:am(),realScaleType:"band"}:{scale:Pv(),realScaleType:"linear"};if(Np(a)){var c="scale".concat(C0(a));return{scale:(fM[c]||df)(),realScaleType:fM[c]?c:"point"}}return Fe(a)?{scale:a}:{scale:df(),realScaleType:"point"}},wM=1e-4,GU=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-wM,o=Math.max(a[0],a[1])+wM,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},vTe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},yTe=function(t,r){if(!r||r.length!==2||!ce(r[0])||!ce(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ce(t[0])||t[0]<n)&&(i[0]=n),(!ce(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},bTe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Kd(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},wTe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Kd(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},jTe={sign:bTe,expand:B0e,none:Yu,silhouette:U0e,wiggle:z0e,positive:wTe},NTe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=jTe[n],o=F0e().keys(a).value(function(l,c){return+yr(l,c,0)}).order(wN).offset(i);return o(t)},_Te=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,f){var m,g=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Zt(Zt({},f.type.defaultProps),f.props):f.props,p=g.stackId,y=g.hide;if(y)return h;var b=g[n],v=h[b]||{hasStack:!1,stackGroups:{}};if(wr(p)){var w=v.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(f),v.hasStack=!0,v.stackGroups[p]=w}else v.stackGroups[Gd("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[f]};return Zt(Zt({},h),{},yu({},b,v))},c),d={};return Object.keys(u).reduce(function(h,f){var m=u[f];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,y){var b=m.stackGroups[y];return Zt(Zt({},p),{},yu({},y,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:NTe(t,b.items,i)}))},g)}return Zt(Zt({},h),{},yu({},f,m))},d)},YU=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=LEe(u,i,l);return t.domain([z0(d),eo(d)]),{niceTicks:d}}if(i&&a==="number"){var h=t.domain(),f=FEe(h,i,l);return{niceTicks:f}}return null};function jM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ze(a[t.dataKey])){var l=ov(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=yr(a,ze(o)?t.dataKey:o);return ze(c)?null:t.scale(c)}var NM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=yr(o,r.dataKey,r.domain[l]);return ze(c)?null:r.scale(c)-i/2+a},STe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},kTe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Zt(Zt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(wr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},CTe=function(t){return t.reduce(function(r,n){return[z0(n.concat([r[0]]).filter(ce)),eo(n.concat([r[1]]).filter(ce))]},[1/0,-1/0])},XU=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var h=CTe(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},_M=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QN=function(t,r,n){if(Fe(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ce(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(_M.test(t[0])){var i=+_M.exec(t[0])[1];a[0]=r[0]-i}else Fe(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ce(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(SM.test(t[1])){var o=+SM.exec(t[1])[1];a[1]=r[1]+o}else Fe(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Dv=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=oC(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},kM=function(t,r,n){return!t||!t.length||nd(t,zn(n,"type.defaultProps.domain"))?r:t},QU=function(t,r){var n=t.type.defaultProps?Zt(Zt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Zt(Zt({},Pe(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:MC(t),value:yr(r,a),type:c,payload:r,chartType:u,hide:d})};function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function CM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(r),!0).forEach(function(n){JU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JU(e,t,r){return t=PTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PTe(e){var t=ATe(e,"string");return mm(t)=="symbol"?t:t+""}function ATe(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ETe(e,t){return RTe(e)||MTe(e,t)||OTe(e,t)||TTe()}function TTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OTe(e,t){if(e){if(typeof e=="string")return PM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PM(e,t)}}function PM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function RTe(e){if(Array.isArray(e))return e}var $v=Math.PI/180,DTe=function(t){return t*180/Math.PI},Et=function(t,r,n,a){return{x:t+Math.cos(-$v*a)*n,y:r+Math.sin(-$v*a)*n}},ZU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},$Te=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=cn(t.cx,o,o/2),h=cn(t.cy,l,l/2),f=ZU(o,l,n),m=cn(t.innerRadius,f,0),g=cn(t.outerRadius,f,f*.8),p=Object.keys(r);return p.reduce(function(y,b){var v=r[b],w=v.domain,j=v.reversed,N;if(ze(v.range))a==="angleAxis"?N=[c,u]:a==="radiusAxis"&&(N=[m,g]),j&&(N=[N[1],N[0]]);else{N=v.range;var S=N,_=ETe(S,2);c=_[0],u=_[1]}var k=KU(v,i),C=k.realScaleType,P=k.scale;P.domain(w).range(N),GU(P);var E=YU(P,La(La({},v),{},{realScaleType:C})),T=La(La(La({},v),E),{},{range:N,radius:g,realScaleType:C,scale:P,cx:d,cy:h,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return La(La({},y),{},JU({},b,T))},{})},ITe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},LTe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=ITe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:DTe(u),angleInRadian:u}},FTe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},BTe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},AM=function(t,r){var n=t.x,a=t.y,i=LTe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=FTe(r),h=d.startAngle,f=d.endAngle,m=l,g;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}return g?La(La({},r),{},{radius:o,angle:BTe(m,r)}):null},ez=function(t){return!x.isValidElement(t)&&!Fe(t)&&typeof t!="boolean"?t.className:""};function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}var UTe=["offset"];function zTe(e){return HTe(e)||WTe(e)||qTe(e)||VTe()}function VTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qTe(e,t){if(e){if(typeof e=="string")return JN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(e,t)}}function WTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HTe(e){if(Array.isArray(e))return JN(e)}function JN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KTe(e,t){if(e==null)return{};var r=GTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function EM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(r),!0).forEach(function(n){YTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YTe(e,t,r){return t=XTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XTe(e){var t=QTe(e,"string");return pm(t)=="symbol"?t:t+""}function QTe(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(this,arguments)}var JTe=function(t){var r=t.value,n=t.formatter,a=ze(t.children)?r:t.children;return Fe(n)?n(a):a},ZTe=function(t,r){var n=ln(r-t),a=Math.min(Math.abs(r-t),360);return n*a},e4e=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,y=(h+f)/2,b=ZTe(m,g),v=b>=0?1:-1,w,j;a==="insideStart"?(w=m+v*o,j=p):a==="insideEnd"?(w=g-v*o,j=!p):a==="end"&&(w=g+v*o,j=p),j=b<=0?j:!j;var N=Et(u,d,y,w),S=Et(u,d,y,w+(j?1:-1)*359),_="M".concat(N.x,",").concat(N.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),k=ze(t.id)?Gd("recharts-radial-line-"):t.id;return O.createElement("text",gm({},n,{dominantBaseline:"central",className:Ve("recharts-radial-bar-label",l)}),O.createElement("defs",null,O.createElement("path",{id:k,d:_})),O.createElement("textPath",{xlinkHref:"#".concat(k)},r))},t4e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,h=i.endAngle,f=(d+h)/2;if(a==="outside"){var m=Et(o,l,u+n,f),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,b=Et(o,l,y,f),v=b.x,w=b.y;return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},r4e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*a,m=h>0?"end":"start",g=h>0?"start":"end",p=u>=0?1:-1,y=p*a,b=p>0?"end":"start",v=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-h*a,textAnchor:"middle",verticalAnchor:m};return pr(pr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:g};return pr(pr({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return pr(pr({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return pr(pr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return i==="insideLeft"?pr({x:l+y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},_):i==="insideRight"?pr({x:l+u-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},_):i==="insideTop"?pr({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:g},_):i==="insideBottom"?pr({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:m},_):i==="insideTopLeft"?pr({x:l+y,y:c+f,textAnchor:v,verticalAnchor:g},_):i==="insideTopRight"?pr({x:l+u-y,y:c+f,textAnchor:b,verticalAnchor:g},_):i==="insideBottomLeft"?pr({x:l+y,y:c+d-f,textAnchor:v,verticalAnchor:m},_):i==="insideBottomRight"?pr({x:l+u-y,y:c+d-f,textAnchor:b,verticalAnchor:m},_):Vd(i)&&(ce(i.x)||fl(i.x))&&(ce(i.y)||fl(i.y))?pr({x:l+cn(i.x,u),y:c+cn(i.y,d),textAnchor:"end",verticalAnchor:"end"},_):pr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},n4e=function(t){return"cx"in t&&ce(t.cx)};function Er(e){var t=e.offset,r=t===void 0?5:t,n=KTe(e,UTe),a=pr({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,h=d===void 0?"":d,f=a.textBreakAll;if(!i||ze(l)&&ze(c)&&!x.isValidElement(u)&&!Fe(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var m;if(Fe(u)){if(m=x.createElement(u,a),x.isValidElement(m))return m}else m=JTe(a);var g=n4e(i),p=Pe(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return e4e(a,m,p);var y=g?t4e(a):r4e(a);return O.createElement(Zl,gm({className:Ve("recharts-label",h)},p,y,{breakAll:f}),m)}Er.displayName="Label";var tz=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,f=t.y,m=t.top,g=t.left,p=t.width,y=t.height,b=t.clockWise,v=t.labelViewBox;if(v)return v;if(ce(p)&&ce(y)){if(ce(h)&&ce(f))return{x:h,y:f,width:p,height:y};if(ce(m)&&ce(g))return{x:m,y:g,width:p,height:y}}return ce(h)&&ce(f)?{x:h,y:f,width:0,height:0}:ce(r)&&ce(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},s4e=function(t,r){return t?t===!0?O.createElement(Er,{key:"label-implicit",viewBox:r}):wr(t)?O.createElement(Er,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===Er?x.cloneElement(t,{key:"label-implicit",viewBox:r}):O.createElement(Er,{key:"label-implicit",content:t,viewBox:r}):Fe(t)?O.createElement(Er,{key:"label-implicit",content:t,viewBox:r}):Vd(t)?O.createElement(Er,gm({viewBox:r},t,{key:"label-implicit"})):null:null},a4e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=tz(t),o=ds(a,Er).map(function(c,u){return x.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=s4e(t.label,r||i);return[l].concat(zTe(o))};Er.parseViewBox=tz;Er.renderCallByParent=a4e;function i4e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var o4e=i4e;const l4e=ot(o4e);function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}var c4e=["valueAccessor"],u4e=["data","dataKey","clockWise","id","textBreakAll"];function d4e(e){return p4e(e)||m4e(e)||f4e(e)||h4e()}function h4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f4e(e,t){if(e){if(typeof e=="string")return ZN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZN(e,t)}}function m4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p4e(e){if(Array.isArray(e))return ZN(e)}function ZN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iv.apply(this,arguments)}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(n){g4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g4e(e,t,r){return t=x4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x4e(e){var t=v4e(e,"string");return xm(t)=="symbol"?t:t+""}function v4e(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MM(e,t){if(e==null)return{};var r=y4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var b4e=function(t){return Array.isArray(t.value)?l4e(t.value):t.value};function Ja(e){var t=e.valueAccessor,r=t===void 0?b4e:t,n=MM(e,c4e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=MM(n,u4e);return!a||!a.length?null:O.createElement(nt,{className:"recharts-label-list"},a.map(function(d,h){var f=ze(i)?r(d,h):yr(d&&d.payload,i),m=ze(l)?{}:{id:"".concat(l,"-").concat(h)};return O.createElement(Er,Iv({},Pe(d,!0),u,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Er.parseViewBox(ze(o)?d:OM(OM({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ja.displayName="LabelList";function w4e(e,t){return e?e===!0?O.createElement(Ja,{key:"labelList-implicit",data:t}):O.isValidElement(e)||Fe(e)?O.createElement(Ja,{key:"labelList-implicit",data:t,content:e}):Vd(e)?O.createElement(Ja,Iv({data:t},e,{key:"labelList-implicit"})):null:null}function j4e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ds(n,Ja).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=w4e(e.label,t);return[i].concat(d4e(a))}Ja.renderCallByParent=j4e;function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(this,arguments)}function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(r),!0).forEach(function(n){N4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N4e(e,t,r){return t=_4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _4e(e){var t=S4e(e,"string");return vm(t)=="symbol"?t:t+""}function S4e(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k4e=function(t,r){var n=ln(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ng=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,h=Math.asin(c/d)/$v,f=u?i:i+o*h,m=Et(r,n,d,f),g=Et(r,n,a,f),p=u?i-o*h:i,y=Et(r,n,d*Math.cos(h*$v),p);return{center:m,circleTangency:g,lineTangency:y,theta:h}},rz=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=k4e(o,l),u=o+c,d=Et(r,n,i,o),h=Et(r,n,i,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var m=Et(r,n,a,o),g=Et(r,n,a,u);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},C4e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=ln(d-u),f=Ng({cx:r,cy:n,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,g=f.lineTangency,p=f.theta,y=Ng({cx:r,cy:n,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=y.circleTangency,v=y.lineTangency,w=y.theta,j=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rz({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var S=Ng({cx:r,cy:n,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=S.circleTangency,k=S.lineTangency,C=S.theta,P=Ng({cx:r,cy:n,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=P.circleTangency,T=P.lineTangency,F=P.theta,D=c?Math.abs(u-d):Math.abs(u-d)-C-F;if(D<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(h>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},P4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nz=function(t){var r=DM(DM({},P4e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,f=r.className;if(o<i||d===h)return null;var m=Ve("recharts-sector",f),g=o-i,p=cn(l,g,0,!0),y;return p>0&&Math.abs(d-h)<360?y=C4e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):y=rz({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),O.createElement("path",e_({},Pe(r,!0),{className:m,d:y,role:"img"}))};function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t_.apply(this,arguments)}function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(n){A4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A4e(e,t,r){return t=E4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E4e(e){var t=T4e(e,"string");return ym(t)=="symbol"?t:t+""}function T4e(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LM={curveBasisClosed:P0e,curveBasisOpen:A0e,curveBasis:C0e,curveBumpX:f0e,curveBumpY:m0e,curveLinearClosed:E0e,curveLinear:A0,curveMonotoneX:T0e,curveMonotoneY:O0e,curveNatural:M0e,curveStep:R0e,curveStepAfter:$0e,curveStepBefore:D0e},_g=function(t){return t.x===+t.x&&t.y===+t.y},Ch=function(t){return t.x},Ph=function(t){return t.y},O4e=function(t,r){if(Fe(t))return t;var n="curve".concat(C0(t));return(n==="curveMonotone"||n==="curveBump")&&r?LM["".concat(n).concat(r==="vertical"?"Y":"X")]:LM[n]||A0},M4e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=O4e(n,l),h=u?i.filter(function(p){return _g(p)}):i,f;if(Array.isArray(o)){var m=u?o.filter(function(p){return _g(p)}):o,g=h.map(function(p,y){return IM(IM({},p),{},{base:m[y]})});return l==="vertical"?f=mg().y(Ph).x1(Ch).x0(function(p){return p.base.x}):f=mg().x(Ch).y1(Ph).y0(function(p){return p.base.y}),f.defined(_g).curve(d),f(g)}return l==="vertical"&&ce(o)?f=mg().y(Ph).x1(Ch).x0(o):ce(o)?f=mg().x(Ch).y1(Ph).y0(o):f=Q7().x(Ch).y(Ph),f.defined(_g).curve(d),f(h)},bu=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?M4e(t):a;return O.createElement("path",t_({},Pe(t,!1),lv(t),{className:Ve("recharts-curve",r),d:o,ref:i}))},sz={exports:{}},R4e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",D4e=R4e,$4e=D4e;function az(){}function iz(){}iz.resetWarningCache=az;var I4e=function(){function e(n,a,i,o,l,c){if(c!==$4e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:iz,resetWarningCache:az};return r.PropTypes=r,r};sz.exports=I4e();var L4e=sz.exports;const We=ot(L4e);var F4e=Object.getOwnPropertyNames,B4e=Object.getOwnPropertySymbols,U4e=Object.prototype.hasOwnProperty;function FM(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Sg(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function BM(e){return F4e(e).concat(B4e(e))}var oz=Object.hasOwn||function(e,t){return U4e.call(e,t)};function th(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var lz="_owner",UM=Object.getOwnPropertyDescriptor,zM=Object.keys;function z4e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function V4e(e,t){return th(e.getTime(),t.getTime())}function VM(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var h=o.value,f=h[0],m=h[1],g=l.value,p=g[0],y=g[1];!u&&!n[d]&&(u=r.equals(f,p,i,d,e,t,r)&&r.equals(m,y,f,p,e,t,r))&&(n[d]=!0),d++}if(!u)return!1;i++}return!0}function q4e(e,t,r){var n=zM(e),a=n.length;if(zM(t).length!==a)return!1;for(var i;a-- >0;)if(i=n[a],i===lz&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!oz(t,i)||!r.equals(e[i],t[i],i,i,e,t,r))return!1;return!0}function Ah(e,t,r){var n=BM(e),a=n.length;if(BM(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],i===lz&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!oz(t,i)||!r.equals(e[i],t[i],i,i,e,t,r)||(o=UM(e,i),l=UM(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function W4e(e,t){return th(e.valueOf(),t.valueOf())}function H4e(e,t){return e.source===t.source&&e.flags===t.flags}function qM(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(i.value,o.value,i.value,o.value,e,t,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function K4e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var G4e="[object Arguments]",Y4e="[object Boolean]",X4e="[object Date]",Q4e="[object Map]",J4e="[object Number]",Z4e="[object Object]",eOe="[object RegExp]",tOe="[object Set]",rOe="[object String]",nOe=Array.isArray,WM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,HM=Object.assign,sOe=Object.prototype.toString.call.bind(Object.prototype.toString);function aOe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,h,f){if(d===h)return!0;if(d==null||h==null||typeof d!="object"||typeof h!="object")return d!==d&&h!==h;var m=d.constructor;if(m!==h.constructor)return!1;if(m===Object)return a(d,h,f);if(nOe(d))return t(d,h,f);if(WM!=null&&WM(d))return c(d,h,f);if(m===Date)return r(d,h,f);if(m===RegExp)return o(d,h,f);if(m===Map)return n(d,h,f);if(m===Set)return l(d,h,f);var g=sOe(d);return g===X4e?r(d,h,f):g===eOe?o(d,h,f):g===Q4e?n(d,h,f):g===tOe?l(d,h,f):g===Z4e?typeof d.then!="function"&&typeof h.then!="function"&&a(d,h,f):g===G4e?a(d,h,f):g===Y4e||g===J4e||g===rOe?i(d,h,f):!1}}function iOe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Ah:z4e,areDatesEqual:V4e,areMapsEqual:n?FM(VM,Ah):VM,areObjectsEqual:n?Ah:q4e,arePrimitiveWrappersEqual:W4e,areRegExpsEqual:H4e,areSetsEqual:n?FM(qM,Ah):qM,areTypedArraysEqual:n?Ah:K4e};if(r&&(a=HM({},a,r(a))),t){var i=Sg(a.areArraysEqual),o=Sg(a.areMapsEqual),l=Sg(a.areObjectsEqual),c=Sg(a.areSetsEqual);a=HM({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function oOe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function lOe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),h=d.cache,f=h===void 0?t?new WeakMap:void 0:h,m=d.meta;return r(c,u,{cache:f,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var cOe=Vo();Vo({strict:!0});Vo({circular:!0});Vo({circular:!0,strict:!0});Vo({createInternalComparator:function(){return th}});Vo({strict:!0,createInternalComparator:function(){return th}});Vo({circular:!0,createInternalComparator:function(){return th}});Vo({circular:!0,createInternalComparator:function(){return th},strict:!0});function Vo(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=iOe(e),c=aOe(l),u=n?n(c):oOe(c);return lOe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function uOe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function KM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):uOe(a)};requestAnimationFrame(n)}function r_(e){"@babel/helpers - typeof";return r_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r_(e)}function dOe(e){return pOe(e)||mOe(e)||fOe(e)||hOe()}function hOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fOe(e,t){if(e){if(typeof e=="string")return GM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GM(e,t)}}function GM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pOe(e){if(Array.isArray(e))return e}function gOe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=dOe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){KM(a.bind(null,u),c);return}a(c),KM(a.bind(null,u));return}r_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){cz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cz(e,t,r){return t=xOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xOe(e){var t=vOe(e,"string");return bm(t)==="symbol"?t:String(t)}function vOe(e,t){if(bm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yOe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},bOe=function(t){return t},wOe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ff=function(t,r){return Object.keys(r).reduce(function(n,a){return XM(XM({},n),{},cz({},a,t(a,r[a])))},{})},QM=function(t,r,n){return t.map(function(a){return"".concat(wOe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function jOe(e,t){return SOe(e)||_Oe(e,t)||uz(e,t)||NOe()}function NOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Oe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function SOe(e){if(Array.isArray(e))return e}function kOe(e){return AOe(e)||POe(e)||uz(e)||COe()}function COe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uz(e,t){if(e){if(typeof e=="string")return n_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n_(e,t)}}function POe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AOe(e){if(Array.isArray(e))return n_(e)}function n_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lv=1e-4,dz=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},hz=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},JM=function(t,r){return function(n){var a=dz(t,r);return hz(a,n)}},EOe=function(t,r){return function(n){var a=dz(t,r),i=[].concat(kOe(a.map(function(o,l){return o*l}).slice(1)),[0]);return hz(i,n)}},ZM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=jOe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var h=JM(a,o),f=JM(i,l),m=EOe(a,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var v=b>1?1:b,w=v,j=0;j<8;++j){var N=h(w)-v,S=m(w);if(Math.abs(N-v)<Lv||S<Lv)return f(w);w=g(w-N/S)}return f(w)};return p.isStepper=!1,p},TOe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,h,f){var m=-(d-h)*n,g=f*i,p=f+(m-g)*l/1e3,y=f*l/1e3+d;return Math.abs(y-h)<Lv&&Math.abs(p)<Lv?[h,0]:[y,p]};return c.isStepper=!0,c.dt=l,c},OOe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ZM(a);case"spring":return TOe();default:if(a.split("(")[0]==="cubic-bezier")return ZM(a)}return typeof a=="function"?a:null};function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function e3(e){return DOe(e)||ROe(e)||fz(e)||MOe()}function MOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ROe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DOe(e){if(Array.isArray(e))return a_(e)}function t3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(r),!0).forEach(function(n){s_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s_(e,t,r){return t=$Oe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Oe(e){var t=IOe(e,"string");return wm(t)==="symbol"?t:String(t)}function IOe(e,t){if(wm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LOe(e,t){return UOe(e)||BOe(e,t)||fz(e,t)||FOe()}function FOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fz(e,t){if(e){if(typeof e=="string")return a_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a_(e,t)}}function a_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function UOe(e){if(Array.isArray(e))return e}var Fv=function(t,r,n){return t+(r-t)*n},i_=function(t){var r=t.from,n=t.to;return r!==n},zOe=function e(t,r,n){var a=ff(function(i,o){if(i_(o)){var l=t(o.from,o.to,o.velocity),c=LOe(l,2),u=c[0],d=c[1];return Dr(Dr({},o),{},{from:u,velocity:d})}return o},r);return n<1?ff(function(i,o){return i_(o)?Dr(Dr({},o),{},{velocity:Fv(o.velocity,a[i].velocity,n),from:Fv(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const VOe=function(e,t,r,n,a){var i=yOe(e,t),o=i.reduce(function(y,b){return Dr(Dr({},y),{},s_({},b,[e[b],t[b]]))},{}),l=i.reduce(function(y,b){return Dr(Dr({},y),{},s_({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return ff(function(b,v){return v.from},l)},m=function(){return!Object.values(l).filter(i_).length},g=function(b){u||(u=b);var v=b-u,w=v/r.dt;l=zOe(r,l,w),a(Dr(Dr(Dr({},e),t),f())),u=b,m()||(c=requestAnimationFrame(h))},p=function(b){d||(d=b);var v=(b-d)/n,w=ff(function(N,S){return Fv.apply(void 0,e3(S).concat([r(v)]))},o);if(a(Dr(Dr(Dr({},e),t),w)),v<1)c=requestAnimationFrame(h);else{var j=ff(function(N,S){return Fv.apply(void 0,e3(S).concat([r(1)]))},o);a(Dr(Dr(Dr({},e),t),j))}};return h=r.isStepper?g:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}var qOe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function WOe(e,t){if(e==null)return{};var r=HOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HOe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Yw(e){return XOe(e)||YOe(e)||GOe(e)||KOe()}function KOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GOe(e,t){if(e){if(typeof e=="string")return o_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o_(e,t)}}function YOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XOe(e){if(Array.isArray(e))return o_(e)}function o_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(r),!0).forEach(function(n){Bh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bh(e,t,r){return t=mz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mz(n.key),n)}}function ZOe(e,t,r){return t&&JOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mz(e){var t=eMe(e,"string");return ad(t)==="symbol"?t:String(t)}function eMe(e,t){if(ad(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ad(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l_(e,t)}function l_(e,t){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l_(e,t)}function rMe(e){var t=nMe();return function(){var n=Bv(e),a;if(t){var i=Bv(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return c_(this,a)}}function c_(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u_(e)}function u_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bv(e){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bv(e)}var Sa=function(e){tMe(r,e);var t=rMe(r);function r(n,a){var i;QOe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(u_(i)),i.changeStyle=i.changeStyle.bind(u_(i)),!l||m<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:d}),c_(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof f=="function")return i.state={style:u},c_(i);i.state={style:c?Bh({},c,u):u}}else i.state={style:{}};return i}return ZOe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,h=i.from,f=this.state.style;if(l){if(!o){var m={style:c?Bh({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(m);return}if(!(cOe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?h:a.to;if(this.state&&f){var y={style:c?Bh({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(y)}this.runAnimation(ws(ws({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,m=VOe(o,l,OOe(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([f,d,g,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,m=function(p,y,b){if(b===0)return p;var v=y.duration,w=y.easing,j=w===void 0?"ease":w,N=y.style,S=y.properties,_=y.onAnimationEnd,k=b>0?o[b-1]:y,C=S||Object.keys(N);if(typeof j=="function"||j==="spring")return[].concat(Yw(p),[i.runJSAnimation.bind(i,{from:k.style,to:N,duration:v,easing:j}),v]);var P=QM(C,v,j),E=ws(ws(ws({},k.style),N),{},{transition:P});return[].concat(Yw(p),[E,v,_]).filter(bOe)};return this.manager.start([c].concat(Yw(o.reduce(m,[d,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=gOe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var p=l?Bh({},l,c):c,y=QM(Object.keys(p),o,u);g.start([d,i,ws(ws({},p),{},{transition:y}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=WOe(a,qOe),u=x.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var h=function(m){var g=m.props,p=g.style,y=p===void 0?{}:p,b=g.className,v=x.cloneElement(m,ws(ws({},c),{},{style:ws(ws({},y),d),className:b}));return v};return u===1?h(x.Children.only(i)):O.createElement("div",null,x.Children.map(i,function(f){return h(f)}))}}]),r}(x.PureComponent);Sa.displayName="Animate";Sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sa.propTypes={from:We.oneOfType([We.object,We.string]),to:We.oneOfType([We.object,We.string]),attributeName:We.string,duration:We.number,begin:We.number,easing:We.oneOfType([We.string,We.func]),steps:We.arrayOf(We.shape({duration:We.number.isRequired,style:We.object.isRequired,easing:We.oneOfType([We.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),We.func]),properties:We.arrayOf("string"),onAnimationEnd:We.func})),children:We.oneOfType([We.node,We.func]),isActive:We.bool,canBegin:We.bool,onAnimationEnd:We.func,shouldReAnimate:We.bool,onAnimationStart:We.func,onAnimationReStart:We.func};We.object,We.object,We.object,We.element;We.object,We.object,We.object,We.oneOfType([We.array,We.element]),We.any;function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uv.apply(this,arguments)}function sMe(e,t){return lMe(e)||oMe(e,t)||iMe(e,t)||aMe()}function aMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iMe(e,t){if(e){if(typeof e=="string")return n3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n3(e,t)}}function n3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function lMe(e){if(Array.isArray(e))return e}function s3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(r),!0).forEach(function(n){cMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cMe(e,t,r){return t=uMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uMe(e){var t=dMe(e,"string");return jm(t)=="symbol"?t:t+""}function dMe(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i3=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=i[f]>o?o:i[f];d="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(r)),d+="L ".concat(t+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*h[1])),d+="L ".concat(t+n,",").concat(r+a-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+n-c*h[2],",").concat(r+a)),d+="L ".concat(t+c*h[3],",").concat(r+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},hMe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return n>=u&&n<=d&&a>=h&&a<=f}return!1},fMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RC=function(t){var r=a3(a3({},fMe),t),n=x.useRef(),a=x.useState(-1),i=sMe(a,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,f=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,y=r.animationBegin,b=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var w=Ve("recharts-rectangle",m);return v?O.createElement(Sa,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:v},function(j){var N=j.width,S=j.height,_=j.x,k=j.y;return O.createElement(Sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:b,easing:g},O.createElement("path",Uv({},Pe(r,!0),{className:w,d:i3(_,k,N,S,f),ref:n})))}):O.createElement("path",Uv({},Pe(r,!0),{className:w,d:i3(c,u,d,h,f)}))},mMe=["points","className","baseLinePoints","connectNulls"];function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qc.apply(this,arguments)}function pMe(e,t){if(e==null)return{};var r=gMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function o3(e){return bMe(e)||yMe(e)||vMe(e)||xMe()}function xMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vMe(e,t){if(e){if(typeof e=="string")return d_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d_(e,t)}}function yMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bMe(e){if(Array.isArray(e))return d_(e)}function d_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l3=function(t){return t&&t.x===+t.x&&t.y===+t.y},wMe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){l3(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),l3(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},mf=function(t,r){var n=wMe(t);r&&(n=[n.reduce(function(i,o){return[].concat(o3(i),o3(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},jMe=function(t,r,n){var a=mf(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(mf(r.reverse(),n).slice(1))},NMe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=pMe(t,mMe);if(!r||!r.length)return null;var l=Ve("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=jMe(r,a,i);return O.createElement("g",{className:l},O.createElement("path",Qc({},Pe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?O.createElement("path",Qc({},Pe(o,!0),{fill:"none",d:mf(r,i)})):null,c?O.createElement("path",Qc({},Pe(o,!0),{fill:"none",d:mf(a,i)})):null)}var d=mf(r,i);return O.createElement("path",Qc({},Pe(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(this,arguments)}var H0=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Ve("recharts-dot",i);return r===+r&&n===+n&&a===+a?O.createElement("circle",h_({},Pe(t,!1),lv(t),{className:o,cx:r,cy:n,r:a})):null};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}var _Me=["x","y","top","left","width","height","className"];function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f_.apply(this,arguments)}function c3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SMe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(r),!0).forEach(function(n){kMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kMe(e,t,r){return t=CMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CMe(e){var t=PMe(e,"string");return Nm(t)=="symbol"?t:t+""}function PMe(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AMe(e,t){if(e==null)return{};var r=EMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TMe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},OMe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,f=t.height,m=f===void 0?0:f,g=t.className,p=AMe(t,_Me),y=SMe({x:n,y:i,top:l,left:u,width:h,height:m},p);return!ce(n)||!ce(i)||!ce(h)||!ce(m)||!ce(l)||!ce(u)?null:O.createElement("path",f_({},Pe(y,!0),{className:Ve("recharts-cross",g),d:TMe(n,i,h,m,l,u)}))},MMe=U0,RMe=SU,DMe=Ea;function $Me(e,t){return e&&e.length?MMe(e,DMe(t),RMe):void 0}var IMe=$Me;const LMe=ot(IMe);var FMe=U0,BMe=Ea,UMe=kU;function zMe(e,t){return e&&e.length?FMe(e,BMe(t),UMe):void 0}var VMe=zMe;const qMe=ot(VMe);var WMe=["cx","cy","angle","ticks","axisLine"],HMe=["ticks","tick","angle","tickFormatter","stroke"];function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}function u3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(r),!0).forEach(function(n){K0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d3(e,t){if(e==null)return{};var r=KMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gz(n.key),n)}}function YMe(e,t,r){return t&&h3(e.prototype,t),r&&h3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XMe(e,t,r){return t=zv(t),QMe(e,pz()?Reflect.construct(t,r||[],zv(e).constructor):t.apply(e,r))}function QMe(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JMe(e)}function JMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pz=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(e)}function ZMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m_(e,t)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m_(e,t)}function K0(e,t,r){return t=gz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gz(e){var t=e3e(e,"string");return id(t)=="symbol"?t:t+""}function e3e(e,t){if(id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G0=function(e){function t(){return GMe(this,t),XMe(this,t,arguments)}return ZMe(t,e),YMe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Et(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=LMe(l,function(d){return d.coordinate||0}),u=qMe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=d3(n,WMe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),h=Et(a,i,d[0],o),f=Et(a,i,d[1],o),m=Go(Go(Go({},Pe(u,!1)),{},{fill:"none"},Pe(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return O.createElement("line",pf({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=d3(a,HMe),h=this.getTickTextAnchor(),f=Pe(d,!1),m=Pe(o,!1),g=i.map(function(p,y){var b=n.getTickValueCoord(p),v=Go(Go(Go(Go({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:u},m),{},{index:y},b),{},{payload:p});return O.createElement(nt,pf({className:Ve("recharts-polar-radius-axis-tick",ez(o)),key:"tick-".concat(p.coordinate)},Jl(n.props,p,y)),t.renderTickItem(o,v,c?c(p.value,y):p.value))});return O.createElement(nt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:O.createElement(nt,{className:Ve("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Er.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return O.isValidElement(n)?o=O.cloneElement(n,a):Fe(n)?o=n(a):o=O.createElement(Zl,pf({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(x.PureComponent);K0(G0,"displayName","PolarRadiusAxis");K0(G0,"axisType","radiusAxis");K0(G0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},il.apply(this,arguments)}function f3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(r),!0).forEach(function(n){Y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vz(n.key),n)}}function r3e(e,t,r){return t&&m3(e.prototype,t),r&&m3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n3e(e,t,r){return t=Vv(t),s3e(e,xz()?Reflect.construct(t,r||[],Vv(e).constructor):t.apply(e,r))}function s3e(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a3e(e)}function a3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xz=function(){return!!e})()}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(e)}function i3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},p_(e,t)}function Y0(e,t,r){return t=vz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vz(e){var t=o3e(e,"string");return od(t)=="symbol"?t:t+""}function o3e(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l3e=Math.PI/180,p3=1e-5,X0=function(e){function t(){return t3e(this,t),n3e(this,t,arguments)}return i3e(t,e),r3e(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,h=Et(i,o,l,n.coordinate),f=Et(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*l3e),o;return i>p3?o=a==="outer"?"start":"end":i<-p3?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Yo(Yo({},Pe(this.props,!1)),{},{fill:"none"},Pe(l,!1));if(c==="circle")return O.createElement(H0,il({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,h=d.map(function(f){return Et(a,i,o,f.coordinate)});return O.createElement(NMe,il({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Pe(this.props,!1),h=Pe(o,!1),f=Yo(Yo({},d),{},{fill:"none"},Pe(l,!1)),m=i.map(function(g,p){var y=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),v=Yo(Yo(Yo({textAnchor:b},d),{},{stroke:"none",fill:u},h),{},{index:p,payload:g,x:y.x2,y:y.y2});return O.createElement(nt,il({className:Ve("recharts-polar-angle-axis-tick",ez(o)),key:"tick-".concat(g.coordinate)},Jl(n.props,g,p)),l&&O.createElement("line",il({className:"recharts-polar-angle-axis-tick-line"},f,y)),o&&t.renderTickItem(o,v,c?c(g.value,p):g.value))});return O.createElement(nt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:O.createElement(nt,{className:Ve("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return O.isValidElement(n)?o=O.cloneElement(n,a):Fe(n)?o=n(a):o=O.createElement(Zl,il({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(x.PureComponent);Y0(X0,"displayName","PolarAngleAxis");Y0(X0,"axisType","angleAxis");Y0(X0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var c3e=wB,u3e=c3e(Object.getPrototypeOf,Object),d3e=u3e,h3e=vi,f3e=d3e,m3e=yi,p3e="[object Object]",g3e=Function.prototype,x3e=Object.prototype,yz=g3e.toString,v3e=x3e.hasOwnProperty,y3e=yz.call(Object);function b3e(e){if(!m3e(e)||h3e(e)!=p3e)return!1;var t=f3e(e);if(t===null)return!0;var r=v3e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&yz.call(r)==y3e}var w3e=b3e;const j3e=ot(w3e);var N3e=vi,_3e=yi,S3e="[object Boolean]";function k3e(e){return e===!0||e===!1||_3e(e)&&N3e(e)==S3e}var C3e=k3e;const P3e=ot(C3e);function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(this,arguments)}function A3e(e,t){return M3e(e)||O3e(e,t)||T3e(e,t)||E3e()}function E3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T3e(e,t){if(e){if(typeof e=="string")return g3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g3(e,t)}}function g3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function M3e(e){if(Array.isArray(e))return e}function x3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(r),!0).forEach(function(n){R3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R3e(e,t,r){return t=D3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D3e(e){var t=$3e(e,"string");return _m(t)=="symbol"?t:t+""}function $3e(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y3=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},I3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},L3e=function(t){var r=v3(v3({},I3e),t),n=x.useRef(),a=x.useState(-1),i=A3e(a,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,f=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,y=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var v=Ve("recharts-trapezoid",m);return b?O.createElement(Sa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var j=w.upperWidth,N=w.lowerWidth,S=w.height,_=w.x,k=w.y;return O.createElement(Sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:g},O.createElement("path",qv({},Pe(r,!0),{className:v,d:y3(_,k,j,N,S),ref:n})))}):O.createElement("g",null,O.createElement("path",qv({},Pe(r,!0),{className:v,d:y3(c,u,d,h,f)})))},F3e=["option","shapeType","propTransformer","activeClassName","isActive"];function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function B3e(e,t){if(e==null)return{};var r=U3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function b3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(r),!0).forEach(function(n){z3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z3e(e,t,r){return t=V3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V3e(e){var t=q3e(e,"string");return Sm(t)=="symbol"?t:t+""}function q3e(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W3e(e,t){return Wv(Wv({},t),e)}function H3e(e,t){return e==="symbols"}function w3(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return O.createElement(RC,r);case"trapezoid":return O.createElement(L3e,r);case"sector":return O.createElement(nz,r);case"symbols":if(H3e(t))return O.createElement(Zk,r);break;default:return null}}function K3e(e){return x.isValidElement(e)?e.props:e}function bz(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?W3e:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=B3e(e,F3e),u;if(x.isValidElement(t))u=x.cloneElement(t,Wv(Wv({},c),K3e(t)));else if(Fe(t))u=t(c);else if(j3e(t)&&!P3e(t)){var d=a(t,c);u=O.createElement(w3,{shapeType:r,elementProps:d})}else{var h=c;u=O.createElement(w3,{shapeType:r,elementProps:h})}return l?O.createElement(nt,{className:o},u):u}function Q0(e,t){return t!=null&&"trapezoids"in e.props}function J0(e,t){return t!=null&&"sectors"in e.props}function km(e,t){return t!=null&&"points"in e.props}function G3e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Y3e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function X3e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Q3e(e,t){var r;return Q0(e,t)?r=G3e:J0(e,t)?r=Y3e:km(e,t)&&(r=X3e),r}function J3e(e,t){var r;return Q0(e,t)?r="trapezoids":J0(e,t)?r="sectors":km(e,t)&&(r="points"),r}function Z3e(e,t){if(Q0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(J0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return km(e,t)?t.payload:{}}function e5e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=J3e(r,t),i=Z3e(r,t),o=n.filter(function(c,u){var d=nd(i,c),h=r.props[a].filter(function(g){var p=Q3e(r,t);return p(g,t)}),f=r.props[a].indexOf(h[h.length-1]),m=u===f;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var sx;function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jc.apply(this,arguments)}function j3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(r),!0).forEach(function(n){as(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jz(n.key),n)}}function r5e(e,t,r){return t&&N3(e.prototype,t),r&&N3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n5e(e,t,r){return t=Hv(t),s5e(e,wz()?Reflect.construct(t,r||[],Hv(e).constructor):t.apply(e,r))}function s5e(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a5e(e)}function a5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wz=function(){return!!e})()}function Hv(e){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hv(e)}function i5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g_(e,t)}function g_(e,t){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},g_(e,t)}function as(e,t,r){return t=jz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jz(e){var t=o5e(e,"string");return ld(t)=="symbol"?t:t+""}function o5e(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wi=function(e){function t(r){var n;return t5e(this,t),n=n5e(this,t,[r]),as(n,"pieRef",null),as(n,"sectorRefs",[]),as(n,"id",Gd("recharts-pie-")),as(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Fe(a)&&a()}),as(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Fe(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return i5e(t,e),r5e(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Pe(this.props,!1),h=Pe(o,!1),f=Pe(l,!1),m=o&&o.offsetRadius||20,g=n.map(function(p,y){var b=(p.startAngle+p.endAngle)/2,v=Et(p.cx,p.cy,p.outerRadius+m,b),w=Ct(Ct(Ct(Ct({},d),p),{},{stroke:"none"},h),{},{index:y,textAnchor:t.getTextAnchor(v.x,p.cx)},v),j=Ct(Ct(Ct(Ct({},d),p),{},{fill:"none",stroke:p.fill},f),{},{index:y,points:[Et(p.cx,p.cy,p.outerRadius,b),v]}),N=c;return ze(c)&&ze(u)?N="value":ze(c)&&(N=u),O.createElement(nt,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,w,yr(p,N)))});return O.createElement(nt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=a.isActiveIndex(d),f=c&&a.hasActiveIndex()?c:null,m=h?o:f,g=Ct(Ct({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return O.createElement(nt,Jc({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Jl(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),O.createElement(bz,Jc({option:m,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state,f=h.prevSectors,m=h.prevIsAnimationActive;return O.createElement(Sa,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,y=[],b=i&&i[0],v=b.startAngle;return i.forEach(function(w,j){var N=f&&f[j],S=j>0?zn(w,"paddingAngle",0):0;if(N){var _=wn(N.endAngle-N.startAngle,w.endAngle-w.startAngle),k=Ct(Ct({},w),{},{startAngle:v+S,endAngle:v+_(p)+S});y.push(k),v=k.endAngle}else{var C=w.endAngle,P=w.startAngle,E=wn(0,C-P),T=E(p),F=Ct(Ct({},w),{},{startAngle:v+S,endAngle:v+T+S});y.push(F),v=F.endAngle}}),O.createElement(nt,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!nd(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,h=a.innerRadius,f=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!ce(u)||!ce(d)||!ce(h)||!ce(f))return null;var p=Ve("recharts-pie",l);return O.createElement(nt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Er.renderCallByParent(this.props,null,!1),(!m||g)&&Ja.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(O.isValidElement(n))return O.cloneElement(n,a);if(Fe(n))return n(a);var o=Ve("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return O.createElement(bu,Jc({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(O.isValidElement(n))return O.cloneElement(n,a);var o=i;if(Fe(n)&&(o=n(a),O.isValidElement(o)))return o;var l=Ve("recharts-pie-label-text",typeof n!="boolean"&&!Fe(n)?n.className:"");return O.createElement(Zl,Jc({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);sx=wi;as(wi,"displayName","Pie");as(wi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});as(wi,"parseDeltaAngle",function(e,t){var r=ln(t-e),n=Math.min(Math.abs(t-e),360);return r*n});as(wi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Pe(e,!1),a=ds(r,R0);return t&&t.length?t.map(function(i,o){return Ct(Ct(Ct({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Ct(Ct({},n),i.props)}):[]});as(wi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=ZU(a,i),l=n+cn(e.cx,a,a/2),c=r+cn(e.cy,i,i/2),u=cn(e.innerRadius,o,0),d=cn(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});as(wi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ct(Ct({},t.type.defaultProps),t.props):t.props,a=sx.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,f=n.tooltipType,m=Math.abs(n.minAngle),g=sx.parseCoordinateOfPie(n,r),p=sx.parseDeltaAngle(o,l),y=Math.abs(p),b=u;ze(u)&&ze(h)?(Bs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):ze(u)&&(Bs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var v=a.filter(function(k){return yr(k,b,0)!==0}).length,w=(y>=360?v:v-1)*c,j=y-v*m-w,N=a.reduce(function(k,C){var P=yr(C,b,0);return k+(ce(P)?P:0)},0),S;if(N>0){var _;S=a.map(function(k,C){var P=yr(k,b,0),E=yr(k,d,C),T=(ce(P)?P:0)/N,F;C?F=_.endAngle+ln(p)*c*(P!==0?1:0):F=o;var D=F+ln(p)*((P!==0?m:0)+T*j),$=(F+D)/2,U=(g.innerRadius+g.outerRadius)/2,q=[{name:E,value:P,payload:k,dataKey:b,type:f}],I=Et(g.cx,g.cy,U,$);return _=Ct(Ct(Ct({percent:T,cornerRadius:i,name:E,tooltipPayload:q,midAngle:$,middleRadius:U,tooltipPosition:I},k),g),{},{value:yr(k,b),startAngle:F,endAngle:D,payload:k,paddingAngle:ln(p)*c}),_})}return Ct(Ct({},g),{},{sectors:S,data:a})});var l5e=Math.ceil,c5e=Math.max;function u5e(e,t,r,n){for(var a=-1,i=c5e(l5e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var d5e=u5e,h5e=BB,_3=1/0,f5e=17976931348623157e292;function m5e(e){if(!e)return e===0?e:0;if(e=h5e(e),e===_3||e===-_3){var t=e<0?-1:1;return t*f5e}return e===e?e:0}var Nz=m5e,p5e=d5e,g5e=M0,Xw=Nz;function x5e(e){return function(t,r,n){return n&&typeof n!="number"&&g5e(t,r,n)&&(r=n=void 0),t=Xw(t),r===void 0?(r=t,t=0):r=Xw(r),n=n===void 0?t<r?1:-1:Xw(n),p5e(t,r,n,e)}}var v5e=x5e,y5e=v5e,b5e=y5e(),w5e=b5e;const Kv=ot(w5e);function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function S3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(r),!0).forEach(function(n){_z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _z(e,t,r){return t=j5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j5e(e){var t=N5e(e,"string");return Cm(t)=="symbol"?t:t+""}function N5e(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _5e=["Webkit","Moz","O","ms"],S5e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=_5e.reduce(function(i,o){return k3(k3({},i),{},_z({},o+n,r))},{});return a[t]=r,a};function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(this,arguments)}function C3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(r),!0).forEach(function(n){On(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kz(n.key),n)}}function C5e(e,t,r){return t&&P3(e.prototype,t),r&&P3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P5e(e,t,r){return t=Yv(t),A5e(e,Sz()?Reflect.construct(t,r||[],Yv(e).constructor):t.apply(e,r))}function A5e(e,t){if(t&&(cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E5e(e)}function E5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sz=function(){return!!e})()}function Yv(e){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yv(e)}function T5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x_(e,t)}function On(e,t,r){return t=kz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kz(e){var t=O5e(e,"string");return cd(t)=="symbol"?t:t+""}function O5e(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M5e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=df().domain(Kv(0,c)).range([i,i+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},A3=function(t){return t.changedTouches&&!!t.changedTouches.length},ud=function(e){function t(r){var n;return k5e(this,t),n=P5e(this,t,[r]),On(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),On(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),On(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),On(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),On(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),On(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),On(n,"handleSlideDragStart",function(a){var i=A3(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return T5e(t,e),C5e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(a,i),f=Math.max(a,i),m=t.getIndexInRange(o,h),g=t.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=yr(i[n],l,n);return Fe(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-h-l,u+d-h-o):p<0&&(p=Math.max(p,u-o,u-l));var y=this.getIndex({startX:o+p,endX:l+p});(y.startIndex!==f||y.endIndex!==m)&&g&&g(y),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=A3(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,y=d.data,b={startX:this.state.startX,endX:this.state.endX},v=n.pageX-i;v>0?v=Math.min(v,h+f-m-u):v<0&&(v=Math.max(v,h-u)),b[o]=u+v;var w=this.getIndex(b),j=w.startIndex,N=w.endIndex,S=function(){var k=y.length-1;return o==="startX"&&(l>c?j%p===0:N%p===0)||l<c&&N===k||o==="endX"&&(l>c?N%p===0:j%p===0)||l>c&&N===k};this.setState(On(On({},o,u+v),"brushMoveStartX",n.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],h=l.indexOf(d);if(h!==-1){var f=h+n;if(!(f===-1||f>=l.length)){var m=l[f];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(On({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return O.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=x.Children.only(u);return h?O.cloneElement(h,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,y=c.endIndex,b=Math.max(n,this.props.x),v=Qw(Qw({},Pe(this.props,!1)),{},{x:b,y:u,width:d,height:h}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[y])===null||o===void 0?void 0:o.name);return O.createElement(nt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,v))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,h=Math.max(Math.abs(a-n)-u,0);return O.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,f=d.endX,m=5,g={pointerEvents:"none",fill:u};return O.createElement(nt,{className:"recharts-brush-texts"},O.createElement(Zl,Gv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:o+l/2},g),this.getTextOfTick(a)),O.createElement(Zl,Gv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,f=this.state,m=f.startX,g=f.endX,p=f.isTextActive,y=f.isSlideMoving,b=f.isTravellerMoving,v=f.isTravellerFocused;if(!a||!a.length||!ce(l)||!ce(c)||!ce(u)||!ce(d)||u<=0||d<=0)return null;var w=Ve("recharts-brush",i),j=O.Children.count(o)===1,N=S5e("userSelect","none");return O.createElement(nt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||y||b||v||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return O.createElement(O.Fragment,null,O.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),O.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),O.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return O.isValidElement(n)?i=O.cloneElement(n,a):Fe(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Qw({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?M5e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var f=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(x.PureComponent);On(ud,"displayName","Brush");On(ud,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var R5e=iC;function D5e(e,t){var r;return R5e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var $5e=D5e,I5e=fB,L5e=Ea,F5e=$5e,B5e=En,U5e=M0;function z5e(e,t,r){var n=B5e(e)?I5e:F5e;return r&&U5e(e,t,r)&&(t=void 0),n(e,L5e(t))}var V5e=z5e;const q5e=ot(V5e);var xa=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},E3=DB;function W5e(e,t,r){t=="__proto__"&&E3?E3(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var H5e=W5e,K5e=H5e,G5e=MB,Y5e=Ea;function X5e(e,t){var r={};return t=Y5e(t),G5e(e,function(n,a,i){K5e(r,a,t(n,a,i))}),r}var Q5e=X5e;const J5e=ot(Q5e);function Z5e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var eRe=Z5e,tRe=iC;function rRe(e,t){var r=!0;return tRe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var nRe=rRe,sRe=eRe,aRe=nRe,iRe=Ea,oRe=En,lRe=M0;function cRe(e,t,r){var n=oRe(e)?sRe:aRe;return r&&lRe(e,t,r)&&(t=void 0),n(e,iRe(t))}var uRe=cRe;const Cz=ot(uRe);var dRe=["x","y"];function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(this,arguments)}function T3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(r),!0).forEach(function(n){hRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hRe(e,t,r){return t=fRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fRe(e){var t=mRe(e,"string");return Pm(t)=="symbol"?t:t+""}function mRe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pRe(e,t){if(e==null)return{};var r=gRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xRe(e,t){var r=e.x,n=e.y,a=pRe(e,dRe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),h="".concat(t.width||a.width),f=parseInt(h,10);return Eh(Eh(Eh(Eh(Eh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function O3(e){return O.createElement(bz,v_({shapeType:"rectangle",propTransformer:xRe,activeClassName:"recharts-active-bar"},e))}var vRe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||tc(),r)}},yRe=["value","background"],Pz;function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function bRe(e,t){if(e==null)return{};var r=wRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(this,arguments)}function M3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(r),!0).forEach(function(n){to(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ez(n.key),n)}}function NRe(e,t,r){return t&&R3(e.prototype,t),r&&R3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Re(e,t,r){return t=Qv(t),SRe(e,Az()?Reflect.construct(t,r||[],Qv(e).constructor):t.apply(e,r))}function SRe(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kRe(e)}function kRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Az(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Az=function(){return!!e})()}function Qv(e){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qv(e)}function CRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y_(e,t)}function y_(e,t){return y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},y_(e,t)}function to(e,t,r){return t=Ez(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ez(e){var t=PRe(e,"string");return dd(t)=="symbol"?t:t+""}function PRe(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var la=function(e){function t(){var r;jRe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=_Re(this,t,[].concat(a)),to(r,"state",{isAnimationFinished:!1}),to(r,"id",Gd("recharts-bar-")),to(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),to(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return CRe(t,e),NRe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Pe(this.props,!1);return n&&n.map(function(h,f){var m=f===c,g=m?u:o,p=dr(dr(dr({},d),h),{},{isActive:m,option:g,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return O.createElement(nt,Xv({className:"recharts-bar-rectangle"},Jl(a.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),O.createElement(O3,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,f=this.state.prevData;return O.createElement(Sa,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(y,b){var v=f&&f[b];if(v){var w=wn(v.x,y.x),j=wn(v.y,y.y),N=wn(v.width,y.width),S=wn(v.height,y.height);return dr(dr({},y),{},{x:w(g),y:j(g),width:N(g),height:S(g)})}if(o==="horizontal"){var _=wn(0,y.height),k=_(g);return dr(dr({},y),{},{y:y.y+y.height-k,height:k})}var C=wn(0,y.width),P=C(g);return dr(dr({},y),{},{width:P})});return O.createElement(nt,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!nd(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Pe(this.props.background,!1);return i.map(function(u,d){u.value;var h=u.background,f=bRe(u,yRe);if(!h)return null;var m=dr(dr(dr(dr(dr({},f),{},{fill:"#eee"},h),c),Jl(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return O.createElement(O3,Xv({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=ds(d,W0);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,b){var v=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:v,errorVal:yr(y,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement(nt,g,h.map(function(p){return O.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,f=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,b=Ve("recharts-bar",o),v=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=v||w,N=ze(p)?this.id:p;return O.createElement(nt,{className:b},v||w?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(N)},O.createElement("rect",{x:v?u:u-h/2,y:w?d:d-f/2,width:v?h:h*2,height:w?f:f*2}))):null,O.createElement(nt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(N,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,N),(!m||y)&&Ja.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);Pz=la;to(la,"displayName","Bar");to(la,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});to(la,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=vTe(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,y=p!==void 0?dr(dr({},p),r.props):r.props,b=y.dataKey,v=y.children,w=y.minPointSize,j=g==="horizontal"?o:i,N=u?j.scale.domain():null,S=STe({numericAxis:j}),_=ds(v,R0),k=h.map(function(C,P){var E,T,F,D,$,U;u?E=yTe(u[d+P],N):(E=yr(C,b),Array.isArray(E)||(E=[S,E]));var q=vRe(w,Pz.defaultProps.minPointSize)(E[1],P);if(g==="horizontal"){var I,V=[o.scale(E[0]),o.scale(E[1])],Y=V[0],se=V[1];T=NM({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:C,index:P}),F=(I=se??Y)!==null&&I!==void 0?I:void 0,D=m.size;var ie=Y-se;if($=Number.isNaN(ie)?0:ie,U={x:T,y:o.y,width:D,height:o.height},Math.abs(q)>0&&Math.abs($)<Math.abs(q)){var je=ln($||q)*(Math.abs(q)-Math.abs($));F-=je,$+=je}}else{var Ee=[i.scale(E[0]),i.scale(E[1])],at=Ee[0],et=Ee[1];if(T=at,F=NM({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:C,index:P}),D=et-at,$=m.size,U={x:i.x,y:F,width:i.width,height:$},Math.abs(q)>0&&Math.abs(D)<Math.abs(q)){var pe=ln(D||q)*(Math.abs(q)-Math.abs(D));D+=pe}}return dr(dr(dr({},C),{},{x:T,y:F,width:D,height:$,value:u?E:E[1],payload:C,background:U},_&&_[P]&&_[P].props),{},{tooltipPayload:[QU(r,C)],tooltipPosition:{x:T+D/2,y:F+$/2}})});return dr({data:k,layout:g},f)});function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function ARe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tz(n.key),n)}}function ERe(e,t,r){return t&&D3(e.prototype,t),r&&D3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function As(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(r),!0).forEach(function(n){Z0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z0(e,t,r){return t=Tz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tz(e){var t=TRe(e,"string");return Am(t)=="symbol"?t:t+""}function TRe(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oz=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!Dn(u,la);return d.reduce(function(m,g){var p=r[g],y=p.orientation,b=p.domain,v=p.padding,w=v===void 0?{}:v,j=p.mirror,N=p.reversed,S="".concat(y).concat(j?"Mirror":""),_,k,C,P,E;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var T=b[1]-b[0],F=1/0,D=p.categoricalDomain.sort();if(D.forEach(function(Ee,at){at>0&&(F=Math.min((Ee||0)-(D[at-1]||0),F))}),Number.isFinite(F)){var $=F/T,U=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(_=$*U/2),p.padding==="no-gap"){var q=cn(t.barCategoryGap,$*U),I=$*U/2;_=I-q-(I-q)/U*q}}}a==="xAxis"?k=[n.left+(w.left||0)+(_||0),n.left+n.width-(w.right||0)-(_||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(_||0),n.top+n.height-(w.bottom||0)-(_||0)]:k=p.range,N&&(k=[k[1],k[0]]);var V=KU(p,i,f),Y=V.scale,se=V.realScaleType;Y.domain(b).range(k),GU(Y);var ie=YU(Y,As(As({},p),{},{realScaleType:se}));a==="xAxis"?(E=y==="top"&&!j||y==="bottom"&&j,C=n.left,P=h[S]-E*p.height):a==="yAxis"&&(E=y==="left"&&!j||y==="right"&&j,C=h[S]-E*p.width,P=n.top);var je=As(As(As({},p),ie),{},{realScaleType:se,x:C,y:P,scale:Y,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return je.bandSize=Dv(je,ie),!p.hide&&a==="xAxis"?h[S]+=(E?-1:1)*je.height:p.hide||(h[S]+=(E?-1:1)*je.width),As(As({},m),{},Z0({},g,je))},{})},Mz=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},ORe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Mz({x:r,y:n},{x:a,y:i})},Rz=function(){function e(t){ARe(this,e),this.scale=t}return ERe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Z0(Rz,"EPS",1e-4);var DC=function(t){var r=Object.keys(t).reduce(function(n,a){return As(As({},n),{},Z0({},a,Rz.create(t[a])))},{});return As(As({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return J5e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Cz(a,function(i,o){return r[o].isInRange(i)})}})};function MRe(e){return(e%180+180)%180}var RRe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=MRe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},DRe=Ea,$Re=_p,IRe=T0;function LRe(e){return function(t,r,n){var a=Object(t);if(!$Re(t)){var i=DRe(r);t=IRe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var FRe=LRe,BRe=Nz;function URe(e){var t=BRe(e),r=t%1;return t===t?r?t-r:t:0}var zRe=URe,VRe=CB,qRe=Ea,WRe=zRe,HRe=Math.max;function KRe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:WRe(r);return a<0&&(a=HRe(n+a,0)),VRe(e,qRe(t),a)}var GRe=KRe,YRe=FRe,XRe=GRe,QRe=YRe(XRe),JRe=QRe;const ZRe=ot(JRe);var eDe=ave(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),$C=x.createContext(void 0),IC=x.createContext(void 0),Dz=x.createContext(void 0),$z=x.createContext({}),Iz=x.createContext(void 0),Lz=x.createContext(0),Fz=x.createContext(0),I3=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=eDe(i);return O.createElement($C.Provider,{value:n},O.createElement(IC.Provider,{value:a},O.createElement($z.Provider,{value:i},O.createElement(Dz.Provider,{value:d},O.createElement(Iz.Provider,{value:o},O.createElement(Lz.Provider,{value:u},O.createElement(Fz.Provider,{value:c},l)))))))},tDe=function(){return x.useContext(Iz)},Bz=function(t){var r=x.useContext($C);r==null&&tc();var n=r[t];return n==null&&tc(),n},rDe=function(){var t=x.useContext($C);return Ui(t)},nDe=function(){var t=x.useContext(IC),r=ZRe(t,function(n){return Cz(n.domain,Number.isFinite)});return r||Ui(t)},Uz=function(t){var r=x.useContext(IC);r==null&&tc();var n=r[t];return n==null&&tc(),n},sDe=function(){var t=x.useContext(Dz);return t},aDe=function(){return x.useContext($z)},LC=function(){return x.useContext(Fz)},FC=function(){return x.useContext(Lz)};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function iDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vz(n.key),n)}}function lDe(e,t,r){return t&&oDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cDe(e,t,r){return t=Jv(t),uDe(e,zz()?Reflect.construct(t,r||[],Jv(e).constructor):t.apply(e,r))}function uDe(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dDe(e)}function dDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zz=function(){return!!e})()}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jv(e)}function hDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b_(e,t)}function b_(e,t){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b_(e,t)}function L3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(r),!0).forEach(function(n){BC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BC(e,t,r){return t=Vz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vz(e){var t=fDe(e,"string");return hd(t)=="symbol"?t:t+""}function fDe(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mDe(e,t){return vDe(e)||xDe(e,t)||gDe(e,t)||pDe()}function pDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gDe(e,t){if(e){if(typeof e=="string")return B3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B3(e,t)}}function B3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vDe(e){if(Array.isArray(e))return e}function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w_.apply(this,arguments)}var yDe=function(t,r){var n;return O.isValidElement(t)?n=O.cloneElement(t,r):Fe(t)?n=t(r):n=O.createElement("line",w_({},r,{className:"recharts-reference-line-line"})),n},bDe=function(t,r,n,a,i,o,l,c,u){var d=i.x,h=i.y,f=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(xa(u,"discard")&&!t.y.isInRange(p))return null;var y=[{x:d+f,y:p},{x:d,y:p}];return c==="left"?y.reverse():y}if(r){var b=u.x,v=t.x.apply(b,{position:o});if(xa(u,"discard")&&!t.x.isInRange(v))return null;var w=[{x:v,y:h+m},{x:v,y:h}];return l==="top"?w.reverse():w}if(a){var j=u.segment,N=j.map(function(S){return t.apply(S,{position:o})});return xa(u,"discard")&&q5e(N,function(S){return!t.isInRange(S)})?null:N}return null};function wDe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=tDe(),d=Bz(a),h=Uz(i),f=sDe();if(!u||!f)return null;Bs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=DC({x:d.scale,y:h.scale}),g=wr(t),p=wr(r),y=n&&n.length===2,b=bDe(m,g,p,y,f,e.position,d.orientation,h.orientation,e);if(!b)return null;var v=mDe(b,2),w=v[0],j=w.x,N=w.y,S=v[1],_=S.x,k=S.y,C=xa(e,"hidden")?"url(#".concat(u,")"):void 0,P=F3(F3({clipPath:C},Pe(e,!0)),{},{x1:j,y1:N,x2:_,y2:k});return O.createElement(nt,{className:Ve("recharts-reference-line",l)},yDe(o,P),Er.renderCallByParent(e,ORe({x1:j,y1:N,x2:_,y2:k})))}var UC=function(e){function t(){return iDe(this,t),cDe(this,t,arguments)}return hDe(t,e),lDe(t,[{key:"render",value:function(){return O.createElement(wDe,this.props)}}])}(O.Component);BC(UC,"displayName","ReferenceLine");BC(UC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(this,arguments)}function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(n){eb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wz(n.key),n)}}function _De(e,t,r){return t&&NDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SDe(e,t,r){return t=Zv(t),kDe(e,qz()?Reflect.construct(t,r||[],Zv(e).constructor):t.apply(e,r))}function kDe(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CDe(e)}function CDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qz=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(e)}function PDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N_(e,t)}function N_(e,t){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N_(e,t)}function eb(e,t,r){return t=Wz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=ADe(e,"string");return fd(t)=="symbol"?t:t+""}function ADe(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EDe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=DC({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return xa(t,"discard")&&!o.isInRange(l)?null:l},tb=function(e){function t(){return jDe(this,t),SDe(this,t,arguments)}return PDe(t,e),_De(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=wr(a),d=wr(i);if(Bs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=EDe(this.props);if(!h)return null;var f=h.x,m=h.y,g=this.props,p=g.shape,y=g.className,b=xa(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=z3(z3({clipPath:b},Pe(this.props,!0)),{},{cx:f,cy:m});return O.createElement(nt,{className:Ve("recharts-reference-dot",y)},t.renderDot(p,v),Er.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(O.Component);eb(tb,"displayName","ReferenceDot");eb(tb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});eb(tb,"renderDot",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):Fe(e)?r=e(t):r=O.createElement(H0,j_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},__.apply(this,arguments)}function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function V3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V3(Object(r),!0).forEach(function(n){rb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ODe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kz(n.key),n)}}function MDe(e,t,r){return t&&ODe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RDe(e,t,r){return t=ey(t),DDe(e,Hz()?Reflect.construct(t,r||[],ey(e).constructor):t.apply(e,r))}function DDe(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $De(e)}function $De(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hz=function(){return!!e})()}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ey(e)}function IDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S_(e,t)}function S_(e,t){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S_(e,t)}function rb(e,t,r){return t=Kz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kz(e){var t=LDe(e,"string");return md(t)=="symbol"?t:t+""}function LDe(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FDe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,h=i.yAxis;if(!d||!h)return null;var f=DC({x:d.scale,y:h.scale}),m={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},g={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(u,{position:"end"}):f.y.rangeMax};return xa(i,"discard")&&(!f.isInRange(m)||!f.isInRange(g))?null:Mz(m,g)},nb=function(e){function t(){return TDe(this,t),RDe(this,t,arguments)}return IDe(t,e),MDe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Bs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=wr(a),f=wr(i),m=wr(o),g=wr(l),p=this.props.shape;if(!h&&!f&&!m&&!g&&!p)return null;var y=FDe(h,f,m,g,this.props);if(!y&&!p)return null;var b=xa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return O.createElement(nt,{className:Ve("recharts-reference-area",c)},t.renderRect(p,q3(q3({clipPath:b},Pe(this.props,!0)),y)),Er.renderCallByParent(this.props,y))}}])}(O.Component);rb(nb,"displayName","ReferenceArea");rb(nb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});rb(nb,"renderRect",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):Fe(e)?r=e(t):r=O.createElement(RC,__({},t,{className:"recharts-reference-area-rect"})),r});function Gz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function BDe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return RRe(n,r)}function UDe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function ty(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function zDe(e,t){return Gz(e,t+1)}function VDe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:Gz(n,u)};var p=c,y,b=function(){return y===void 0&&(y=r(g,p)),y},v=g.coordinate,w=c===0||ty(e,v,b,d,l);w||(c=0,d=o,u+=1),w&&(d=v+e*(b()/2+a),c+=u)},f;u<=i.length;)if(f=h(),f)return f.v;return[]}function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function W3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(r),!0).forEach(function(n){qDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qDe(e,t,r){return t=WDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WDe(e){var t=HDe(e,"string");return Em(t)=="symbol"?t:t+""}function HDe(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KDe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(f){var m=i[f],g,p=function(){return g===void 0&&(g=r(m,f)),g};if(f===o-1){var y=e*(m.coordinate+e*p()/2-c);i[f]=m=Kr(Kr({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[f]=m=Kr(Kr({},m),{},{tickCoord:m.coordinate});var b=ty(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+a),i[f]=Kr(Kr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function GDe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],h=r(d,l-1),f=e*(d.coordinate+e*h/2-u);o[l-1]=d=Kr(Kr({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var m=ty(e,d.tickCoord,function(){return h},c,u);m&&(u=d.tickCoord-e*(h/2+a),o[l-1]=Kr(Kr({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(v){var w=o[v],j,N=function(){return j===void 0&&(j=r(w,v)),j};if(v===0){var S=e*(w.coordinate-e*N()/2-c);o[v]=w=Kr(Kr({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[v]=w=Kr(Kr({},w),{},{tickCoord:w.coordinate});var _=ty(e,w.tickCoord,N,c,u);_&&(c=w.tickCoord+e*(N()/2+a),o[v]=Kr(Kr({},w),{},{isShow:!0}))},y=0;y<g;y++)p(y);return o}function zC(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!a||!a.length||!n)return[];if(ce(c)||pa.isSsr)return zDe(a,typeof c=="number"&&ce(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?uf(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,j){var N=Fe(u)?u(w.value,j):w.value;return m==="width"?BDe(uf(N,{fontSize:t,letterSpacing:r}),g,h):uf(N,{fontSize:t,letterSpacing:r})[m]},y=a.length>=2?ln(a[1].coordinate-a[0].coordinate):1,b=UDe(i,y,m);return c==="equidistantPreserveStart"?VDe(y,b,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=GDe(y,b,p,a,o,c==="preserveStartEnd"):f=KDe(y,b,p,a,o),f.filter(function(v){return v.isShow}))}var YDe=["viewBox"],XDe=["viewBox"],QDe=["ticks"];function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(this,arguments)}function H3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(r),!0).forEach(function(n){VC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jw(e,t){if(e==null)return{};var r=JDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xz(n.key),n)}}function e6e(e,t,r){return t&&K3(e.prototype,t),r&&K3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function t6e(e,t,r){return t=ry(t),r6e(e,Yz()?Reflect.construct(t,r||[],ry(e).constructor):t.apply(e,r))}function r6e(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n6e(e)}function n6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yz=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ry(e)}function s6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k_(e,t)}function k_(e,t){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k_(e,t)}function VC(e,t,r){return t=Xz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xz(e){var t=a6e(e,"string");return pd(t)=="symbol"?t:t+""}function a6e(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rh=function(e){function t(r){var n;return ZDe(this,t),n=t6e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return s6e(t,e),e6e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Jw(n,YDe),l=this.props,c=l.viewBox,u=Jw(l,XDe);return!gu(i,c)||!gu(o,u)||!gu(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,h=a.mirror,f=a.tickMargin,m,g,p,y,b,v,w=h?-1:1,j=n.tickSize||d,N=ce(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,y=o+ +!h*c,p=y-w*j,v=p-w*f,b=N;break;case"left":p=y=n.coordinate,g=i+ +!h*l,m=g-w*j,b=m-w*f,v=N;break;case"right":p=y=n.coordinate,g=i+ +h*l,m=g+w*j,b=m+w*f,v=N;break;default:m=g=n.coordinate,y=o+ +h*c,p=y+w*j,v=p+w*f,b=N;break}return{line:{x1:m,y1:p,x2:g,y2:y},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=tn(tn(tn({},Pe(this.props,!1)),Pe(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=tn(tn({},h),{},{x1:a,y1:i+f*l,x2:a+o,y2:i+f*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);h=tn(tn({},h),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return O.createElement("line",Zc({},h,{className:Ve("recharts-cartesian-axis-line",zn(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,m=zC(tn(tn({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),y=Pe(this.props,!1),b=Pe(d,!1),v=tn(tn({},y),{},{fill:"none"},Pe(c,!1)),w=m.map(function(j,N){var S=o.getTickLineCoord(j),_=S.line,k=S.tick,C=tn(tn(tn(tn({textAnchor:g,verticalAnchor:p},y),{},{stroke:"none",fill:u},b),k),{},{index:N,payload:j,visibleTicksCount:m.length,tickFormatter:h});return O.createElement(nt,Zc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Jl(o.props,j,N)),c&&O.createElement("line",Zc({},v,_,{className:Ve("recharts-cartesian-axis-tick-line",zn(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(Fe(h)?h(j.value,N):j.value).concat(f||"")))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var h=this.props,f=h.ticks,m=Jw(h,QDe),g=f;return Fe(c)&&(g=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:O.createElement(nt,{className:Ve("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return O.isValidElement(n)?o=O.cloneElement(n,a):Fe(n)?o=n(a):o=O.createElement(Zl,Zc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(x.Component);VC(rh,"displayName","CartesianAxis");VC(rh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var i6e=["x1","y1","x2","y2","key"],o6e=["offset"];function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function G3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(r),!0).forEach(function(n){l6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l6e(e,t,r){return t=c6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c6e(e){var t=u6e(e,"string");return rc(t)=="symbol"?t:t+""}function u6e(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gl.apply(this,arguments)}function Y3(e,t){if(e==null)return{};var r=d6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var h6e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return O.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Qz(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(Fe(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=Y3(t,i6e),u=Pe(c,!1);u.offset;var d=Y3(u,o6e);r=O.createElement("line",gl({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function f6e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Yr(Yr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Qz(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function m6e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Yr(Yr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Qz(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function p6e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],p=g?a+o-f:d[m+1]-f;if(p<=0)return null;var y=m%t.length;return O.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:p,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function g6e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],p=g?i+l-f:d[m+1]-f;if(p<=0)return null;var y=m%n.length;return O.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:p,height:c,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var x6e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return HU(zC(Yr(Yr(Yr({},rh.defaultProps),n),{},{ticks:Ka(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},v6e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return HU(zC(Yr(Yr(Yr({},rh.defaultProps),n),{},{ticks:Ka(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Ec={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ax(e){var t,r,n,a,i,o,l=LC(),c=FC(),u=aDe(),d=Yr(Yr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ec.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ec.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ec.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ec.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ec.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ec.verticalFill,x:ce(e.x)?e.x:u.left,y:ce(e.y)?e.y:u.top,width:ce(e.width)?e.width:u.width,height:ce(e.height)?e.height:u.height}),h=d.x,f=d.y,m=d.width,g=d.height,p=d.syncWithTicks,y=d.horizontalValues,b=d.verticalValues,v=rDe(),w=nDe();if(!ce(m)||m<=0||!ce(g)||g<=0||!ce(h)||h!==+h||!ce(f)||f!==+f)return null;var j=d.verticalCoordinatesGenerator||x6e,N=d.horizontalCoordinatesGenerator||v6e,S=d.horizontalPoints,_=d.verticalPoints;if((!S||!S.length)&&Fe(N)){var k=y&&y.length,C=N({yAxis:w?Yr(Yr({},w),{},{ticks:k?y:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);Bs(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(rc(C),"]")),Array.isArray(C)&&(S=C)}if((!_||!_.length)&&Fe(j)){var P=b&&b.length,E=j({xAxis:v?Yr(Yr({},v),{},{ticks:P?b:v.ticks}):void 0,width:l,height:c,offset:u},P?!0:p);Bs(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(rc(E),"]")),Array.isArray(E)&&(_=E)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(h6e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),O.createElement(f6e,gl({},d,{offset:u,horizontalPoints:S,xAxis:v,yAxis:w})),O.createElement(m6e,gl({},d,{offset:u,verticalPoints:_,xAxis:v,yAxis:w})),O.createElement(p6e,gl({},d,{horizontalPoints:S})),O.createElement(g6e,gl({},d,{verticalPoints:_})))}ax.displayName="CartesianGrid";var y6e=["layout","type","stroke","connectNulls","isRange","ref"],b6e=["key"],Jz;function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function Zz(e,t){if(e==null)return{};var r=w6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xl.apply(this,arguments)}function X3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(r),!0).forEach(function(n){ca(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tV(n.key),n)}}function N6e(e,t,r){return t&&Q3(e.prototype,t),r&&Q3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _6e(e,t,r){return t=ny(t),S6e(e,eV()?Reflect.construct(t,r||[],ny(e).constructor):t.apply(e,r))}function S6e(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k6e(e)}function k6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eV=function(){return!!e})()}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ny(e)}function C6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C_(e,t)}function C_(e,t){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C_(e,t)}function ca(e,t,r){return t=tV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tV(e){var t=P6e(e,"string");return gd(t)=="symbol"?t:t+""}function P6e(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var va=function(e){function t(){var r;j6e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=_6e(this,t,[].concat(a)),ca(r,"state",{isAnimationFinished:!0}),ca(r,"id",Gd("recharts-area-")),ca(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Fe(o)&&o()}),ca(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Fe(o)&&o()}),r}return C6e(t,e),N6e(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,h=c.dataKey,f=Pe(this.props,!1),m=Pe(u,!0),g=d.map(function(y,b){var v=Oi(Oi(Oi({key:"dot-".concat(b),r:3},f),m),{},{index:b,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,v)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return O.createElement(nt,xl({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),h=eo(o.map(function(f){return f.y||0}));return ce(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(eo(i.map(function(f){return f.y||0})),h)),ce(h)?O.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),h=eo(o.map(function(f){return f.x||0}));return ce(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(eo(i.map(function(f){return f.x||0})),h)),ce(h)?O.createElement("rect",{x:0,y:c<u?c:c-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,h=l.connectNulls,f=l.isRange;l.ref;var m=Zz(l,y6e);return O.createElement(nt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},O.createElement(bu,xl({},Pe(m,!0),{points:n,connectNulls:h,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&O.createElement(bu,xl({},Pe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:n})),d!=="none"&&f&&O.createElement(bu,xl({},Pe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,y=g.prevBaseLine;return O.createElement(Sa,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var v=b.t;if(p){var w=p.length/l.length,j=l.map(function(k,C){var P=Math.floor(C*w);if(p[P]){var E=p[P],T=wn(E.x,k.x),F=wn(E.y,k.y);return Oi(Oi({},k),{},{x:T(v),y:F(v)})}return k}),N;if(ce(c)&&typeof c=="number"){var S=wn(y,c);N=S(v)}else if(ze(c)||Kd(c)){var _=wn(y,0);N=_(v)}else N=c.map(function(k,C){var P=Math.floor(C*w);if(y[P]){var E=y[P],T=wn(E.x,k.x),F=wn(E.y,k.y);return Oi(Oi({},k),{},{x:T(v),y:F(v)})}return k});return i.renderAreaStatically(j,N,n,a)}return O.createElement(nt,null,O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(v))),O.createElement(nt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,f=u.totalLength;return c&&o&&o.length&&(!d&&f>0||!nd(d,o)||!nd(h,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,h=a.xAxis,f=a.yAxis,m=a.width,g=a.height,p=a.isAnimationActive,y=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,v=l.length===1,w=Ve("recharts-area",c),j=h&&h.allowDataOverflow,N=f&&f.allowDataOverflow,S=j||N,_=ze(y)?this.id:y,k=(n=Pe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,P=C===void 0?3:C,E=k.strokeWidth,T=E===void 0?2:E,F=uye(o)?o:{},D=F.clipDot,$=D===void 0?!0:D,U=P*2+T;return O.createElement(nt,{className:w},j||N?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(_)},O.createElement("rect",{x:j?d:d-m/2,y:N?u:u-g/2,width:j?m:m*2,height:N?g:g*2})),!$&&O.createElement("clipPath",{id:"clipPath-dots-".concat(_)},O.createElement("rect",{x:d-U/2,y:u-U/2,width:m+U,height:g+U}))):null,v?null:this.renderArea(S,_),(o||v)&&this.renderDots(S,$,_),(!p||b)&&Ja.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);Jz=va;ca(va,"displayName","Area");ca(va,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!pa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ca(va,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(ce(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ca(va,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=t.layout,g=u&&u.length,p=Jz.getBaseValue(t,r,n,a),y=m==="horizontal",b=!1,v=h.map(function(j,N){var S;g?S=u[d+N]:(S=yr(j,c),Array.isArray(S)?b=!0:S=[p,S]);var _=S[1]==null||g&&yr(j,c)==null;return y?{x:jM({axis:n,ticks:i,bandSize:l,entry:j,index:N}),y:_?null:a.scale(S[1]),value:S,payload:j}:{x:_?null:n.scale(S[1]),y:jM({axis:a,ticks:o,bandSize:l,entry:j,index:N}),value:S,payload:j}}),w;return g||b?w=v.map(function(j){var N=Array.isArray(j.value)?j.value[0]:null;return y?{x:j.x,y:N!=null&&j.y!=null?a.scale(N):null}:{x:N!=null?n.scale(N):null,y:j.y}}):w=y?a.scale(p):n.scale(p),Oi({points:v,baseLine:w,layout:m,isRange:b},f)});ca(va,"renderDotItem",function(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(Fe(e))r=e(t);else{var n=Ve("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=Zz(t,b6e);r=O.createElement(H0,xl({},i,{key:a,className:n}))}return r});function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function A6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sV(n.key),n)}}function T6e(e,t,r){return t&&E6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O6e(e,t,r){return t=sy(t),M6e(e,rV()?Reflect.construct(t,r||[],sy(e).constructor):t.apply(e,r))}function M6e(e,t){if(t&&(xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R6e(e)}function R6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!e})()}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sy(e)}function D6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P_(e,t)}function P_(e,t){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P_(e,t)}function nV(e,t,r){return t=sV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sV(e){var t=$6e(e,"string");return xd(t)=="symbol"?t:t+""}function $6e(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A_.apply(this,arguments)}function I6e(e){var t=e.xAxisId,r=LC(),n=FC(),a=Bz(t);return a==null?null:O.createElement(rh,A_({},a,{className:Ve("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ka(o,!0)}}))}var Ol=function(e){function t(){return A6e(this,t),O6e(this,t,arguments)}return D6e(t,e),T6e(t,[{key:"render",value:function(){return O.createElement(I6e,this.props)}}])}(O.Component);nV(Ol,"displayName","XAxis");nV(Ol,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function L6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oV(n.key),n)}}function B6e(e,t,r){return t&&F6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U6e(e,t,r){return t=ay(t),z6e(e,aV()?Reflect.construct(t,r||[],ay(e).constructor):t.apply(e,r))}function z6e(e,t){if(t&&(vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V6e(e)}function V6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aV=function(){return!!e})()}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ay(e)}function q6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}function E_(e,t){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E_(e,t)}function iV(e,t,r){return t=oV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oV(e){var t=W6e(e,"string");return vd(t)=="symbol"?t:t+""}function W6e(e,t){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(this,arguments)}var H6e=function(t){var r=t.yAxisId,n=LC(),a=FC(),i=Uz(r);return i==null?null:O.createElement(rh,T_({},i,{className:Ve("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ka(l,!0)}}))},Ml=function(e){function t(){return L6e(this,t),U6e(this,t,arguments)}return q6e(t,e),B6e(t,[{key:"render",value:function(){return O.createElement(H6e,this.props)}}])}(O.Component);iV(Ml,"displayName","YAxis");iV(Ml,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function J3(e){return X6e(e)||Y6e(e)||G6e(e)||K6e()}function K6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G6e(e,t){if(e){if(typeof e=="string")return O_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O_(e,t)}}function Y6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X6e(e){if(Array.isArray(e))return O_(e)}function O_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M_=function(t,r,n,a,i){var o=ds(t,UC),l=ds(t,tb),c=[].concat(J3(o),J3(l)),u=ds(t,nb),d="".concat(a,"Id"),h=a[0],f=r;if(c.length&&(f=c.reduce(function(p,y){if(y.props[d]===n&&xa(y.props,"extendDomain")&&ce(y.props[h])){var b=y.props[h];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},f)),u.length){var m="".concat(h,"1"),g="".concat(h,"2");f=u.reduce(function(p,y){if(y.props[d]===n&&xa(y.props,"extendDomain")&&ce(y.props[m])&&ce(y.props[g])){var b=y.props[m],v=y.props[g];return[Math.min(p[0],b,v),Math.max(p[1],b,v)]}return p},f)}return i&&i.length&&(f=i.reduce(function(p,y){return ce(y)?[Math.min(p[0],y),Math.max(p[1],y)]:p},f)),f},lV={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,h||c,f),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,g=new Array(m);f<m;f++)g[f]=h[f].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var y=this._events[p],b=arguments.length,v,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,f),!0;case 5:return y.fn.call(y.context,d,h,f,m),!0;case 6:return y.fn.call(y.context,d,h,f,m,g),!0}for(w=1,v=new Array(b-1);w<b;w++)v[w-1]=arguments[w];y.fn.apply(y.context,v)}else{var j=y.length,N;for(w=0;w<j;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,h);break;case 4:y[w].fn.call(y[w].context,d,h,f);break;default:if(!v)for(N=1,v=new Array(b-1);N<b;N++)v[N-1]=arguments[N];y[w].fn.apply(y[w].context,v)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&o(this,m);else{for(var p=0,y=[],b=g.length;p<b;p++)(g[p].fn!==d||f&&!g[p].once||h&&g[p].context!==h)&&y.push(g[p]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(lV);var Q6e=lV.exports;const J6e=ot(Q6e);var Zw=new J6e,ej="recharts.syncMouseEvents";function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function Z6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cV(n.key),n)}}function t$e(e,t,r){return t&&e$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tj(e,t,r){return t=cV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cV(e){var t=r$e(e,"string");return Tm(t)=="symbol"?t:t+""}function r$e(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n$e=function(){function e(){Z6e(this,e),tj(this,"activeIndex",0),tj(this,"coordinateList",[]),tj(this,"layout","horizontal")}return t$e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,f=r.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function s$e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ce(n)&&ce(a))return!0}return!1}function a$e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function uV(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Et(t,r,n,a),l=Et(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function i$e(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,f=Et(l,c,u,h),m=Et(l,c,d,h);n=f.x,a=f.y,i=m.x,o=m.y}else return uV(t);return[{x:n,y:a},{x:i,y:o}]}function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function Z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(r),!0).forEach(function(n){o$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o$e(e,t,r){return t=l$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l$e(e){var t=c$e(e,"string");return Om(t)=="symbol"?t:t+""}function c$e(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u$e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||f!=="ScatterChart"&&a!=="axis")return null;var g,p=bu;if(f==="ScatterChart")g=o,p=OMe;else if(f==="BarChart")g=a$e(h,o,c,d),p=RC;else if(h==="radial"){var y=uV(o),b=y.cx,v=y.cy,w=y.radius,j=y.startAngle,N=y.endAngle;g={cx:b,cy:v,startAngle:j,endAngle:N,innerRadius:w,outerRadius:w},p=nz}else g={points:i$e(h,o,c)},p=bu;var S=kg(kg(kg(kg({stroke:"#ccc",pointerEvents:"none"},c),g),Pe(m,!1)),{},{payload:l,payloadIndex:u,className:Ve("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,S):x.createElement(p,S)}var d$e=["item"],h$e=["children","className","width","height","style","compact","title","desc"];function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(this,arguments)}function e5(e,t){return p$e(e)||m$e(e,t)||hV(e,t)||f$e()}function f$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function p$e(e){if(Array.isArray(e))return e}function t5(e,t){if(e==null)return{};var r=g$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fV(n.key),n)}}function y$e(e,t,r){return t&&v$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b$e(e,t,r){return t=iy(t),w$e(e,dV()?Reflect.construct(t,r||[],iy(e).constructor):t.apply(e,r))}function w$e(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j$e(e)}function j$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dV=function(){return!!e})()}function iy(e){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iy(e)}function N$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R_(e,t)}function R_(e,t){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R_(e,t)}function bd(e){return k$e(e)||S$e(e)||hV(e)||_$e()}function _$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hV(e,t){if(e){if(typeof e=="string")return D_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D_(e,t)}}function S$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k$e(e){if(Array.isArray(e))return D_(e)}function D_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(r),!0).forEach(function(n){De(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function De(e,t,r){return t=fV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fV(e){var t=C$e(e,"string");return yd(t)=="symbol"?t:t+""}function C$e(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P$e={xAxis:["bottom","top"],yAxis:["left","right"]},A$e={width:"100%",height:"100%"},mV={x:0,y:0};function Cg(e){return e}var E$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},T$e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return J(J(J({},a),Et(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return J(J(J({},a),Et(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return mV},sb=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(bd(l),bd(u)):l},[]);return o.length>0?o:t&&t.length&&ce(a)&&ce(i)?t.slice(a,i+1):[]};function pV(e){return e==="number"?[0,"auto"]:void 0}var $_=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=sb(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;f=ov(m,o.dataKey,a)}else f=h&&h[n]||l[n];return f?[].concat(bd(c),[QU(u,f)]):c},[])},n5=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=E$e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=hTe(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=$_(t,r,d,h),m=T$e(n,l,d,i);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},O$e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,h=t.children,f=t.stackOffset,m=WU(d,i);return n.reduce(function(g,p){var y,b=p.type.defaultProps!==void 0?J(J({},p.type.defaultProps),p.props):p.props,v=b.type,w=b.dataKey,j=b.allowDataOverflow,N=b.allowDuplicatedCategory,S=b.scale,_=b.ticks,k=b.includeHidden,C=b[o];if(g[C])return g;var P=sb(t.data,{graphicalItems:a.filter(function(ie){var je,Ee=o in ie.props?ie.props[o]:(je=ie.type.defaultProps)===null||je===void 0?void 0:je[o];return Ee===C}),dataStartIndex:c,dataEndIndex:u}),E=P.length,T,F,D;s$e(b.domain,j,v)&&(T=QN(b.domain,null,j),m&&(v==="number"||S!=="auto")&&(D=hf(P,w,"category")));var $=pV(v);if(!T||T.length===0){var U,q=(U=b.domain)!==null&&U!==void 0?U:$;if(w){if(T=hf(P,w,v),v==="category"&&m){var I=tye(T);N&&I?(F=T,T=Kv(0,E)):N||(T=kM(q,T,p).reduce(function(ie,je){return ie.indexOf(je)>=0?ie:[].concat(bd(ie),[je])},[]))}else if(v==="category")N?T=T.filter(function(ie){return ie!==""&&!ze(ie)}):T=kM(q,T,p).reduce(function(ie,je){return ie.indexOf(je)>=0||je===""||ze(je)?ie:[].concat(bd(ie),[je])},[]);else if(v==="number"){var V=xTe(P,a.filter(function(ie){var je,Ee,at=o in ie.props?ie.props[o]:(je=ie.type.defaultProps)===null||je===void 0?void 0:je[o],et="hide"in ie.props?ie.props.hide:(Ee=ie.type.defaultProps)===null||Ee===void 0?void 0:Ee.hide;return at===C&&(k||!et)}),w,i,d);V&&(T=V)}m&&(v==="number"||S!=="auto")&&(D=hf(P,w,"category"))}else m?T=Kv(0,E):l&&l[C]&&l[C].hasStack&&v==="number"?T=f==="expand"?[0,1]:XU(l[C].stackGroups,c,u):T=qU(P,a.filter(function(ie){var je=o in ie.props?ie.props[o]:ie.type.defaultProps[o],Ee="hide"in ie.props?ie.props.hide:ie.type.defaultProps.hide;return je===C&&(k||!Ee)}),v,d,!0);if(v==="number")T=M_(h,T,C,i,_),q&&(T=QN(q,T,j));else if(v==="category"&&q){var Y=q,se=T.every(function(ie){return Y.indexOf(ie)>=0});se&&(T=Y)}}return J(J({},g),{},De({},C,J(J({},b),{},{axisType:i,domain:T,categoricalDomain:D,duplicateDomain:F,originalDomain:(y=b.domain)!==null&&y!==void 0?y:$,isCategorical:m,layout:d})))},{})},M$e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,h=t.children,f=sb(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=f.length,g=WU(d,i),p=-1;return n.reduce(function(y,b){var v=b.type.defaultProps!==void 0?J(J({},b.type.defaultProps),b.props):b.props,w=v[o],j=pV("number");if(!y[w]){p++;var N;return g?N=Kv(0,m):l&&l[w]&&l[w].hasStack?(N=XU(l[w].stackGroups,c,u),N=M_(h,N,w,i)):(N=QN(j,qU(f,n.filter(function(S){var _,k,C=o in S.props?S.props[o]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[o],P="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!P}),"number",d),a.defaultProps.allowDataOverflow),N=M_(h,N,w,i)),J(J({},y),{},De({},w,J(J({axisType:i},a.defaultProps),{},{hide:!0,orientation:zn(P$e,"".concat(i,".").concat(p%2),null),domain:N,originalDomain:j,isCategorical:g,layout:d})))}return y},{})},R$e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,h="".concat(a,"Id"),f=ds(d,i),m={};return f&&f.length?m=O$e(t,{axes:f,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=M$e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},D$e=function(t){var r=Ui(t),n=Ka(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:oC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Dv(r,n)}},s5=function(t){var r=t.children,n=t.defaultShowTooltip,a=Dn(r,ud),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},$$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Xa(r&&r.type);return n&&n.indexOf("Bar")>=0})},a5=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I$e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,f=n.margin||{},m=Dn(h,ud),g=Dn(h,xu),p=Object.keys(c).reduce(function(N,S){var _=c[S],k=_.orientation;return!_.mirror&&!_.hide?J(J({},N),{},De({},k,N[k]+_.width)):N},{left:f.left||0,right:f.right||0}),y=Object.keys(o).reduce(function(N,S){var _=o[S],k=_.orientation;return!_.mirror&&!_.hide?J(J({},N),{},De({},k,zn(N,"".concat(k))+_.height)):N},{top:f.top||0,bottom:f.bottom||0}),b=J(J({},y),p),v=b.bottom;m&&(b.bottom+=m.props.height||ud.defaultProps.height),g&&r&&(b=pTe(b,a,n,r));var w=u-b.left-b.right,j=d-b.top-b.bottom;return J(J({brushBottom:v},b),{},{width:Math.max(w,0),height:Math.max(j,0)})},L$e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},qC=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,f=function(y,b){var v=b.graphicalItems,w=b.stackGroups,j=b.offset,N=b.updateId,S=b.dataStartIndex,_=b.dataEndIndex,k=y.barSize,C=y.layout,P=y.barGap,E=y.barCategoryGap,T=y.maxBarSize,F=a5(C),D=F.numericAxisName,$=F.cateAxisName,U=$$e(v),q=[];return v.forEach(function(I,V){var Y=sb(y.data,{graphicalItems:[I],dataStartIndex:S,dataEndIndex:_}),se=I.type.defaultProps!==void 0?J(J({},I.type.defaultProps),I.props):I.props,ie=se.dataKey,je=se.maxBarSize,Ee=se["".concat(D,"Id")],at=se["".concat($,"Id")],et={},pe=c.reduce(function(X,me){var fe=b["".concat(me.axisType,"Map")],ue=se["".concat(me.axisType,"Id")];fe&&fe[ue]||me.axisType==="zAxis"||tc();var Ce=fe[ue];return J(J({},X),{},De(De({},me.axisType,Ce),"".concat(me.axisType,"Ticks"),Ka(Ce)))},et),Ue=pe[$],oe=pe["".concat($,"Ticks")],ge=w&&w[Ee]&&w[Ee].hasStack&&kTe(I,w[Ee].stackGroups),be=Xa(I.type).indexOf("Bar")>=0,Q=Dv(Ue,oe),Ye=[],Be=U&&fTe({barSize:k,stackGroups:w,totalSize:L$e(pe,$)});if(be){var St,jt,ur=ze(je)?T:je,B=(St=(jt=Dv(Ue,oe,!0))!==null&&jt!==void 0?jt:ur)!==null&&St!==void 0?St:0;Ye=mTe({barGap:P,barCategoryGap:E,bandSize:B!==Q?B:Q,sizeList:Be[at],maxBarSize:ur}),B!==Q&&(Ye=Ye.map(function(X){return J(J({},X),{},{position:J(J({},X.position),{},{offset:X.position.offset-B/2})})}))}var K=I&&I.type&&I.type.getComposedData;K&&q.push({props:J(J({},K(J(J({},pe),{},{displayedData:Y,props:y,dataKey:ie,item:I,bandSize:Q,barPosition:Ye,offset:j,stackedData:ge,layout:C,dataStartIndex:S,dataEndIndex:_}))),{},De(De(De({key:I.key||"item-".concat(V)},D,pe[D]),$,pe[$]),"animationId",N)),childIndex:fye(I,y.children),item:I})}),q},m=function(y,b){var v=y.props,w=y.dataStartIndex,j=y.dataEndIndex,N=y.updateId;if(!y4({props:v}))return null;var S=v.children,_=v.layout,k=v.stackOffset,C=v.data,P=v.reverseStackOrder,E=a5(_),T=E.numericAxisName,F=E.cateAxisName,D=ds(S,n),$=_Te(C,D,"".concat(T,"Id"),"".concat(F,"Id"),k,P),U=c.reduce(function(se,ie){var je="".concat(ie.axisType,"Map");return J(J({},se),{},De({},je,R$e(v,J(J({},ie),{},{graphicalItems:D,stackGroups:ie.axisType===T&&$,dataStartIndex:w,dataEndIndex:j}))))},{}),q=I$e(J(J({},U),{},{props:v,graphicalItems:D}),b==null?void 0:b.legendBBox);Object.keys(U).forEach(function(se){U[se]=d(v,U[se],q,se.replace("Map",""),r)});var I=U["".concat(F,"Map")],V=D$e(I),Y=f(v,J(J({},U),{},{dataStartIndex:w,dataEndIndex:j,updateId:N,graphicalItems:D,stackGroups:$,offset:q}));return J(J({formattedGraphicalItems:Y,graphicalItems:D,offset:q,stackGroups:$},V),U)},g=function(p){function y(b){var v,w,j;return x$e(this,y),j=b$e(this,y,[b]),De(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(j,"accessibilityManager",new n$e),De(j,"handleLegendBBoxUpdate",function(N){if(N){var S=j.state,_=S.dataStartIndex,k=S.dataEndIndex,C=S.updateId;j.setState(J({legendBBox:N},m({props:j.props,dataStartIndex:_,dataEndIndex:k,updateId:C},J(J({},j.state),{},{legendBBox:N}))))}}),De(j,"handleReceiveSyncEvent",function(N,S,_){if(j.props.syncId===N){if(_===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),De(j,"handleBrushChange",function(N){var S=N.startIndex,_=N.endIndex;if(S!==j.state.dataStartIndex||_!==j.state.dataEndIndex){var k=j.state.updateId;j.setState(function(){return J({dataStartIndex:S,dataEndIndex:_},m({props:j.props,dataStartIndex:S,dataEndIndex:_,updateId:k},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:_})}}),De(j,"handleMouseEnter",function(N){var S=j.getMouseInfo(N);if(S){var _=J(J({},S),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var k=j.props.onMouseEnter;Fe(k)&&k(_,N)}}),De(j,"triggeredAfterMouseMove",function(N){var S=j.getMouseInfo(N),_=S?J(J({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var k=j.props.onMouseMove;Fe(k)&&k(_,N)}),De(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),De(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),De(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),De(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var _=j.props.onMouseLeave;Fe(_)&&_(S,N)}),De(j,"handleOuterEvent",function(N){var S=hye(N),_=zn(j.props,"".concat(S));if(S&&Fe(_)){var k,C;/.*touch.*/i.test(S)?C=j.getMouseInfo(N.changedTouches[0]):C=j.getMouseInfo(N),_((k=C)!==null&&k!==void 0?k:{},N)}}),De(j,"handleClick",function(N){var S=j.getMouseInfo(N);if(S){var _=J(J({},S),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var k=j.props.onClick;Fe(k)&&k(_,N)}}),De(j,"handleMouseDown",function(N){var S=j.props.onMouseDown;if(Fe(S)){var _=j.getMouseInfo(N);S(_,N)}}),De(j,"handleMouseUp",function(N){var S=j.props.onMouseUp;if(Fe(S)){var _=j.getMouseInfo(N);S(_,N)}}),De(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),De(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),De(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),De(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&Zw.emit(ej,j.props.syncId,N,j.eventEmitterSymbol)}),De(j,"applySyncEvent",function(N){var S=j.props,_=S.layout,k=S.syncMethod,C=j.state.updateId,P=N.dataStartIndex,E=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(J({dataStartIndex:P,dataEndIndex:E},m({props:j.props,dataStartIndex:P,dataEndIndex:E,updateId:C},j.state)));else if(N.activeTooltipIndex!==void 0){var T=N.chartX,F=N.chartY,D=N.activeTooltipIndex,$=j.state,U=$.offset,q=$.tooltipTicks;if(!U)return;if(typeof k=="function")D=k(q,N);else if(k==="value"){D=-1;for(var I=0;I<q.length;I++)if(q[I].value===N.activeLabel){D=I;break}}var V=J(J({},U),{},{x:U.left,y:U.top}),Y=Math.min(T,V.x+V.width),se=Math.min(F,V.y+V.height),ie=q[D]&&q[D].value,je=$_(j.state,j.props.data,D),Ee=q[D]?{x:_==="horizontal"?q[D].coordinate:Y,y:_==="horizontal"?se:q[D].coordinate}:mV;j.setState(J(J({},N),{},{activeLabel:ie,activeCoordinate:Ee,activePayload:je,activeTooltipIndex:D}))}else j.setState(N)}),De(j,"renderCursor",function(N){var S,_=j.state,k=_.isTooltipActive,C=_.activeCoordinate,P=_.activePayload,E=_.offset,T=_.activeTooltipIndex,F=_.tooltipAxisBandSize,D=j.getTooltipEventType(),$=(S=N.props.active)!==null&&S!==void 0?S:k,U=j.props.layout,q=N.key||"_recharts-cursor";return O.createElement(u$e,{key:q,activeCoordinate:C,activePayload:P,activeTooltipIndex:T,chartName:r,element:N,isActive:$,layout:U,offset:E,tooltipAxisBandSize:F,tooltipEventType:D})}),De(j,"renderPolarAxis",function(N,S,_){var k=zn(N,"type.axisType"),C=zn(j.state,"".concat(k,"Map")),P=N.type.defaultProps,E=P!==void 0?J(J({},P),N.props):N.props,T=C&&C[E["".concat(k,"Id")]];return x.cloneElement(N,J(J({},T),{},{className:Ve(k,T.className),key:N.key||"".concat(S,"-").concat(_),ticks:Ka(T,!0)}))}),De(j,"renderPolarGrid",function(N){var S=N.props,_=S.radialLines,k=S.polarAngles,C=S.polarRadius,P=j.state,E=P.radiusAxisMap,T=P.angleAxisMap,F=Ui(E),D=Ui(T),$=D.cx,U=D.cy,q=D.innerRadius,I=D.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(k)?k:Ka(D,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(C)?C:Ka(F,!0).map(function(V){return V.coordinate}),cx:$,cy:U,innerRadius:q,outerRadius:I,key:N.key||"polar-grid",radialLines:_})}),De(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,S=j.props,_=S.children,k=S.width,C=S.height,P=j.props.margin||{},E=k-(P.left||0)-(P.right||0),T=zU({children:_,formattedGraphicalItems:N,legendWidth:E,legendContent:u});if(!T)return null;var F=T.item,D=t5(T,d$e);return x.cloneElement(F,J(J({},D),{},{chartWidth:k,chartHeight:C,margin:P,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),De(j,"renderTooltip",function(){var N,S=j.props,_=S.children,k=S.accessibilityLayer,C=Dn(_,Js);if(!C)return null;var P=j.state,E=P.isTooltipActive,T=P.activeCoordinate,F=P.activePayload,D=P.activeLabel,$=P.offset,U=(N=C.props.active)!==null&&N!==void 0?N:E;return x.cloneElement(C,{viewBox:J(J({},$),{},{x:$.left,y:$.top}),active:U,label:D,payload:U?F:[],coordinate:T,accessibilityLayer:k})}),De(j,"renderBrush",function(N){var S=j.props,_=S.margin,k=S.data,C=j.state,P=C.offset,E=C.dataStartIndex,T=C.dataEndIndex,F=C.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:jg(j.handleBrushChange,N.props.onChange),data:k,x:ce(N.props.x)?N.props.x:P.left,y:ce(N.props.y)?N.props.y:P.top+P.height+P.brushBottom-(_.bottom||0),width:ce(N.props.width)?N.props.width:P.width,startIndex:E,endIndex:T,updateId:"brush-".concat(F)})}),De(j,"renderReferenceElement",function(N,S,_){if(!N)return null;var k=j,C=k.clipPathId,P=j.state,E=P.xAxisMap,T=P.yAxisMap,F=P.offset,D=N.type.defaultProps||{},$=N.props,U=$.xAxisId,q=U===void 0?D.xAxisId:U,I=$.yAxisId,V=I===void 0?D.yAxisId:I;return x.cloneElement(N,{key:N.key||"".concat(S,"-").concat(_),xAxis:E[q],yAxis:T[V],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:C})}),De(j,"renderActivePoints",function(N){var S=N.item,_=N.activePoint,k=N.basePoint,C=N.childIndex,P=N.isRange,E=[],T=S.props.key,F=S.item.type.defaultProps!==void 0?J(J({},S.item.type.defaultProps),S.item.props):S.item.props,D=F.activeDot,$=F.dataKey,U=J(J({index:C,dataKey:$,cx:_.x,cy:_.y,r:4,fill:MC(S.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Pe(D,!1)),lv(D));return E.push(y.renderActiveDot(D,U,"".concat(T,"-activePoint-").concat(C))),k?E.push(y.renderActiveDot(D,J(J({},U),{},{cx:k.x,cy:k.y}),"".concat(T,"-basePoint-").concat(C))):P&&E.push(null),E}),De(j,"renderGraphicChild",function(N,S,_){var k=j.filterFormatItem(N,S,_);if(!k)return null;var C=j.getTooltipEventType(),P=j.state,E=P.isTooltipActive,T=P.tooltipAxis,F=P.activeTooltipIndex,D=P.activeLabel,$=j.props.children,U=Dn($,Js),q=k.props,I=q.points,V=q.isRange,Y=q.baseLine,se=k.item.type.defaultProps!==void 0?J(J({},k.item.type.defaultProps),k.item.props):k.item.props,ie=se.activeDot,je=se.hide,Ee=se.activeBar,at=se.activeShape,et=!!(!je&&E&&U&&(ie||Ee||at)),pe={};C!=="axis"&&U&&U.props.trigger==="click"?pe={onClick:jg(j.handleItemMouseEnter,N.props.onClick)}:C!=="axis"&&(pe={onMouseLeave:jg(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:jg(j.handleItemMouseEnter,N.props.onMouseEnter)});var Ue=x.cloneElement(N,J(J({},k.props),pe));function oe(me){return typeof T.dataKey=="function"?T.dataKey(me.payload):null}if(et)if(F>=0){var ge,be;if(T.dataKey&&!T.allowDuplicatedCategory){var Q=typeof T.dataKey=="function"?oe:"payload.".concat(T.dataKey.toString());ge=ov(I,Q,D),be=V&&Y&&ov(Y,Q,D)}else ge=I==null?void 0:I[F],be=V&&Y&&Y[F];if(at||Ee){var Ye=N.props.activeIndex!==void 0?N.props.activeIndex:F;return[x.cloneElement(N,J(J(J({},k.props),pe),{},{activeIndex:Ye})),null,null]}if(!ze(ge))return[Ue].concat(bd(j.renderActivePoints({item:k,activePoint:ge,basePoint:be,childIndex:F,isRange:V})))}else{var Be,St=(Be=j.getItemByXY(j.state.activeCoordinate))!==null&&Be!==void 0?Be:{graphicalItem:Ue},jt=St.graphicalItem,ur=jt.item,B=ur===void 0?N:ur,K=jt.childIndex,X=J(J(J({},k.props),pe),{},{activeIndex:K});return[x.cloneElement(B,X),null,null]}return V?[Ue,null,null]:[Ue,null]}),De(j,"renderCustomized",function(N,S,_){return x.cloneElement(N,J(J({key:"recharts-customized-".concat(_)},j.props),j.state))}),De(j,"renderMap",{CartesianGrid:{handler:Cg,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Cg},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Cg},YAxis:{handler:Cg},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((v=b.id)!==null&&v!==void 0?v:Gd("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=UB(j.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return N$e(y,p),y$e(y,[{key:"componentDidMount",value:function(){var v,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,w=v.children,j=v.data,N=v.height,S=v.layout,_=Dn(w,Js);if(_){var k=_.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,P=$_(this.state,j,k,C),E=this.state.tooltipTicks[k].coordinate,T=(this.state.offset.top+N)/2,F=S==="horizontal",D=F?{x:E,y:T}:{y:E,x:T},$=this.state.formattedGraphicalItems.find(function(q){var I=q.item;return I.type.name==="Scatter"});$&&(D=J(J({},D),$.props.points[k].tooltipPosition),P=$.props.points[k].tooltipPayload);var U={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:C,activePayload:P,activeCoordinate:D};this.setState(U),this.renderCursor(_),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(v){hN([Dn(v.children,Js)],[Dn(this.props.children,Js)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=Dn(this.props.children,Js);if(v&&typeof v.props.shared=="boolean"){var w=v.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),N=Bke(j),S={chartX:Math.round(v.pageX-N.left),chartY:Math.round(v.pageY-N.top)},_=j.width/w.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,_);if(!k)return null;var C=this.state,P=C.xAxisMap,E=C.yAxisMap,T=this.getTooltipEventType();if(T!=="axis"&&P&&E){var F=Ui(P).scale,D=Ui(E).scale,$=F&&F.invert?F.invert(S.chartX):null,U=D&&D.invert?D.invert(S.chartY):null;return J(J({},S),{},{xValue:$,yValue:U})}var q=n5(this.state,this.props.data,this.props.layout,k);return q?J(J({},S),q):null}},{key:"inRange",value:function(v,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=v/j,_=w/j;if(N==="horizontal"||N==="vertical"){var k=this.state.offset,C=S>=k.left&&S<=k.left+k.width&&_>=k.top&&_<=k.top+k.height;return C?{x:S,y:_}:null}var P=this.state,E=P.angleAxisMap,T=P.radiusAxisMap;if(E&&T){var F=Ui(E);return AM({x:S,y:_},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,w=this.getTooltipEventType(),j=Dn(v,Js),N={};j&&w==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=lv(this.props,this.handleOuterEvent);return J(J({},S),N)}},{key:"addListener",value:function(){Zw.on(ej,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Zw.removeListener(ej,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,w,j){for(var N=this.state.formattedGraphicalItems,S=0,_=N.length;S<_;S++){var k=N[S];if(k.item===v||k.props.key===v.key||w===Xa(k.item.type)&&j===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,w=this.state.offset,j=w.left,N=w.top,S=w.height,_=w.width;return O.createElement("defs",null,O.createElement("clipPath",{id:v},O.createElement("rect",{x:j,y:N,height:S,width:_})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(w,j){var N=e5(j,2),S=N[0],_=N[1];return J(J({},w),{},De({},S,_.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(w,j){var N=e5(j,2),S=N[0],_=N[1];return J(J({},w),{},De({},S,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[v])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(v){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[v])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(v){var w=this.state,j=w.formattedGraphicalItems,N=w.activeItem;if(j&&j.length)for(var S=0,_=j.length;S<_;S++){var k=j[S],C=k.props,P=k.item,E=P.type.defaultProps!==void 0?J(J({},P.type.defaultProps),P.props):P.props,T=Xa(P.type);if(T==="Bar"){var F=(C.data||[]).find(function(q){return hMe(v,q)});if(F)return{graphicalItem:k,payload:F}}else if(T==="RadialBar"){var D=(C.data||[]).find(function(q){return AM(v,q)});if(D)return{graphicalItem:k,payload:D}}else if(Q0(k,N)||J0(k,N)||km(k,N)){var $=e5e({graphicalItem:k,activeTooltipItem:N,itemData:E.data}),U=E.activeIndex===void 0?$:E.activeIndex;return{graphicalItem:J(J({},k),{},{childIndex:U}),payload:km(k,N)?E.data[$]:k.props.data[$]}}}return null}},{key:"render",value:function(){var v=this;if(!y4(this))return null;var w=this.props,j=w.children,N=w.className,S=w.width,_=w.height,k=w.style,C=w.compact,P=w.title,E=w.desc,T=t5(w,h$e),F=Pe(T,!1);if(C)return O.createElement(I3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement(mN,gf({},F,{width:S,height:_,title:P,desc:E}),this.renderClipPath(),w4(j,this.renderMap)));if(this.props.accessibilityLayer){var D,$;F.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,F.role=($=this.props.role)!==null&&$!==void 0?$:"application",F.onKeyDown=function(q){v.accessibilityManager.keyboardEvent(q)},F.onFocus=function(){v.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return O.createElement(I3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement("div",gf({className:Ve("recharts-wrapper",N),style:J({position:"relative",cursor:"default",width:S,height:_},k)},U,{ref:function(I){v.container=I}}),O.createElement(mN,gf({},F,{width:S,height:_,title:P,desc:E,style:A$e}),this.renderClipPath(),w4(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);return De(g,"displayName",r),De(g,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),De(g,"getDerivedStateFromProps",function(p,y){var b=p.dataKey,v=p.data,w=p.children,j=p.width,N=p.height,S=p.layout,_=p.stackOffset,k=p.margin,C=y.dataStartIndex,P=y.dataEndIndex;if(y.updateId===void 0){var E=s5(p);return J(J(J({},E),{},{updateId:0},m(J(J({props:p},E),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:v,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:_,prevMargin:k,prevChildren:w})}if(b!==y.prevDataKey||v!==y.prevData||j!==y.prevWidth||N!==y.prevHeight||S!==y.prevLayout||_!==y.prevStackOffset||!gu(k,y.prevMargin)){var T=s5(p),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},D=J(J({},n5(y,v,S)),{},{updateId:y.updateId+1}),$=J(J(J({},T),F),D);return J(J(J({},$),m(J({props:p},$),y)),{},{prevDataKey:b,prevData:v,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:_,prevMargin:k,prevChildren:w})}if(!hN(w,y.prevChildren)){var U,q,I,V,Y=Dn(w,ud),se=Y&&(U=(q=Y.props)===null||q===void 0?void 0:q.startIndex)!==null&&U!==void 0?U:C,ie=Y&&(I=(V=Y.props)===null||V===void 0?void 0:V.endIndex)!==null&&I!==void 0?I:P,je=se!==C||ie!==P,Ee=!ze(v),at=Ee&&!je?y.updateId:y.updateId+1;return J(J({updateId:at},m(J(J({props:p},y),{},{updateId:at,dataStartIndex:se,dataEndIndex:ie}),y)),{},{prevChildren:w,dataStartIndex:se,dataEndIndex:ie})}return null}),De(g,"renderActiveDot",function(p,y,b){var v;return x.isValidElement(p)?v=x.cloneElement(p,y):Fe(p)?v=p(y):v=O.createElement(H0,y),O.createElement(nt,{className:"recharts-active-dot",key:b},v)}),function(y){return O.createElement(g,y)}},i5=qC({chartName:"BarChart",GraphicalChild:la,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ol},{axisType:"yAxis",AxisComp:Ml}],formatAxisMap:Oz}),F$e=qC({chartName:"PieChart",GraphicalChild:wi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:X0},{axisType:"radiusAxis",AxisComp:G0}],formatAxisMap:$Te,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),B$e=qC({chartName:"AreaChart",GraphicalChild:va,axisComponents:[{axisType:"xAxis",AxisComp:Ol},{axisType:"yAxis",AxisComp:Ml}],formatAxisMap:Oz});const U$e={light:"",dark:".dark"},gV=x.createContext(null);function xV(){const e=x.useContext(gV);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Uh=x.forwardRef(({id:e,className:t,children:r,config:n,...a},i)=>{const o=x.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return s.jsx(gV.Provider,{value:{config:n},children:s.jsxs("div",{"data-chart":l,ref:i,className:ne("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[s.jsx(z$e,{id:l,config:n}),s.jsx(Mke,{children:r})]})})});Uh.displayName="Chart";const z$e=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?s.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(U$e).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Pg=Js,zh=x.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:h,labelKey:f},m)=>{const{config:g}=xV(),p=x.useMemo(()=>{var N;if(a||!(t!=null&&t.length))return null;const[b]=t,v=`${f||b.dataKey||b.name||"value"}`,w=I_(g,b,v),j=!f&&typeof o=="string"?((N=g[o])==null?void 0:N.label)||o:w==null?void 0:w.label;return l?s.jsx("div",{className:ne("font-medium",c),children:l(j,t)}):j?s.jsx("div",{className:ne("font-medium",c),children:j}):null},[o,l,t,a,c,g,f]);if(!e||!(t!=null&&t.length))return null;const y=t.length===1&&n!=="dot";return s.jsxs("div",{ref:m,className:ne("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[y?null:p,s.jsx("div",{className:"grid gap-1.5",children:t.map((b,v)=>{const w=`${h||b.name||b.dataKey||"value"}`,j=I_(g,b,w),N=d||b.payload.fill||b.color;return s.jsx("div",{className:ne("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(b==null?void 0:b.value)!==void 0&&b.name?u(b.value,b.name,b,v,b.payload):s.jsxs(s.Fragment,{children:[j!=null&&j.icon?s.jsx(j.icon,{}):!i&&s.jsx("div",{className:ne("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":y&&n==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),s.jsxs("div",{className:ne("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[s.jsxs("div",{className:"grid gap-1.5",children:[y?p:null,s.jsx("span",{className:"text-muted-foreground",children:(j==null?void 0:j.label)||b.name})]}),b.value&&s.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:b.value.toLocaleString()})]})]})},b.dataKey)})})]})});zh.displayName="ChartTooltip";const V$e=x.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},i)=>{const{config:o}=xV();return r!=null&&r.length?s.jsx("div",{ref:i,className:ne("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=I_(o,l,c);return s.jsxs("div",{className:ne("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?s.jsx(u.icon,{}):s.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});V$e.displayName="ChartLegend";function I_(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}const q$e=({stats:e})=>{const[t,r]=x.useState("monthly"),n=[{month:"Jan",members:45,events:8,projects:12,payments:15e3},{month:"Feb",members:52,events:12,projects:18,payments:18500},{month:"Mar",members:68,events:15,projects:24,payments:22e3},{month:"Apr",members:78,events:18,projects:28,payments:26500},{month:"May",members:89,events:22,projects:35,payments:31e3},{month:"Jun",members:95,events:25,projects:42,payments:35500}],a=[{name:"Active Members",value:e.totalMembers-e.pendingMembers,color:"#22c55e"},{name:"Pending Members",value:e.pendingMembers,color:"#eab308"},{name:"Events",value:e.totalEvents,color:"#3b82f6"},{name:"Projects",value:e.pendingProjects,color:"#f97316"}],i=[{week:"Week 1",engagement:78,satisfaction:85,retention:92},{week:"Week 2",engagement:82,satisfaction:88,retention:89},{week:"Week 3",engagement:85,satisfaction:91,retention:94},{week:"Week 4",engagement:88,satisfaction:89,retention:96}],o=[{activity:"Dashboard Views",count:1250,growth:12},{activity:"Project Submissions",count:340,growth:8},{activity:"Event Registrations",count:580,growth:15},{activity:"Blog Posts",count:120,growth:22},{activity:"Community Visits",count:890,growth:18}],l={members:{label:"Members",color:"#22c55e"},events:{label:"Events",color:"#3b82f6"},projects:{label:"Projects",color:"#f97316"},payments:{label:"Payments",color:"#a855f7"},engagement:{label:"Engagement",color:"#22c55e"},satisfaction:{label:"Satisfaction",color:"#3b82f6"},retention:{label:"Retention",color:"#f97316"}},c=()=>{switch(t){case"monthly":return s.jsx(Uh,{config:l,className:"h-80",children:s.jsxs(i5,{data:n,children:[s.jsx(ax,{strokeDasharray:"3 3",opacity:.3}),s.jsx(Ol,{dataKey:"month"}),s.jsx(Ml,{}),s.jsx(Pg,{content:s.jsx(zh,{})}),s.jsx(la,{dataKey:"members",fill:"var(--color-members)",radius:4}),s.jsx(la,{dataKey:"events",fill:"var(--color-events)",radius:4}),s.jsx(la,{dataKey:"projects",fill:"var(--color-projects)",radius:4})]})});case"category":return s.jsx(Uh,{config:l,className:"h-80",children:s.jsxs(F$e,{children:[s.jsx(wi,{data:a,cx:"50%",cy:"50%",outerRadius:100,dataKey:"value",label:({name:u,value:d})=>`${u}: ${d}`,children:a.map((u,d)=>s.jsx(R0,{fill:u.color},`cell-${d}`))}),s.jsx(Pg,{content:s.jsx(zh,{})})]})});case"trends":return s.jsx(Uh,{config:l,className:"h-80",children:s.jsxs(B$e,{data:i,children:[s.jsx(ax,{strokeDasharray:"3 3",opacity:.3}),s.jsx(Ol,{dataKey:"week"}),s.jsx(Ml,{}),s.jsx(Pg,{content:s.jsx(zh,{})}),s.jsx(va,{type:"monotone",dataKey:"engagement",stackId:"1",stroke:"var(--color-engagement)",fill:"var(--color-engagement)",fillOpacity:.6}),s.jsx(va,{type:"monotone",dataKey:"satisfaction",stackId:"1",stroke:"var(--color-satisfaction)",fill:"var(--color-satisfaction)",fillOpacity:.6}),s.jsx(va,{type:"monotone",dataKey:"retention",stackId:"1",stroke:"var(--color-retention)",fill:"var(--color-retention)",fillOpacity:.6})]})});case"engagement":return s.jsx(Uh,{config:l,className:"h-80",children:s.jsxs(i5,{data:o,layout:"horizontal",children:[s.jsx(ax,{strokeDasharray:"3 3",opacity:.3}),s.jsx(Ol,{type:"number"}),s.jsx(Ml,{dataKey:"activity",type:"category",width:120}),s.jsx(Pg,{content:s.jsx(zh,{})}),s.jsx(la,{dataKey:"count",fill:"var(--color-members)",radius:4})]})});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs(ee,{className:"flex items-center gap-2 text-xl",children:[s.jsx(CS,{className:"h-6 w-6 text-blue-600"}),"Super Admin Analytics Dashboard"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Comprehensive system insights and performance metrics"})]}),s.jsx(H,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Real-time Data"})]})}),s.jsxs(L,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[s.jsxs(M,{variant:t==="monthly"?"default":"outline",size:"sm",onClick:()=>r("monthly"),className:"flex items-center gap-2",children:[s.jsx(Bn,{className:"h-4 w-4"}),"Monthly Growth"]}),s.jsxs(M,{variant:t==="category"?"default":"outline",size:"sm",onClick:()=>r("category"),className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4"}),"Category Distribution"]}),s.jsxs(M,{variant:t==="trends"?"default":"outline",size:"sm",onClick:()=>r("trends"),className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4"}),"Performance Trends"]}),s.jsxs(M,{variant:t==="engagement"?"default":"outline",size:"sm",onClick:()=>r("engagement"),className:"flex items-center gap-2",children:[s.jsx(ql,{className:"h-4 w-4"}),"User Engagement"]})]}),c(),s.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"text-sm text-gray-600",children:[t==="monthly"&&s.jsx("p",{children:"Monthly growth metrics showing member registration, event participation, and project submissions over the last 6 months."}),t==="category"&&s.jsx("p",{children:"Distribution breakdown of active vs pending members, total events, and project submissions."}),t==="trends"&&s.jsx("p",{children:"Weekly performance trends including user engagement scores, satisfaction ratings, and retention metrics."}),t==="engagement"&&s.jsx("p",{children:"User engagement metrics across different platform activities with growth percentages."})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(R,{children:[s.jsx(Z,{className:"pb-3",children:s.jsxs(ee,{className:"text-lg flex items-center gap-2",children:[s.jsx(lr,{className:"h-5 w-5 text-yellow-600"}),"System Health"]})}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Database Performance"}),s.jsx(H,{variant:"outline",className:"bg-green-50 text-green-700",children:"98.5%"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"API Response Time"}),s.jsx(H,{variant:"outline",className:"bg-green-50 text-green-700",children:"120ms"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Uptime"}),s.jsx(H,{variant:"outline",className:"bg-green-50 text-green-700",children:"99.9%"})]})]})})]}),s.jsxs(R,{children:[s.jsx(Z,{className:"pb-3",children:s.jsxs(ee,{className:"text-lg flex items-center gap-2",children:[s.jsx(Oe,{className:"h-5 w-5 text-blue-600"}),"User Activity"]})}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Daily Active Users"}),s.jsx("span",{className:"font-semibold",children:"247"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Weekly Active Users"}),s.jsx("span",{className:"font-semibold",children:"562"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Active Users"}),s.jsx("span",{className:"font-semibold",children:"1,234"})]})]})})]}),s.jsxs(R,{children:[s.jsx(Z,{className:"pb-3",children:s.jsxs(ee,{className:"text-lg flex items-center gap-2",children:[s.jsx(Bn,{className:"h-5 w-5 text-green-600"}),"Growth Metrics"]})}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Member Growth"}),s.jsx(H,{variant:"outline",className:"bg-green-50 text-green-700",children:"+12%"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Event Participation"}),s.jsx(H,{variant:"outline",className:"bg-green-50 text-green-700",children:"+18%"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Project Submissions"}),s.jsx(H,{variant:"outline",className:"bg-green-50 text-green-700",children:"+25%"})]})]})})]})]})]})},o5=()=>{ye();const{roleInfo:e,loading:t,isSuperAdmin:r,isChairman:n}=$o(),[a,i]=x.useState("members");if(t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading admin dashboard..."})]})});const o=d=>({super_admin:"Super Admin",general_admin:"General Admin",community_admin:"Community Admin",events_admin:"Events Admin",projects_admin:"Projects Admin",finance_admin:"Finance Admin",content_admin:"Content Admin",technical_admin:"Technical Admin",marketing_admin:"Marketing Admin",chairman:"Chairman",vice_chairman:"Vice Chairman"})[d]||d.replace("_"," ").replace(/\b\w/g,f=>f.toUpperCase()),l=r||n,c=e!=null&&e.assignedRole?o(e.assignedRole):"Administrator",u={totalMembers:156,pendingMembers:12,totalEvents:28,pendingProjects:8,totalPayments:45e3,totalCertificates:89,pendingAdminRequests:3};return s.jsx(i9,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Gde,{roleDisplayName:c,isSuperAdmin:r}),s.jsxs(Mr,{value:a,onValueChange:i,className:"w-full",children:[s.jsx(Yde,{canManageUsers:l}),s.jsx(jpe,{canManageUsers:l})]}),r&&s.jsx("div",{className:"mt-8",children:s.jsx(q$e,{stats:u})})]})})},WC=e=>{const{user:t}=ye(),[r,n]=x.useState([]),[a,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(!0),[d,h]=x.useState(!1);return x.useEffect(()=>{(async()=>{if(!t){u(!1);return}try{const{data:g,error:p}=await A.from("user_roles").select("role").eq("user_id",t.id);if(p)throw p;if(g==null?void 0:g.some(b=>b.role==="general_admin"||b.role==="super_admin")){const{data:b,error:v}=await A.from("community_groups").select("id, name, description, is_active, meeting_schedule, meeting_time, meeting_location").eq("is_active",!0).order("name");if(v)throw v;n(b||[]),b&&b.length>0&&i(b[0])}else{const{data:b,error:v}=await A.from("community_admin_roles").select(`
              community_id,
              community_groups!inner(id, name, description, is_active, meeting_schedule, meeting_time, meeting_location)
            `).eq("user_id",t.id).eq("is_active",!0);if(v)throw v;const w=(b==null?void 0:b.map(j=>({id:j.community_groups.id,name:j.community_groups.name,description:j.community_groups.description,is_active:j.community_groups.is_active,meeting_schedule:j.community_groups.meeting_schedule,meeting_time:j.community_groups.meeting_time,meeting_location:j.community_groups.meeting_location})))||[];n(w),w.length>0&&i(w[0])}}catch(g){console.error("Error fetching community admin data:",g),n([]),i(null)}finally{u(!1)}})()},[t]),x.useEffect(()=>{(async()=>{if(!t||!e){h(!1);return}try{const{data:g,error:p}=await A.from("user_roles").select("role").eq("user_id",t.id);if(p)throw p;if(g==null?void 0:g.some(w=>w.role==="general_admin"||w.role==="super_admin")){h(!0);return}const{data:b,error:v}=await A.from("community_admin_roles").select("id").eq("user_id",t.id).eq("community_id",e).eq("is_active",!0).single();if(v&&v.code!=="PGRST116")throw v;h(!!b)}catch(g){console.error("Error checking admin status:",g),h(!1)}})()},[t,e]),x.useEffect(()=>{(async()=>{if(!a||!t){l(null);return}try{const{count:g,error:p}=await A.from("community_memberships").select("id",{count:"exact",head:!0}).eq("community_id",a.id).eq("status","active");p&&console.error("Error fetching members count:",p);const{count:y,error:b}=await A.from("community_events").select("id",{count:"exact",head:!0}).eq("community_id",a.id);b&&console.error("Error fetching events count:",b);const{count:v,error:w}=await A.from("community_projects").select("id",{count:"exact",head:!0}).eq("community_id",a.id);w&&console.error("Error fetching projects count:",w),l({total_members:g||0,total_events:y||0,total_projects:v||0,attended_last_meeting:0})}catch(g){console.error("Error fetching community stats:",g),l({total_members:0,total_events:0,total_projects:0,attended_last_meeting:0})}})()},[a,t]),{communities:r,selectedCommunity:a,stats:o,loading:c,selectCommunity:m=>{i(m)},isAdmin:d}},wd=()=>{const e=Ao(),t=()=>{e("/dashboard")};return s.jsxs(M,{variant:"outline",onClick:t,className:"flex items-center gap-2",children:[s.jsx(ZZ,{className:"w-4 h-4"}),"Back to Dashboard"]})},vV=({communityId:e,isAdmin:t=!1})=>{const{toast:r}=xe(),[n,a]=x.useState([]),[i,o]=x.useState(!0),[l,c]=x.useState([]),[u,d]=x.useState(!1),[h,f]=x.useState(""),m=async()=>{try{const{data:b,error:v}=await A.from("community_memberships").select("id, user_id, status, joined_at").eq("community_id",e).eq("status","active");if(v)throw v;if(!b||b.length===0){a([]);return}const w=b.map(_=>_.user_id),{data:j,error:N}=await A.from("members").select("user_id, name, email, phone, course").in("user_id",w);if(N)throw N;const S=b.map(_=>{const k=j==null?void 0:j.find(C=>C.user_id===_.user_id);return{..._,members:k||{name:"Unknown",email:"Unknown",phone:null,course:null}}});a(S)}catch(b){console.error("Error fetching community members:",b),r({title:"Error",description:"Failed to load community members",variant:"destructive"})}finally{o(!1)}},g=async()=>{try{const{data:b}=await A.from("community_memberships").select("user_id").eq("community_id",e).eq("status","active"),v=(b==null?void 0:b.map(S=>S.user_id))||[];let w=A.from("members").select("user_id, name, email").eq("registration_status","approved");v.length>0&&(w=w.not("user_id","in",`(${v.join(",")})`));const{data:j,error:N}=await w;if(N)throw N;c(j||[])}catch(b){console.error("Error fetching available users:",b)}},p=async()=>{if(h)try{const{error:b}=await A.from("community_memberships").insert({community_id:e,user_id:h,status:"active"});if(b)throw b;r({title:"Success",description:"Member added to community successfully"}),d(!1),f(""),m(),g()}catch(b){console.error("Error adding member:",b),r({title:"Error",description:"Failed to add member to community",variant:"destructive"})}},y=async b=>{try{const{error:v}=await A.from("community_memberships").delete().eq("id",b);if(v)throw v;r({title:"Success",description:"Member removed from community"}),m()}catch(v){console.error("Error removing member:",v),r({title:"Error",description:"Failed to remove member",variant:"destructive"})}};return x.useEffect(()=>{m()},[e]),x.useEffect(()=>{u&&g()},[u,e]),i?s.jsx("div",{className:"text-center py-8",children:"Loading members..."}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsx(wd,{})}),s.jsxs(R,{children:[s.jsxs(Z,{className:"flex flex-row items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"w-5 h-5"}),"Community Members (",n.length,")"]}),t&&s.jsxs(pt,{open:u,onOpenChange:d,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{children:[s.jsx(wa,{className:"w-4 h-4 mr-2"}),"Add Member"]})}),s.jsxs(yt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Add Member to Community"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"user-select",children:"Select User"}),s.jsxs(Ie,{value:h,onValueChange:f,children:[s.jsx(Me,{children:s.jsx(Le,{placeholder:"Choose a user to add"})}),s.jsx(Re,{children:l.map(b=>s.jsxs(G,{value:b.user_id,children:[b.name," (",b.email,")"]},b.user_id))})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(M,{onClick:p,disabled:!h,children:"Add Member"})]})]})]})]})]}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-4",children:[n.map(b=>{var v,w,j,N;return s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-kic-gray",children:(v=b.members)==null?void 0:v.name}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xm,{className:"w-4 h-4"}),(w=b.members)==null?void 0:w.email]}),((j=b.members)==null?void 0:j.phone)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(OS,{className:"w-4 h-4"}),b.members.phone]}),((N=b.members)==null?void 0:N.course)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q$,{className:"w-4 h-4"}),b.members.course]})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Joined: ",new Date(b.joined_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H,{variant:"default",children:"Active"}),t&&s.jsx(M,{variant:"outline",size:"sm",onClick:()=>y(b.id),children:"Remove"})]})]})},b.id)}),n.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Oe,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Members"}),s.jsx("p",{className:"text-gray-500",children:"This community doesn't have any members yet."})]})]})})]})]})},W$e=e=>{const{user:t}=ye(),{toast:r}=xe(),[n,a]=x.useState([]),[i,o]=x.useState(!0),l=async()=>{try{const{data:d,error:h}=await A.from("community_events").select(`
          event_id,
          events (
            id,
            title,
            description,
            date,
            location,
            max_attendees,
            status,
            created_at,
            image_url
          )
        `).eq("community_id",e);if(h)throw h;a((d==null?void 0:d.map(f=>f.events))||[])}catch(d){console.error("Error fetching community events:",d),r({title:"Error",description:"Failed to load community events",variant:"destructive"})}finally{o(!1)}},c=async d=>{try{const h=d.name.split(".").pop(),m=`community-event-banners/${`${Date.now()}-${Math.random().toString(36).substring(2)}.${h}`}`,{error:g}=await A.storage.from("event-images").upload(m,d);if(g)return console.error("Upload error:",g),null;const{data:{publicUrl:p}}=A.storage.from("event-images").getPublicUrl(m);return p}catch(h){return console.error("Error uploading image:",h),null}},u=async(d,h)=>{if(!d.title||!d.date)return r({title:"Error",description:"Please fill in all required fields",variant:"destructive"}),!1;try{let f=null;h&&(f=await c(h),f||r({title:"Image upload failed",description:"The event will be created without an image",variant:"destructive"}));const{data:m,error:g}=await A.from("events").insert({title:d.title,description:d.description,date:d.date,location:d.location,max_attendees:d.max_attendees?parseInt(d.max_attendees):null,created_by:t==null?void 0:t.id,visibility:"members",is_published:!0,image_url:f}).select().single();if(g)throw g;const{error:p}=await A.from("community_events").insert({community_id:e,event_id:m.id});if(p)throw p;return r({title:"Success",description:"Event created successfully"}),await l(),!0}catch(f){return console.error("Error creating event:",f),r({title:"Error",description:"Failed to create event",variant:"destructive"}),!1}};return x.useEffect(()=>{l()},[e]),{events:n,loading:i,createEvent:u,refreshEvents:l}},H$e=({onCreateEvent:e})=>{const[t,r]=x.useState(!1),[n,a]=x.useState(null),[i,o]=x.useState({title:"",description:"",date:"",location:"",max_attendees:""}),l=async()=>{await e(i,n)&&(r(!1),o({title:"",description:"",date:"",location:"",max_attendees:""}),a(null))},c=()=>{r(!1),a(null)};return s.jsxs(pt,{open:t,onOpenChange:r,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{children:[s.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Create Event"]})}),s.jsxs(yt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Create Community Event"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(_7,{onImageSelect:a,onImageRemove:()=>a(null),selectedImage:n,maxSize:5,className:"mb-4"}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Event Title *"}),s.jsx(re,{id:"title",value:i.title,onChange:u=>o(d=>({...d,title:u.target.value})),placeholder:"Enter event title"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:i.description,onChange:u=>o(d=>({...d,description:u.target.value})),placeholder:"Event description",rows:3})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"date",children:"Date & Time *"}),s.jsx(re,{id:"date",type:"datetime-local",value:i.date,onChange:u=>o(d=>({...d,date:u.target.value}))})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"location",children:"Location"}),s.jsx(re,{id:"location",value:i.location,onChange:u=>o(d=>({...d,location:u.target.value})),placeholder:"Event location"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"max_attendees",children:"Max Attendees"}),s.jsx(re,{id:"max_attendees",type:"number",value:i.max_attendees,onChange:u=>o(d=>({...d,max_attendees:u.target.value})),placeholder:"Leave empty for unlimited"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:c,children:"Cancel"}),s.jsx(M,{onClick:l,children:"Create Event"})]})]})]})]})},K$e=({event:e})=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex gap-4 flex-1",children:[e.image_url&&s.jsx("img",{src:e.image_url,alt:e.title,className:"w-16 h-16 object-cover rounded-lg"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx("h4",{className:"font-medium text-kic-gray",children:e.title}),e.description&&s.jsx("p",{className:"text-sm text-gray-600",children:e.description}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"w-4 h-4"}),new Date(e.date).toLocaleString()]}),e.location&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mo,{className:"w-4 h-4"}),e.location]})]})]})]}),s.jsx(H,{variant:e.status==="upcoming"?"default":"secondary",children:e.status})]})}),G$e=()=>s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ae,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Events"}),s.jsx("p",{className:"text-gray-500",children:"This community doesn't have any events yet."})]}),ab=e=>{const{user:t}=ye();return x.useEffect(()=>{if(!t||!e)return;(async()=>{try{const{data:a,error:i}=await A.rpc("track_community_dashboard_visit",{user_id_param:t.id,community_id_param:e});i?console.error("Error tracking community dashboard visit:",i):a&&console.log("Daily community dashboard visit tracked and points awarded")}catch(a){console.error("Error in community dashboard visit tracking:",a)}})()},[t,e]),{markAttendance:async(n,a)=>{if(!(!t||!e))try{const i={user_id_param:t.id,community_id_param:e,attendance_type_param:n,marked_by_param:t.id};n==="activity"?i.activity_id_param=a:n==="event"?i.event_id_param=a:n==="workshop"&&(i.workshop_id_param=a);const{error:o}=await A.rpc("mark_community_attendance",i);if(o)throw o;console.log(`Attendance marked for ${n}`)}catch(i){console.error("Error marking attendance:",i)}}}},yV=({communityId:e,isAdmin:t=!1})=>{const{events:r,loading:n,createEvent:a}=W$e(e);return ab(e),n?s.jsx("div",{className:"text-center py-8",children:"Loading events..."}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsx(wd,{})}),s.jsxs(R,{children:[s.jsxs(Z,{className:"flex flex-row items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"w-5 h-5"}),"Community Events (",r.length,")"]}),t&&s.jsx(H$e,{onCreateEvent:a})]}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-4",children:[r.map(i=>s.jsx(K$e,{event:i},i.id)),r.length===0&&s.jsx(G$e,{})]})})]})]})},bV=({communityId:e,isAdmin:t=!1})=>{const{toast:r}=xe(),[n,a]=x.useState([]),[i,o]=x.useState(!0);ab(e);const l=async()=>{try{const{data:c,error:u}=await A.from("community_projects").select("project_id, status, approved_at").eq("community_id",e);if(u)throw u;if(!c||c.length===0){a([]);return}const d=c.map(y=>y.project_id),{data:h,error:f}=await A.from("project_submissions").select(`
          id,
          title,
          description,
          github_url,
          tech_tags,
          created_at,
          user_id,
          status
        `).in("id",d);if(f)throw f;const m=(h==null?void 0:h.map(y=>y.user_id).filter(Boolean))||[];let g=[];if(m.length>0){const{data:y,error:b}=await A.from("members").select("user_id, name, email").in("user_id",m);b?console.error("Error fetching member details:",b):g=y||[]}const p=(h==null?void 0:h.map(y=>{const b=c.find(w=>w.project_id===y.id),v=g.find(w=>w.user_id===y.user_id);return{...y,community_status:(b==null?void 0:b.status)||"pending",approved_at:b==null?void 0:b.approved_at,author_name:(v==null?void 0:v.name)||"Unknown",author_email:(v==null?void 0:v.email)||"Unknown"}}))||[];a(p)}catch(c){console.error("Error fetching community projects:",c),r({title:"Error",description:"Failed to load community projects",variant:"destructive"})}finally{o(!1)}};return x.useEffect(()=>{l()},[e]),i?s.jsx("div",{className:"text-center py-8",children:"Loading projects..."}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsx(wd,{})}),s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ql,{className:"w-5 h-5"}),"Community Projects (",n.length,")"]})}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-4",children:[n.map(c=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx("h4",{className:"font-medium text-kic-gray",children:c.title}),s.jsx("p",{className:"text-sm text-gray-600",children:c.description}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsxs("span",{children:["By: ",c.author_name]}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(c.created_at).toLocaleDateString()})]}),c.tech_tags&&c.tech_tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:c.tech_tags.map(u=>s.jsx(H,{variant:"outline",className:"text-xs",children:u},u))}),c.github_url&&s.jsxs("a",{href:c.github_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-kic-blue hover:underline",children:[s.jsx(ES,{className:"w-4 h-4"}),"View Code",s.jsx(Oo,{className:"w-3 h-3"})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(H,{variant:c.community_status==="approved"?"default":"secondary",children:c.community_status}),s.jsxs(H,{variant:c.status==="approved"?"default":"outline",children:["Project: ",c.status]})]})]})},c.id)),n.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ql,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Projects"}),s.jsx("p",{className:"text-gray-500",children:"This community doesn't have any projects yet."})]})]})})]})]})},Y$e=({communityId:e})=>{const{user:t}=ye(),{toast:r}=xe(),[n,a]=x.useState([]),[i,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(!1),[h,f]=x.useState({user_id:"",meeting_date:"",notes:""}),m=async()=>{try{const{data:b,error:v}=await A.from("community_meeting_attendance").select("*").eq("community_id",e).order("meeting_date",{ascending:!1});if(v)throw v;const w=await Promise.all((b||[]).map(async j=>{const{data:N}=await A.from("members").select("name, email").eq("user_id",j.user_id).single();return{...j,member_name:(N==null?void 0:N.name)||"Unknown Member",member_email:(N==null?void 0:N.email)||""}}));a(w)}catch(b){console.error("Error fetching attendance:",b),r({title:"Error",description:"Failed to load attendance records",variant:"destructive"})}finally{c(!1)}},g=async()=>{try{const{data:b,error:v}=await A.from("community_memberships").select("user_id").eq("community_id",e).eq("status","active");if(v)throw v;const w=await Promise.all((b||[]).map(async j=>{const{data:N}=await A.from("members").select("name, email").eq("user_id",j.user_id).single();return{user_id:j.user_id,member_name:(N==null?void 0:N.name)||"Unknown Member",member_email:(N==null?void 0:N.email)||""}}));o(w)}catch(b){console.error("Error fetching members:",b)}},p=async()=>{if(!h.user_id||!h.meeting_date){r({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{const{error:b}=await A.from("community_meeting_attendance").insert({community_id:e,user_id:h.user_id,meeting_date:h.meeting_date,notes:h.notes,marked_by:t==null?void 0:t.id});if(b)throw b;r({title:"Success",description:"Attendance marked successfully"}),d(!1),f({user_id:"",meeting_date:"",notes:""}),m()}catch(b){console.error("Error marking attendance:",b),r({title:"Error",description:"Failed to mark attendance",variant:"destructive"})}};if(x.useEffect(()=>{m(),g()},[e]),l)return s.jsx("div",{className:"text-center py-8",children:"Loading attendance..."});const y=n.reduce((b,v)=>{const w=v.meeting_date;return b[w]||(b[w]=[]),b[w].push(v),b},{});return s.jsxs(R,{children:[s.jsxs(Z,{className:"flex flex-row items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Hl,{className:"w-5 h-5"}),"Meeting Attendance"]}),s.jsxs(pt,{open:u,onOpenChange:d,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{children:[s.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]})}),s.jsxs(yt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Mark Meeting Attendance"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"member-select",children:"Member *"}),s.jsxs(Ie,{value:h.user_id,onValueChange:b=>f(v=>({...v,user_id:b})),children:[s.jsx(Me,{children:s.jsx(Le,{placeholder:"Select a member"})}),s.jsx(Re,{children:i.map(b=>s.jsxs(G,{value:b.user_id,children:[b.member_name," (",b.member_email,")"]},b.user_id))})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"meeting-date",children:"Meeting Date *"}),s.jsx(re,{id:"meeting-date",type:"date",value:h.meeting_date,onChange:b=>f(v=>({...v,meeting_date:b.target.value}))})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"notes",children:"Notes"}),s.jsx(ct,{id:"notes",value:h.notes,onChange:b=>f(v=>({...v,notes:b.target.value})),placeholder:"Any additional notes...",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(M,{onClick:p,children:"Mark Attendance"})]})]})]})]})]}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-6",children:[Object.entries(y).map(([b,v])=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Ae,{className:"w-4 h-4"}),s.jsx("h4",{className:"font-medium text-kic-gray",children:new Date(b).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s.jsxs(H,{variant:"secondary",children:[v.length," attendees"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:v.map(w=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"font-medium",children:w.member_name}),w.notes&&s.jsx("span",{className:"text-xs text-gray-500",title:w.notes,children:""})]},w.id))})]},b)),Object.keys(y).length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Hl,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Attendance Records"}),s.jsx("p",{className:"text-gray-500",children:"No meeting attendance has been recorded yet."})]})]})})]})},wV=({communityId:e,isAdmin:t=!1})=>{const{user:r}=ye(),{toast:n}=xe(),[a,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(!1),[d,h]=x.useState({title:"",message:"",reminder_type:"general",scheduled_for:""}),f=async()=>{try{const{data:y,error:b}=await A.from("community_reminders").select("*").eq("community_id",e).order("scheduled_for",{ascending:!1});if(b)throw b;i(y||[])}catch(y){console.error("Error fetching reminders:",y),n({title:"Error",description:"Failed to load reminders",variant:"destructive"})}finally{l(!1)}},m=async()=>{if(!d.title||!d.message||!d.scheduled_for){n({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{const{error:y}=await A.from("community_reminders").insert({community_id:e,title:d.title,message:d.message,reminder_type:d.reminder_type,scheduled_for:d.scheduled_for,created_by:r==null?void 0:r.id});if(y)throw y;n({title:"Success",description:"Reminder scheduled successfully"}),u(!1),h({title:"",message:"",reminder_type:"general",scheduled_for:""}),f()}catch(y){console.error("Error creating reminder:",y),n({title:"Error",description:"Failed to create reminder",variant:"destructive"})}};if(x.useEffect(()=>{f()},[e]),o)return s.jsx("div",{className:"text-center py-8",children:"Loading reminders..."});const g=y=>{switch(y){case"sent":return"default";case"failed":return"destructive";default:return"secondary"}},p=y=>{switch(y){case"meeting":return"bg-blue-100 text-blue-800";case"event":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs(R,{children:[s.jsxs(Z,{className:"flex flex-row items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"w-5 h-5"}),"Community Reminders (",a.length,")"]}),t&&s.jsxs(pt,{open:c,onOpenChange:u,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{children:[s.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Create Reminder"]})}),s.jsxs(yt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Create Community Reminder"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Title *"}),s.jsx(re,{id:"title",value:d.title,onChange:y=>h(b=>({...b,title:y.target.value})),placeholder:"Reminder title"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"message",children:"Message *"}),s.jsx(ct,{id:"message",value:d.message,onChange:y=>h(b=>({...b,message:y.target.value})),placeholder:"Reminder message",rows:4})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"type",children:"Type"}),s.jsxs(Ie,{value:d.reminder_type,onValueChange:y=>h(b=>({...b,reminder_type:y})),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"general",children:"General"}),s.jsx(G,{value:"meeting",children:"Meeting"}),s.jsx(G,{value:"event",children:"Event"})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"scheduled_for",children:"Schedule For *"}),s.jsx(re,{id:"scheduled_for",type:"datetime-local",value:d.scheduled_for,onChange:y=>h(b=>({...b,scheduled_for:y.target.value}))})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),s.jsx(M,{onClick:m,children:"Schedule Reminder"})]})]})]})]})]}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-4",children:[a.map(y=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium text-kic-gray",children:y.title}),s.jsx(H,{className:p(y.reminder_type),children:y.reminder_type})]}),s.jsx("p",{className:"text-sm text-gray-600",children:y.message}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vt,{className:"w-4 h-4"}),"Scheduled: ",new Date(y.scheduled_for).toLocaleString()]}),y.sent_at&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Od,{className:"w-4 h-4"}),"Sent: ",new Date(y.sent_at).toLocaleString()]})]})]}),s.jsx(H,{variant:g(y.status),children:y.status})]})},y.id)),a.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Pn,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Reminders"}),s.jsx("p",{className:"text-gray-500",children:"No reminders have been scheduled yet."})]})]})})]})},X$e=()=>{const{communities:e,selectedCommunity:t,loading:r,stats:n,selectCommunity:a}=WC();return ab(t==null?void 0:t.id),r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray",children:s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsx("p",{children:"Loading community dashboard..."})})})}):e.length===0?s.jsx("div",{className:"min-h-screen bg-kic-lightGray",children:s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsx(wd,{})}),s.jsx(R,{className:"max-w-2xl mx-auto",children:s.jsxs(L,{className:"p-6 text-center",children:[s.jsx(Oe,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Communities Assigned"}),s.jsx("p",{className:"text-gray-600",children:"You are not assigned as an admin for any communities. Contact the main administrator to get assigned."})]})})]})}):s.jsx("div",{className:"min-h-screen bg-kic-lightGray",children:s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-kic-gray",children:"Community Dashboard"}),s.jsx(wd,{})]}),s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsxs(Ie,{value:t==null?void 0:t.id,onValueChange:i=>{const o=e.find(l=>l.id===i);o&&a(o)},children:[s.jsx(Me,{className:"w-64",children:s.jsx(Le,{placeholder:"Select a community"})}),s.jsx(Re,{children:e.map(i=>s.jsx(G,{value:i.id,children:i.name},i.id))})]})}),t&&s.jsxs(R,{className:"mb-6",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center justify-between",children:[s.jsx("span",{children:t.name}),s.jsx(H,{variant:"secondary",children:"Admin"})]})}),s.jsxs(L,{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Meeting Schedule:"})," ",t.meeting_schedule]}),t.meeting_time&&s.jsxs("div",{children:[s.jsx("strong",{children:"Meeting Time:"})," ",t.meeting_time]}),t.meeting_location&&s.jsxs("div",{children:[s.jsx("strong",{children:"Location:"})," ",t.meeting_location]})]})]})]})]}),n&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),s.jsx("p",{className:"text-2xl font-bold text-kic-gray",children:n.total_members||0})]}),s.jsx(Oe,{className:"h-8 w-8 text-kic-blue"})]})})}),s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),s.jsx("p",{className:"text-2xl font-bold text-kic-gray",children:n.total_events||0})]}),s.jsx(Ae,{className:"h-8 w-8 text-kic-green-500"})]})})}),s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Projects"}),s.jsx("p",{className:"text-2xl font-bold text-kic-gray",children:n.total_projects||0})]}),s.jsx(ql,{className:"h-8 w-8 text-kic-orange"})]})})}),s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Last Meeting"}),s.jsx("p",{className:"text-2xl font-bold text-kic-gray",children:n.attended_last_meeting||0})]}),s.jsx(Oe,{className:"h-8 w-8 text-kic-purple"})]})})})]}),t&&s.jsxs(Mr,{defaultValue:"members",className:"space-y-4",children:[s.jsxs(Yt,{className:"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-1 h-auto p-1",children:[s.jsxs(te,{value:"members",className:"text-xs sm:text-sm flex items-center gap-1",children:[s.jsx(Oe,{className:"w-4 h-4"}),"Members"]}),s.jsxs(te,{value:"events",className:"text-xs sm:text-sm flex items-center gap-1",children:[s.jsx(Ae,{className:"w-4 h-4"}),"Events"]}),s.jsxs(te,{value:"projects",className:"text-xs sm:text-sm flex items-center gap-1",children:[s.jsx(ql,{className:"w-4 h-4"}),"Projects"]}),s.jsxs(te,{value:"attendance",className:"text-xs sm:text-sm flex items-center gap-1",children:[s.jsx(wa,{className:"w-4 h-4"}),"Attendance"]}),s.jsxs(te,{value:"reminders",className:"text-xs sm:text-sm flex items-center gap-1",children:[s.jsx(Pn,{className:"w-4 h-4"}),"Reminders"]})]}),s.jsx(de,{value:"members",children:s.jsx(vV,{communityId:t.id})}),s.jsx(de,{value:"events",children:s.jsx(yV,{communityId:t.id})}),s.jsx(de,{value:"projects",children:s.jsx(bV,{communityId:t.id})}),s.jsx(de,{value:"attendance",children:s.jsx(Y$e,{communityId:t.id})}),s.jsx(de,{value:"reminders",children:s.jsx(wV,{communityId:t.id})})]})]})})},Q$e=({dashboardView:e,hasAdminAccess:t,roleInfo:r,adminCommunities:n,direction:a})=>{const i={enter:l=>({x:l>0?1e3:-1e3,opacity:0,scale:.8}),center:{zIndex:1,x:0,opacity:1,scale:1},exit:l=>({zIndex:0,x:l<0?1e3:-1e3,opacity:0,scale:.8})},o=()=>t&&e==="admin"?r!=null&&r.assignedRole&&r.assignedRole!=="member"?s.jsx(o5,{},"admin"):n&&n.length>0?s.jsx(X$e,{},"community"):s.jsx(o5,{},"admin"):s.jsx(Kde,{},"user");return s.jsx("div",{className:"relative overflow-hidden",children:s.jsx(zs,{mode:"wait",custom:a,children:s.jsx(ve.div,{custom:a,variants:i,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.3},scale:{duration:.4}},children:o()},e)})})},jV=()=>{const{user:e}=ye(),[t,r]=x.useState(!0),[n,a]=x.useState(!1),[i,o]=x.useState(null);return x.useEffect(()=>{(async()=>{if(!e){r(!1);return}try{const{data:c,error:u}=await A.from("user_roles").select("role").eq("user_id",e.id);if(u)throw u;const d=c==null?void 0:c.some(m=>m.role==="super_admin"||m.role==="general_admin"||m.role==="community_admin"||m.role==="events_admin"||m.role==="projects_admin"||m.role==="finance_admin"||m.role==="content_admin"||m.role==="technical_admin"||m.role==="marketing_admin"),{data:h,error:f}=await A.from("members").select("*").eq("user_id",e.id).single();if(f&&f.code!=="PGRST116")throw f;o(h),a(d?!0:h?h.registration_status==="approved":!1)}catch(c){console.error("Error checking member status:",c),a(!1),o(null)}finally{r(!1)}})()},[e]),{loading:t,isApproved:n,memberData:i}},J$e=()=>{const{user:e,loading:t,isAdmin:r}=ye(),{loading:n,isApproved:a,memberData:i}=jV(),{communities:o,loading:l}=WC(),{roleInfo:c,loading:u,isAdmin:d}=$o();return{user:e,memberData:i,isApproved:a,adminCommunities:o,roleInfo:c,hasAdminAccess:r||d,isLoading:t||n||l||u,authLoading:t,roleLoading:u}},Z$e=({hasAdminAccess:e,authLoading:t,roleLoading:r})=>{const[n,a]=x.useState("user"),[i,o]=x.useState(0);return x.useEffect(()=>{!t&&!r&&(e?(console.log("User has admin access, setting admin view"),a("admin")):(console.log("User does not have admin access, setting user view"),a("user")))},[e,t,r]),{dashboardView:n,direction:i,handleViewChange:c=>{c!==n&&(o(c==="admin"?1:-1),a(c),console.log("Dashboard view changed to:",c))}}},eIe=()=>{const{user:e,memberData:t,isApproved:r,adminCommunities:n,roleInfo:a,hasAdminAccess:i,isLoading:o,authLoading:l,roleLoading:c}=J$e(),{dashboardView:u,direction:d,handleViewChange:h}=Z$e({hasAdminAccess:i,authLoading:l,roleLoading:c});if(o)return s.jsx(sae,{});if(!e)return null;const f=oae({memberData:t,isApproved:r,hasAdminAccess:i});return f||(!r&&!i?s.jsx(Hse,{}):(console.log("Dashboard render - hasAdminAccess:",i,"dashboardView:",u,"roleInfo:",a),s.jsx("div",{className:"min-h-screen bg-kic-lightGray",children:s.jsxs("div",{className:"container mx-auto p-4 sm:p-6",children:[i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 p-2 bg-blue-50 rounded border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-800",children:["Debug: Admin access detected. Role: ",(a==null?void 0:a.assignedRole)||"unknown",", isAdmin: ",i.toString()]})}),s.jsx(nae,{currentView:u,onViewChange:h})]}),s.jsx(Q$e,{dashboardView:u,hasAdminAccess:i,roleInfo:a,adminCommunities:n||[],direction:d})]})})))},tIe=()=>{const{user:e,loading:t}=ye();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray",children:s.jsx(R,{className:"w-full max-w-md",children:s.jsxs(L,{className:"p-6 text-center",children:[s.jsx(lc,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-kic-green-500"}),s.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})})}):e?s.jsx(eIe,{}):s.jsx($f,{to:"/login",replace:!0})};function rIe(e={}){const{threshold:t=.1,rootMargin:r="0px",triggerOnce:n=!0}=e,[a,i]=x.useState(!1),o=x.useRef(null);return x.useEffect(()=>{const l=new IntersectionObserver(([u])=>{u.isIntersecting?(i(!0),n&&o.current&&l.unobserve(o.current)):n||i(!1)},{threshold:t,rootMargin:r}),c=o.current;return c&&l.observe(c),()=>{c&&l.unobserve(c)}},[t,r,n]),{elementRef:o,isVisible:a}}function rr({children:e,className:t,delay:r=0,animationType:n="fadeInUp"}){const{elementRef:a,isVisible:i}=rIe(),o={fadeInUp:i?"opacity-100 translate-y-0":"opacity-0 translate-y-8",fadeInLeft:i?"opacity-100 translate-x-0":"opacity-0 -translate-x-8",fadeInRight:i?"opacity-100 translate-x-0":"opacity-0 translate-x-8",scaleIn:i?"opacity-100 scale-100":"opacity-0 scale-95",fadeIn:i?"opacity-100":"opacity-0"};return s.jsx("div",{ref:a,className:ne("transition-all duration-700 ease-out",o[n],t),style:{transitionDelay:`${r}ms`},children:e})}const nIe=[{name:"Brenda Chepngeno",role:"Vice-Secretary",image:"https://i.postimg.cc/B6zjYGxK/brenda.png",bio:"Computer Science student and Full Stack Developer.",linkedin:"https://www.linkedin.com/in/brenda-chepngeno-048058267"},{name:"Juliana Kavinya Safari",role:"Deputy President",image:"https://i.postimg.cc/0jfX7cgr/safari.jpg",bio:"Computer Science student passionate about leadership and tech communities.",linkedin:"https://www.linkedin.com/in/juliana-safari-6833b12a4?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app",github:"https://github.com/JulianaKavinya"},{name:"Jane Muraya",role:"Cybersecurity Lead",image:"https://i.postimg.cc/NF6SpmV2/jane.jpg",bio:"Cybersecurity enthusiast dedicated to digital safety and ethical hacking.",linkedin:"https://www.linkedin.com/in/jane-muraya-a00b63277",github:"https://github.com/Janemura"},{name:"Kalama Brian Ziro",role:"Organizing Secretary",image:"https://i.postimg.cc/bwx0rLnt/brian.jpg",bio:"BSc Actuarial Science student with a keen interest in data-driven decisions.",linkedin:"https://www.linkedin.com/in/brian-ziro-045356357?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app",github:"https://github.com/BrianZiro"},{name:"Fabian Musau",role:"Web Community Lead & Innovation Club Secretary",image:"https://i.postimg.cc/y8NHLpTm/fabian.png",bio:"Third-year Computer Science student passionate about web development and innovation.",linkedin:"https://www.linkedin.com/in/fabian-musau/"},{name:"Benjamin Justin",role:"President & Blockchain and Web3 Community Lead",image:"https://i.postimg.cc/hPDvqrrj/benja.jpg",bio:"BSc Information Technology student pioneering blockchain and decentralized tech communities.",linkedin:"https://www.linkedin.com/in/benjamin-justin-3291572b1"}],sIe=[{name:"Akiliedge Solutions",logo:"https://i.postimg.cc/sxmVXMzS/logo1-BEr67y-XY.png",url:"https://www.akiliedgesolutions.co.ke/"},{name:"InnovateHub",logo:"https://via.placeholder.com/150x80?text=InnovateHub",url:"#"},{name:"CodeLabs",logo:"https://via.placeholder.com/150x80?text=CodeLabs",url:"#"},{name:"Digital Kenya",logo:"https://via.placeholder.com/150x80?text=Digital+Kenya",url:"#"}],aIe=[{icon:My,title:"Innovation First",description:"We prioritize creative solutions and cutting-edge technology to solve real-world problems."},{icon:Oe,title:"Community Driven",description:"Building a supportive network where members collaborate, learn, and grow together."},{icon:Ey,title:"Continuous Learning",description:"Fostering an environment of constant skill development and knowledge sharing."},{icon:lr,title:"Excellence",description:"Striving for the highest standards in all our projects and initiatives."}],iIe=()=>s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50 via-white to-emerald-50 -z-10"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-96 bg-gradient-to-b from-emerald-100/20 to-transparent -z-10"}),s.jsxs("section",{className:"py-20 md:py-32 relative",children:[s.jsx("div",{className:"container-custom",children:s.jsxs(rr,{className:"max-w-4xl mx-auto text-center",children:[s.jsxs("h1",{className:"font-bold mb-8 bg-gradient-to-r from-emerald-600 via-emerald-500 to-emerald-700 bg-clip-text text-transparent",children:["About ",s.jsx("span",{className:"text-emerald-600",children:"Karatina Innovation Club"})]}),s.jsx("p",{className:"text-xl md:text-2xl text-gray-600 leading-relaxed",children:"We are a community of tech enthusiasts, innovators, and problem-solvers dedicated to fostering innovation and technology leadership."})]})}),s.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-emerald-200/20 rounded-full blur-xl animate-float-slow"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-24 h-24 bg-emerald-300/20 rounded-full blur-xl animate-float-medium delay-1000"})]}),s.jsx("section",{className:"py-20 bg-white/50 backdrop-blur-sm",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs(rr,{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-gray-800",children:"Our Core Values"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"The principles that guide everything we do and shape our community culture."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:aIe.map((e,t)=>s.jsx(rr,{delay:t*150,animationType:"scaleIn",children:s.jsx(R,{className:"h-full text-center p-6 border-0 shadow-lg bg-white/80 backdrop-blur-sm hover:shadow-xl hover:scale-105 transition-all duration-300",children:s.jsxs(L,{className:"pt-6",children:[s.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(e.icon,{className:"w-8 h-8 text-emerald-600"})}),s.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-800",children:e.title}),s.jsx("p",{className:"text-gray-600",children:e.description})]})})},t))})]})}),s.jsx("section",{className:"py-20 relative",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[s.jsx(rr,{animationType:"fadeInLeft",children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-emerald-100",children:[s.jsxs("h2",{className:"text-3xl font-bold mb-6 text-emerald-600 flex items-center",children:[s.jsx(My,{className:"w-8 h-8 mr-3"}),"Our Mission"]}),s.jsx("p",{className:"text-gray-700 mb-6 text-lg leading-relaxed",children:"Our mission is to empower students with the knowledge, skills, and resources needed to become innovators and technology leaders. We strive to create an environment where students can learn, collaborate, and build solutions that address real-world problems."}),s.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:"Through workshops, hackathons, project collaborations, and industry connections, we aim to bridge the gap between academic learning and practical application in the technology field."})]})}),s.jsx(rr,{animationType:"fadeInRight",delay:200,children:s.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl p-8 shadow-xl text-white",children:[s.jsxs("h2",{className:"text-3xl font-bold mb-6 flex items-center",children:[s.jsx(Ey,{className:"w-8 h-8 mr-3"}),"Our Vision"]}),s.jsx("p",{className:"mb-6 text-lg leading-relaxed text-emerald-50",children:"We envision a future where Karatina University is recognized as a hub for technological innovation, producing graduates who are not just job-seekers but job-creators and problem-solvers."}),s.jsx("p",{className:"text-lg leading-relaxed text-emerald-50",children:"Our vision is to build a strong community of tech-savvy individuals who collaborate to develop innovative solutions, contribute to open-source projects, and make a positive impact in society through technology."})]})})]})})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-gray-50 to-emerald-50",children:s.jsx("div",{className:"container-custom",children:s.jsxs(rr,{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-4xl font-bold mb-8 text-center text-gray-800",children:"Our Journey"}),s.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700",children:[s.jsx(rr,{delay:200,children:s.jsx("p",{className:"text-xl leading-relaxed mb-6",children:"Founded in 2020, Karatina Innovation Club began as a small group of computer science students who wanted to extend their learning beyond the classroom. What started as informal coding sessions quickly grew into a structured club with a clear mission to foster innovation and technology leadership."})}),s.jsx(rr,{delay:400,children:s.jsx("p",{className:"text-xl leading-relaxed mb-6",children:"Over the years, we have grown from a handful of members to hundreds of active participants across various disciplines. Our initiatives have expanded from basic coding workshops to comprehensive programs including hackathons, industry talks, project incubation, and community outreach."})}),s.jsx(rr,{delay:600,children:s.jsx("p",{className:"text-xl leading-relaxed mb-12",children:"Today, we continue to evolve and adapt to the ever-changing technology landscape, ensuring that our members are equipped with relevant skills and connected to opportunities in the tech industry."})})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{year:"2020",event:"Club Founded"},{year:"2021",event:"First Hackathon"},{year:"2023",event:"5 Tech Communities"},{year:"2025",event:"National Recognition"}].map((e,t)=>s.jsx(rr,{delay:800+t*100,animationType:"scaleIn",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg text-center border border-emerald-100 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[s.jsx("p",{className:"text-3xl font-bold text-emerald-600 mb-2",children:e.year}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:e.event})]})},t))})]})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs(rr,{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-800",children:"Leadership Team"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Meet the dedicated individuals who work tirelessly to lead and grow our community"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:nIe.map((e,t)=>s.jsx(rr,{delay:t*150,animationType:"fadeInUp",children:s.jsxs(R,{className:"h-full card-hover border-0 shadow-lg bg-white hover:shadow-2xl transition-all duration-500 group",children:[s.jsxs(Z,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto rounded-full overflow-hidden w-32 h-32 mb-6 ring-4 ring-emerald-100 group-hover:ring-emerald-200 transition-all duration-300",children:s.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),s.jsx(ee,{className:"text-xl text-gray-800",children:e.name}),s.jsx(ut,{className:"text-emerald-600 font-medium",children:e.role})]}),s.jsx(L,{children:s.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:e.bio})}),s.jsxs(oi,{className:"flex justify-center gap-4 pt-4",children:[s.jsx("a",{href:e.linkedin,target:"_blank",rel:"noreferrer",className:"p-2 rounded-full bg-emerald-50 text-emerald-600 hover:bg-emerald-100 hover:scale-110 transition-all duration-300",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})}),e.github&&s.jsx("a",{href:e.github,target:"_blank",rel:"noreferrer",className:"p-2 rounded-full bg-gray-50 text-gray-600 hover:bg-gray-100 hover:scale-110 transition-all duration-300",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})})]})]})},t))})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-emerald-50 to-gray-50",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs(rr,{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-800",children:"Partners & Sponsors"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We're grateful for the support of these organizations in our mission"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-16",children:sIe.map((e,t)=>s.jsx(rr,{delay:t*100,animationType:"scaleIn",children:s.jsx("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"block bg-white rounded-xl p-8 flex items-center justify-center shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 border border-gray-100",children:s.jsx("img",{src:e.logo,alt:e.name,className:"max-h-16 opacity-70 hover:opacity-100 transition-opacity duration-300"})})},t))}),s.jsx(rr,{delay:600,className:"text-center",children:s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-emerald-100 max-w-2xl mx-auto",children:[s.jsx("p",{className:"text-xl text-gray-700 mb-6",children:"Interested in partnering with Karatina Innovation Club?"}),s.jsx(M,{asChild:!0,size:"lg",className:"bg-emerald-600 hover:bg-emerald-700",children:s.jsx(st,{to:"/contact",children:"Become a Partner"})})]})})]})})]}),oIe=()=>{const{user:e}=ye(),{toast:t}=xe(),[r,n]=x.useState([]),[a,i]=x.useState(!0),[o,l]=x.useState(""),[c,u]=x.useState("all"),[d,h]=x.useState("approved"),[f,m]=x.useState([]);x.useEffect(()=>{g(),p()},[d]);const g=async()=>{try{const{data:v,error:w}=await A.from("project_leaderboard").select("*").eq("status",d).order("engagement_score",{ascending:!1});if(w)throw w;const j=await Promise.all((v||[]).map(async N=>{let S=!1;if(e){const{data:_}=await A.from("project_likes").select("id").eq("project_id",N.id).eq("user_id",e.id).single();S=!!_}return{...N,is_liked:S}}));n(j)}catch(v){console.error("Error fetching projects:",v),t({title:"Error",description:"Failed to load projects",variant:"destructive"})}finally{i(!1)}},p=async()=>{try{const{data:v,error:w}=await A.from("project_submissions").select("tech_tags").eq("status","approved");if(w)throw w;const j=new Set;v==null||v.forEach(N=>{N.tech_tags&&N.tech_tags.forEach(S=>j.add(S))}),m(Array.from(j))}catch(v){console.error("Error fetching technologies:",v)}},y=async v=>{if(!e){t({title:"Authentication required",description:"Please log in to like projects",variant:"destructive"});return}try{const w=r.find(j=>j.id===v);if(!w)return;w.is_liked?await A.from("project_likes").delete().eq("project_id",v).eq("user_id",e.id):await A.from("project_likes").insert({project_id:v,user_id:e.id}),await g()}catch(w){console.error("Error toggling like:",w),t({title:"Error",description:"Failed to update like",variant:"destructive"})}},b=r.filter(v=>{const w=v.title.toLowerCase().includes(o.toLowerCase())||v.description.toLowerCase().includes(o.toLowerCase())||v.author_name&&v.author_name.toLowerCase().includes(o.toLowerCase()),j=c==="all"||v.tech_tags&&v.tech_tags.includes(c);return w&&j});return a?s.jsx("div",{className:"text-center py-8",children:"Loading projects..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-kic-gray",children:"Project Showcase"}),s.jsx("p",{className:"text-kic-gray/70",children:"Discover amazing projects built by our community"})]}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ba,{className:"h-4 w-4 text-gray-500"}),s.jsx(re,{placeholder:"Search projects...",value:o,onChange:v=>l(v.target.value),className:"max-w-sm"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"h-4 w-4 text-gray-500"}),s.jsxs(Ie,{value:c,onValueChange:u,children:[s.jsx(Me,{className:"w-40",children:s.jsx(Le,{placeholder:"Filter by tech"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Technologies"}),f.map(v=>s.jsx(G,{value:v,children:v},v))]})]})]}),s.jsxs(Ie,{value:d,onValueChange:h,children:[s.jsx(Me,{className:"w-40",children:s.jsx(Le,{placeholder:"Project status"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"approved",children:"Approved"}),s.jsx(G,{value:"pending",children:"Pending"}),s.jsx(G,{value:"rejected",children:"Rejected"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.map(v=>s.jsxs(R,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Z,{children:[s.jsx(ee,{className:"text-lg line-clamp-2",children:v.title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ir,{className:"h-4 w-4"}),v.author_name||"Anonymous"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ae,{className:"h-4 w-4"}),new Date(v.created_at).toLocaleDateString()]})]})]}),s.jsxs(L,{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600 line-clamp-3",children:v.description}),v.tech_tags&&v.tech_tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.tech_tags.slice(0,4).map(w=>s.jsx(H,{variant:"secondary",className:"text-xs",children:w},w)),v.tech_tags.length>4&&s.jsxs(H,{variant:"outline",className:"text-xs",children:["+",v.tech_tags.length-4," more"]})]}),v.admin_notes&&s.jsx("div",{className:"p-2 bg-yellow-50 border-l-4 border-yellow-400 rounded",children:s.jsxs("p",{className:"text-xs text-yellow-800",children:[s.jsx("strong",{children:"Admin Notes:"})," ",v.admin_notes]})}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>y(v.id),className:`flex items-center gap-1 ${v.is_liked?"text-red-500":""}`,children:[s.jsx(Ay,{className:`h-4 w-4 ${v.is_liked?"fill-current":""}`}),v.likes_count||0]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[s.jsx(vo,{className:"h-4 w-4"}),v.comments_count||0]})]}),s.jsx("div",{className:"flex items-center gap-2",children:v.github_url&&s.jsx(M,{variant:"outline",size:"sm",asChild:!0,children:s.jsx("a",{href:v.github_url,target:"_blank",rel:"noopener noreferrer",children:s.jsx(ES,{className:"h-4 w-4"})})})})]})]})]},v.id)),b.length===0&&s.jsx("div",{className:"col-span-full text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No projects match your search criteria."})})]})]})},lIe=()=>s.jsx("div",{className:"min-h-screen bg-kic-lightGray",children:s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(oIe,{})})}),cIe=()=>s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-green-600 via-yellow-600 to-green-600 bg-clip-text text-transparent mb-4",children:"Community Leaderboards"}),s.jsx("div",{className:"absolute -top-2 -right-2 animate-bounce",children:s.jsx(Wt,{className:"w-8 h-8 text-yellow-500"})})]}),s.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto text-lg leading-relaxed",children:"Discover our top contributors, most engaging projects, and recognize the outstanding achievements of our innovation community members. Track progress, compete fairly, and celebrate success together."})]}),uIe=()=>{const e=[{title:"Total Members",value:"250+",icon:Oe,gradient:"from-green-500 to-emerald-600",bgGradient:"from-green-50 to-emerald-50",borderColor:"border-green-200"},{title:"Active Projects",value:"45",icon:To,gradient:"from-yellow-500 to-amber-600",bgGradient:"from-yellow-50 to-amber-50",borderColor:"border-yellow-200"},{title:"Competition Level",value:"High",icon:Bn,gradient:"from-green-600 to-green-700",bgGradient:"from-green-50 to-green-100",borderColor:"border-green-300"},{title:"Top Achievers",value:"15",icon:Wt,gradient:"from-yellow-600 to-yellow-700",bgGradient:"from-yellow-50 to-yellow-100",borderColor:"border-yellow-300"}];return s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto",children:e.map((t,r)=>{const n=t.icon;return s.jsx(R,{className:`bg-gradient-to-br ${t.bgGradient} ${t.borderColor} border-2 hover:shadow-lg transition-all duration-300 transform hover:scale-105 backdrop-blur-sm`,children:s.jsxs(L,{className:"p-4 text-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-r ${t.gradient} flex items-center justify-center mx-auto mb-3 shadow-md`,children:s.jsx(n,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"text-2xl font-bold text-gray-800",children:t.value}),s.jsx("div",{className:"text-sm text-gray-600 font-medium",children:t.title})]})},r)})})},dIe=({searchTerm:e,setSearchTerm:t,memberFilter:r,setMemberFilter:n,projectFilter:a,setProjectFilter:i,timeFilter:o,setTimeFilter:l,onClearFilters:c})=>s.jsxs(R,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[s.jsx(Z,{className:"pb-4",children:s.jsxs(ee,{className:"flex items-center gap-2 text-xl",children:[s.jsx(Vl,{className:"w-5 h-5 text-blue-600"}),"Filters & Search"]})}),s.jsxs(L,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"relative lg:col-span-2",children:[s.jsx(ba,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),s.jsx(re,{placeholder:"Search members or projects...",value:e,onChange:u=>t(u.target.value),className:"pl-10 border-2 border-gray-200 focus:border-blue-400 transition-colors backdrop-blur-sm"})]}),s.jsxs(Ie,{value:o,onValueChange:l,children:[s.jsx(Me,{className:"border-2 border-gray-200 focus:border-blue-400 bg-white/90 backdrop-blur-sm",children:s.jsx(Le,{placeholder:"Time Period"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Time"}),s.jsx(G,{value:"month",children:"This Month"}),s.jsx(G,{value:"quarter",children:"This Quarter"}),s.jsx(G,{value:"year",children:"This Year"})]})]}),s.jsxs(Ie,{value:r,onValueChange:n,children:[s.jsx(Me,{className:"border-2 border-gray-200 focus:border-blue-400 bg-white/90 backdrop-blur-sm",children:s.jsx(Le,{placeholder:"Member Type"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Members"}),s.jsx(G,{value:"active",children:"Active Only"}),s.jsx(G,{value:"new",children:"New Members"}),s.jsx(G,{value:"alumni",children:"Alumni"})]})]}),s.jsxs(M,{variant:"outline",onClick:c,className:"border-2 border-gray-200 hover:border-blue-400 hover:bg-blue-50 transition-all duration-200 bg-white/90 backdrop-blur-sm",children:[s.jsx(wee,{className:"w-4 h-4 mr-2"}),"Clear All"]})]}),(e||r!=="all"||a!=="all"||o!=="all")&&s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2 font-medium",children:"Active filters:"}),e&&s.jsxs(H,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white border-0 shadow-sm hover:shadow-md transition-all duration-200",children:[s.jsx(ba,{className:"w-3 h-3 mr-1"}),'Search: "',e,'"']}),o!=="all"&&s.jsxs(H,{className:"bg-gradient-to-r from-emerald-500 to-green-500 text-white border-0 shadow-sm hover:shadow-md transition-all duration-200",children:[s.jsx(Ro,{className:"w-3 h-3 mr-1"}),"Time: ",o]}),r!=="all"&&s.jsxs(H,{className:"bg-gradient-to-r from-purple-500 to-indigo-500 text-white border-0 shadow-sm hover:shadow-md transition-all duration-200",children:[s.jsx(Oe,{className:"w-3 h-3 mr-1"}),"Members: ",r]}),a!=="all"&&s.jsxs(H,{className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white border-0 shadow-sm hover:shadow-md transition-all duration-200",children:[s.jsx(To,{className:"w-3 h-3 mr-1"}),"Projects: ",a]})]})]})]}),hIe=e=>{const[t,r]=x.useState([]),[n,a]=x.useState(!0);x.useEffect(()=>{i();const o=A.channel("rankings-member-points-changes").on("postgres_changes",{event:"*",schema:"public",table:"member_points"},c=>{console.log("Member points changed (rankings):",c),i()}).subscribe(),l=A.channel("rankings-members-changes").on("postgres_changes",{event:"*",schema:"public",table:"members"},c=>{console.log("Members table changed (rankings):",c),i()}).subscribe();return()=>{A.removeChannel(o),A.removeChannel(l)}},[e]);const i=async()=>{try{const{data:o,error:l}=await A.from("enhanced_member_leaderboard").select("*").order("rank").limit(50);if(l)throw l;r(o||[])}catch(o){console.error("Error fetching enhanced rankings:",o)}finally{a(!1)}};return{rankings:t,loading:n}},fIe=(e,t,r)=>e.filter(n=>{const a=n.name.toLowerCase().includes(t.toLowerCase())||n.email.toLowerCase().includes(t.toLowerCase()),i=r==="all"||r==="active"&&n.total_points>100||r==="new"&&n.rank>30;return a&&i}),mIe=({memberCount:e})=>s.jsx(Z,{className:"bg-gradient-to-r from-green-50 via-yellow-50 to-green-50 border-b-2 border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center space-x-2",children:[s.jsx(Wt,{className:"h-6 w-6 text-green-500"}),s.jsx("span",{className:"text-xl font-bold text-green-700",children:"Member Rankings"}),s.jsxs(H,{className:"bg-gradient-to-r from-green-500 to-yellow-600 text-white border-0 shadow-md hover:shadow-lg transition-all duration-200 px-3 py-1",children:[s.jsx(lr,{className:"w-3 h-3 mr-1"}),"Top Performers"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Oe,{className:"w-4 h-4 text-green-500"}),s.jsxs("span",{className:"text-sm text-green-600 font-medium",children:[e," Active Members"]})]})]})}),pIe=({member:e})=>{const t=n=>{switch(n){case 1:return s.jsx(Wt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-500"});case 2:return s.jsx(lr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400"});case 3:return s.jsx(qn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-500"});default:return s.jsx(rI,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-500"})}},r=n=>{switch(n){case 1:return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white border-yellow-300";case 2:return"bg-gradient-to-r from-gray-300 to-gray-500 text-white border-gray-300";case 3:return"bg-gradient-to-r from-orange-400 to-orange-600 text-white border-orange-300";default:return n<=10?"bg-gradient-to-r from-blue-400 to-blue-600 text-white border-blue-300":"bg-gray-100 text-gray-600"}};return s.jsx("div",{className:"flex items-center justify-between p-3 sm:p-4 lg:p-6 bg-white/80 backdrop-blur-sm border-l-4 border-l-green-400 hover:bg-white/95 hover:shadow-lg transition-all duration-200 hover:scale-[1.02] group",children:s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[t(e.rank),s.jsxs(H,{className:`${r(e.rank)} text-xs sm:text-sm font-bold px-2 sm:px-3 py-1 shadow-lg`,children:["#",e.rank]})]}),s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-1 min-w-0",children:[s.jsx("div",{className:"flex-shrink-0",children:e.avatar_url?s.jsx("img",{src:e.avatar_url,alt:e.name,className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 rounded-full border-2 border-green-200 shadow-md object-cover"}):s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white font-bold text-sm sm:text-base lg:text-lg border-2 border-green-200 shadow-md",children:e.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"font-bold text-gray-800 group-hover:text-green-600 transition-colors text-sm sm:text-base lg:text-lg truncate",children:e.name}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:e.email})]}),s.jsx("div",{className:"mt-1 sm:mt-0 sm:ml-4 flex-shrink-0",children:s.jsxs("div",{className:"inline-flex items-center px-2 sm:px-3 py-1 bg-gradient-to-r from-green-500 to-yellow-500 text-white rounded-full shadow-md",children:[s.jsx("span",{className:"font-bold text-xs sm:text-sm lg:text-base",children:e.total_points.toLocaleString()}),s.jsx("span",{className:"ml-1 text-xs sm:text-sm opacity-90",children:"pts"})]})})]})})]})]})})},gIe=()=>s.jsxs(R,{className:"border-0 shadow-lg",children:[s.jsx(Z,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-b",children:s.jsxs(ee,{className:"flex items-center space-x-2",children:[s.jsx(Wt,{className:"h-6 w-6 text-yellow-500"}),s.jsx("span",{children:"Enhanced Member Leaderboard"})]})}),s.jsx(L,{children:s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((e,t)=>s.jsx("div",{className:"h-20 bg-gray-100 rounded-lg"},t))})})})]}),xIe=()=>s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Wt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"No members found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]}),vIe=({searchTerm:e="",filter:t="all",timeFilter:r="all"})=>{const{rankings:n,loading:a}=hIe(r),[i,o]=x.useState(10),l=fIe(n,e,t).slice(0,i);return a?s.jsx(gIe,{}):s.jsxs(R,{className:"border-0 shadow-xl overflow-hidden bg-white/95 backdrop-blur-sm",children:[s.jsx(mIe,{memberCount:l.length}),s.jsxs(L,{className:"p-0",children:[s.jsx("div",{className:"space-y-1",children:l.map(c=>s.jsx(pIe,{member:c},c.user_id))}),l.length<n.length&&s.jsx("div",{className:"p-4 text-center border-t border-gray-200 bg-gradient-to-r from-gray-50 to-green-50/30",children:s.jsx(M,{variant:"outline",onClick:()=>o(c=>c+10),className:"bg-white/90 backdrop-blur-sm hover:bg-green-50 border-gray-300 hover:border-green-400 transition-all duration-200 px-6 py-2",children:"Load More Members"})}),l.length===0&&!a&&s.jsx(xIe,{})]})]})},yIe=(e="engagement")=>{const[t,r]=x.useState([]),[n,a]=x.useState(!0);x.useEffect(()=>{i()},[e]);const i=async()=>{try{let o="engagement_score";e==="likes"&&(o="likes_count"),e==="recent"&&(o="created_at");const{data:l,error:c}=await A.from("project_leaderboard").select("*").eq("status","approved").order(o,{ascending:!1}).limit(50);if(c)throw c;r(l||[])}catch(o){console.error("Error fetching project leaderboard:",o)}finally{a(!1)}};return{projects:t,loading:n}},bIe=(e,t,r)=>e.filter(n=>{var o;const a=n.title.toLowerCase().includes(t.toLowerCase())||n.author_name.toLowerCase().includes(t.toLowerCase())||((o=n.tech_tags)==null?void 0:o.some(l=>l.toLowerCase().includes(t.toLowerCase()))),i=r==="all"||r==="featured"&&n.engagement_score>100||r==="popular"&&n.likes_count>10;return a&&i}),wIe=({sortBy:e,setSortBy:t})=>s.jsx(Z,{className:"bg-gradient-to-r from-green-50 via-yellow-50 to-green-50 border-b-2 border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center space-x-2",children:[s.jsx(To,{className:"h-6 w-6 text-green-500"}),s.jsx("span",{className:"text-xl font-bold text-green-700",children:"Enhanced Project Leaderboard"}),s.jsxs(H,{className:"bg-gradient-to-r from-green-500 to-yellow-600 text-white border-0 shadow-md hover:shadow-lg transition-all duration-200 px-3 py-1",children:[s.jsx(qn,{className:"w-3 h-3 mr-1"}),"Innovation Hub"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vl,{className:"w-4 h-4 text-green-500"}),s.jsx("div",{className:"flex bg-white/90 rounded-lg border border-green-300 shadow-sm backdrop-blur-sm",children:[{key:"engagement",label:"Top Rated"},{key:"likes",label:"Most Liked"},{key:"recent",label:"Latest"}].map(r=>s.jsx(M,{variant:e===r.key?"default":"ghost",size:"sm",onClick:()=>t(r.key),className:`rounded-none first:rounded-l-lg last:rounded-r-lg text-xs transition-all duration-200 ${e===r.key?"bg-gradient-to-r from-green-500 to-yellow-500 text-white shadow-md hover:shadow-lg":"text-green-600 hover:bg-green-50"}`,children:r.label},r.key))})]})]})}),jIe=({project:e,index:t})=>{const r=t+1,n=i=>{switch(i){case 1:return s.jsx(Wt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-500"});case 2:return s.jsx(lr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400"});case 3:return s.jsx(qn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-500"});default:return s.jsx(rI,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-500"})}},a=i=>{switch(i){case 1:return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white";case 2:return"bg-gradient-to-r from-gray-300 to-gray-500 text-white";case 3:return"bg-gradient-to-r from-orange-400 to-orange-600 text-white";default:return i<=10?"bg-gradient-to-r from-blue-400 to-blue-600 text-white":"bg-gray-100 text-gray-600"}};return s.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl border-2 border-yellow-200 p-3 sm:p-4 lg:p-6 hover:shadow-xl hover:border-yellow-300 transition-all duration-300 hover:scale-[1.02] group",children:[s.jsxs("div",{className:"flex items-start space-x-3 sm:space-x-4 mb-3 sm:mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[n(r),s.jsxs(H,{className:`${a(r)} text-xs sm:text-sm font-bold px-2 sm:px-3 py-1 shadow-lg`,children:["#",r]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-gray-800 group-hover:text-yellow-600 transition-colors text-sm sm:text-base lg:text-lg line-clamp-2",children:e.title}),e.author_name&&s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["by ",e.author_name]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-3",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-3",children:e.description}),e.tech_tags&&e.tech_tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[e.tech_tags.slice(0,6).map((i,o)=>s.jsx(H,{variant:"outline",className:"text-xs px-2 py-1 border-yellow-300 text-yellow-700 bg-yellow-50",children:i},o)),e.tech_tags.length>6&&s.jsxs(H,{variant:"outline",className:"text-xs px-2 py-1 border-gray-300 text-gray-500",children:["+",e.tech_tags.length-6," more"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-3 lg:grid-cols-1 gap-2 lg:gap-1 text-xs sm:text-sm",children:[s.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-1 text-red-500",children:[s.jsx(Ay,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"font-medium",children:e.likes_count})]}),s.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-1 text-blue-500",children:[s.jsx(vo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"font-medium",children:e.comments_count})]}),s.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-1 text-green-500",children:[s.jsx(Or,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"font-medium",children:e.engagement_score})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row lg:flex-col gap-2",children:[e.github_url&&s.jsxs(M,{size:"sm",variant:"outline",className:"text-xs sm:text-sm border-gray-300 hover:border-gray-400 flex-1 lg:flex-none",onClick:()=>window.open(e.github_url,"_blank"),children:[s.jsx(ES,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Code"}),s.jsx("span",{className:"sm:hidden",children:"View"})]}),s.jsxs(M,{size:"sm",className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white text-xs sm:text-sm flex-1 lg:flex-none",children:[s.jsx(Oo,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"View Project"}),s.jsx("span",{className:"sm:hidden",children:"View"})]})]})]})]})]})},NIe=()=>s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(To,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"No projects found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters to find amazing projects!"})]}),_Ie=()=>s.jsxs(R,{className:"border-0 shadow-lg",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center space-x-2",children:[s.jsx(To,{className:"h-6 w-6 text-blue-500"}),s.jsx("span",{children:"Enhanced Project Leaderboard"})]})}),s.jsx(L,{children:s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((e,t)=>s.jsx("div",{className:"h-24 bg-gray-100 rounded-lg"},t))})})})]}),SIe=({searchTerm:e="",filter:t="all",timeFilter:r="all"})=>{const[n,a]=x.useState(10),[i,o]=x.useState("engagement"),{projects:l,loading:c}=yIe(i);if(c)return s.jsx(_Ie,{});const u=bIe(l,e,t).slice(0,n);return s.jsxs(R,{className:"border-0 shadow-xl overflow-hidden bg-white/95 backdrop-blur-sm",children:[s.jsx(wIe,{sortBy:i,setSortBy:o}),s.jsxs(L,{className:"p-0",children:[s.jsx("div",{className:"space-y-2",children:u.map((d,h)=>s.jsx(jIe,{project:d,index:h},d.id))}),u.length<l.length&&s.jsx("div",{className:"p-4 text-center border-t border-gray-200 bg-gradient-to-r from-gray-50 to-yellow-50/30",children:s.jsx(M,{variant:"outline",onClick:()=>a(d=>d+10),className:"bg-white/90 backdrop-blur-sm hover:bg-yellow-50 border-gray-300 hover:border-yellow-400 transition-all duration-200 px-6 py-2",children:"Load More Projects"})}),u.length===0&&!c&&s.jsx(NIe,{})]})]})},kIe=({searchTerm:e,memberFilter:t,projectFilter:r,timeFilter:n})=>s.jsxs(Mr,{defaultValue:"members",className:"space-y-4 sm:space-y-6",children:[s.jsxs(Yt,{className:"grid w-full grid-cols-2 max-w-sm sm:max-w-md mx-auto bg-white/90 shadow-lg border-2 border-green-200 backdrop-blur-sm h-12 sm:h-auto",children:[s.jsxs(te,{value:"members",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-yellow-500 data-[state=active]:text-white data-[state=active]:shadow-md font-medium transition-all duration-200 text-xs sm:text-sm px-2 sm:px-4",children:[s.jsx(Wt,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden xs:inline",children:"Member Rankings"}),s.jsx("span",{className:"xs:hidden",children:"Members"})]}),s.jsxs(te,{value:"projects",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-yellow-500 data-[state=active]:text-white data-[state=active]:shadow-md font-medium transition-all duration-200 text-xs sm:text-sm px-2 sm:px-4",children:[s.jsx(To,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden xs:inline",children:"Project Rankings"}),s.jsx("span",{className:"xs:hidden",children:"Projects"})]})]}),s.jsx(de,{value:"members",className:"space-y-4 sm:space-y-6",children:s.jsx(vIe,{searchTerm:e,filter:t,timeFilter:n})}),s.jsx(de,{value:"projects",className:"space-y-4 sm:space-y-6",children:s.jsx(SIe,{searchTerm:e,filter:r,timeFilter:n})})]}),CIe=()=>{const{user:e}=ye(),[t,r]=x.useState((e==null?void 0:e.email)||""),[n,a]=x.useState(!1),[i,o]=x.useState(!1),l=async c=>{if(c.preventDefault(),!!t.trim()){a(!0);try{const{error:u}=await A.from("newsletter_subscriptions").upsert({email:t.trim(),user_id:(e==null?void 0:e.id)||null,status:"active",updated_at:new Date().toISOString()},{onConflict:"email"});if(u)throw u;ar.success("You are now subscribed!",{description:"Look forward to our latest updates in your inbox.",position:"top-center"}),o(!0),e||r("")}catch(u){console.error("Error subscribing:",u),ar.error("Subscription failed",{description:u instanceof Error?u.message:"Please try again later.",position:"top-center"})}finally{a(!1)}}};return s.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(R,{className:"max-w-md border-none shadow-lg rounded-xl overflow-hidden bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800",children:[s.jsx(Z,{className:"bg-gradient-to-r from-blue-600 to-purple-600",children:s.jsxs(ee,{className:"flex items-center gap-3 text-white",children:[s.jsx(Xm,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xl font-bold",children:"Stay Updated"})]})}),s.jsx(L,{className:"p-6",children:s.jsx(zs,{mode:"wait",children:i?s.jsxs(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900/50",children:s.jsx(zl,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),s.jsx("h3",{className:"text-lg font-medium",children:"You're subscribed!"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Thank you for joining our newsletter. We'll keep you updated with the latest news."}),s.jsx(M,{variant:"outline",className:"mt-4",onClick:()=>o(!1),children:"Back to form"})]},"success"):s.jsxs(ve.form,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},onSubmit:l,className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Get exclusive access to:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400",children:""}),s.jsx("span",{children:"Latest community events"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400",children:""}),s.jsx("span",{children:"New project opportunities"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400",children:""}),s.jsx("span",{children:"Exclusive content and resources"})]})]}),s.jsx(re,{type:"email",placeholder:"your@email.com",value:t,onChange:c=>r(c.target.value),required:!0,className:"py-5 px-4 rounded-lg border-gray-300 dark:border-gray-600 focus-visible:ring-2 focus-visible:ring-blue-500"}),s.jsx(M,{type:"submit",disabled:n,className:"w-full py-5 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-md transition-all",children:n?s.jsxs(s.Fragment,{children:[s.jsx(lc,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Subscribe Now"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-2",children:"We respect your privacy. Unsubscribe at any time."})]},"form")})})]})})},PIe=()=>s.jsx(R,{className:"border-0 shadow-lg bg-gradient-to-r from-green-600 to-yellow-600 text-white",children:s.jsx(L,{className:"p-8",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h3",{className:"text-2xl font-bold",children:"Stay Updated with Rankings"}),s.jsx("p",{className:"text-green-100 max-w-2xl mx-auto",children:"Get weekly updates on leaderboard changes, new achievements, and community highlights delivered to your inbox."}),s.jsx("div",{className:"flex justify-center mt-6",children:s.jsx("div",{className:"bg-white rounded-lg p-1 shadow-lg",children:s.jsx(CIe,{})})})]})})}),AIe=()=>s.jsxs(R,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2 text-xl",children:[s.jsx(Wt,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]})}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl border border-amber-200 hover:shadow-md transition-all duration-200 transform hover:scale-102",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-amber-400 to-yellow-500 flex items-center justify-center mx-auto mb-3 shadow-md",children:s.jsx(Wt,{className:"w-6 h-6 text-white"})}),s.jsx("h4",{className:"font-semibold text-gray-800",children:"Monthly Champion"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Most points earned this month"})]}),s.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl border border-blue-200 hover:shadow-md transition-all duration-200 transform hover:scale-102",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center mx-auto mb-3 shadow-md",children:s.jsx(To,{className:"w-6 h-6 text-white"})}),s.jsx("h4",{className:"font-semibold text-gray-800",children:"Project Innovator"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Most creative project submission"})]}),s.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-emerald-50 to-green-50 rounded-xl border border-emerald-200 hover:shadow-md transition-all duration-200 transform hover:scale-102",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-emerald-500 to-green-500 flex items-center justify-center mx-auto mb-3 shadow-md",children:s.jsx(Oe,{className:"w-6 h-6 text-white"})}),s.jsx("h4",{className:"font-semibold text-gray-800",children:"Community Builder"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Most active community participant"})]})]})})]}),EIe=()=>{const[e,t]=x.useState(""),[r,n]=x.useState("all"),[a,i]=x.useState("all"),[o,l]=x.useState("all"),c=()=>{t(""),n("all"),i("all"),l("all")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-green-50 to-yellow-50",children:s.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6 space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsx(cIe,{}),s.jsx(uIe,{}),s.jsx(dIe,{searchTerm:e,setSearchTerm:t,memberFilter:r,setMemberFilter:n,projectFilter:a,setProjectFilter:i,timeFilter:o,setTimeFilter:l,onClearFilters:c}),s.jsx(kIe,{searchTerm:e,memberFilter:r,projectFilter:a,timeFilter:o}),s.jsx(PIe,{}),s.jsx(AIe,{})]})})},TIe=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,i]=x.useState(!1),[o,l]=x.useState(""),c=Ao(),{toast:u}=xe(),d=async h=>{h.preventDefault(),i(!0),l("");try{const{data:f,error:m}=await A.auth.signInWithPassword({email:e,password:r});if(m)throw m;u({title:"Success!",description:"You have been logged in successfully."}),c("/dashboard")}catch(f){l(f.message||"Login failed. Please check your email and password."),console.error("Login error:",f)}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(st,{to:"/",className:"inline-flex items-center justify-center mb-6",children:s.jsx("img",{src:"/logobanner.png",alt:"Karatina Innovation Club",className:"h-16 w-auto"})}),s.jsx("h1",{className:"mt-6 text-3xl font-bold text-kic-gray",children:"Sign in to your account"}),s.jsx("p",{className:"mt-2 text-kic-gray/70",children:"Access your Karatina Innovation Club member dashboard"})]}),s.jsxs(R,{className:"bg-kic-white border-kic-lightGray",children:[s.jsxs(L,{className:"pt-6",children:[o&&s.jsx(Ht,{variant:"destructive",className:"mb-6",children:s.jsx(Kt,{children:o})}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"email",className:"text-kic-gray",children:"Email address"}),s.jsx(re,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:h=>t(h.target.value),required:!0,className:"border-kic-lightGray focus:border-kic-green-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(W,{htmlFor:"password",className:"text-kic-gray",children:"Password"}),s.jsx(st,{to:"/forgot-password",className:"text-sm text-kic-green-500 hover:underline",children:"Forgot your password?"})]}),s.jsx(re,{id:"password",type:"password",placeholder:"Enter your password",value:r,onChange:h=>n(h.target.value),required:!0,className:"border-kic-lightGray focus:border-kic-green-500"})]}),s.jsx(M,{type:"submit",className:"w-full bg-kic-green-500 hover:bg-kic-green-600",disabled:a,children:a?"Signing in...":"Sign in"})]})]}),s.jsxs(oi,{className:"flex flex-col space-y-4 border-t border-kic-lightGray p-6",children:[s.jsxs("p",{className:"text-center text-sm text-kic-gray",children:["Don't have an account?"," ",s.jsx(st,{to:"/register",className:"text-kic-green-500 font-medium hover:underline",children:"Sign up"})]}),s.jsx("div",{className:"border-t border-kic-lightGray pt-4 w-full"})]})]})]})})},OIe=()=>s.jsxs("header",{className:"text-center max-w-md mx-auto",role:"banner",children:[s.jsx(st,{to:"/",className:"inline-flex items-center justify-center group","aria-label":"Go to Karatina Innovation Club homepage",children:s.jsx("img",{src:OI,alt:"Karatina Innovation Club Logo",className:"h-16 w-16 group-hover:scale-105 transition-transform duration-300",width:"64",height:"64",loading:"lazy"})}),s.jsx("h1",{className:"mt-8 text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-green-600",children:"Join Karatina Innovation Club"}),s.jsx("p",{className:"mt-3 text-lg text-gray-400 font-light",children:"Create your secure account to access our innovation ecosystem"}),s.jsx("aside",{className:"mt-6 p-4 bg-gradient-to-br from-emerald-900/20 to-green-900/30 border border-emerald-500/30 rounded-xl backdrop-blur-sm","aria-label":"Account security information",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("svg",{className:"w-5 h-5 mt-0.5 text-emerald-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsxs("p",{className:"ml-2 text-sm text-emerald-100",children:[s.jsx("strong",{className:"font-semibold",children:"Secure Verification Process:"})," All registrations require admin approval for security. You'll receive an encrypted email notification once your account is activated.",s.jsx("span",{className:"block mt-1 text-emerald-300",children:"We never share your data with third parties."})]})]})}),s.jsxs("div",{className:"mt-6 flex justify-center space-x-2","aria-live":"polite","aria-label":"Loading indicator",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-400 animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-400 animate-pulse",style:{animationDelay:"300ms"}}),s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-400 animate-pulse",style:{animationDelay:"600ms"}})]}),s.jsxs("div",{className:"mt-6 flex justify-center items-center space-x-4",children:[s.jsxs("span",{className:"text-xs text-emerald-300 flex items-center",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"HTTPS Secure"]}),s.jsxs("span",{className:"text-xs text-emerald-300 flex items-center",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"GDPR Compliant"]})]})]}),MIe=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,i]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState(""),[d,h]=x.useState(""),[f,m]=x.useState(!1),[g,p]=x.useState(""),y=Ao(),{toast:b}=xe(),v=j=>j.length>=8&&/[a-z]/.test(j)&&/[A-Z]/.test(j)&&/\d/.test(j),w=async j=>{if(j.preventDefault(),m(!0),p(""),!v(a)){p("Password must be at least 8 characters with uppercase, lowercase, and number"),m(!1);return}if(a!==o){p("Passwords do not match"),m(!1);return}try{const{data:N,error:S}=await A.auth.signUp({email:r,password:a,options:{data:{name:e,phone:c,course:d},emailRedirectTo:`${window.location.origin}/dashboard`}});if(S)throw S;b({title:"Registration successful!",description:"Please check your email to verify your account."}),y("/login")}catch(N){p(N.message||"Registration failed. Please try again."),console.error("Registration error:",N)}finally{m(!1)}};return s.jsxs(R,{className:"bg-kic-white border-kic-lightGray",children:[s.jsxs(Z,{children:[s.jsx(ee,{className:"text-kic-gray",children:"Join KIC"}),s.jsx(ut,{className:"text-kic-gray/70",children:"Create your account to start your innovation journey"})]}),s.jsxs(L,{children:[g&&s.jsx(Ht,{variant:"destructive",className:"mb-6",children:s.jsx(Kt,{children:g})}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"name",className:"text-kic-gray",children:"Full Name"}),s.jsx(re,{id:"name",type:"text",placeholder:"Enter your full name",value:e,onChange:j=>t(j.target.value),required:!0,className:"border-kic-lightGray focus:border-kic-green-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"email",className:"text-kic-gray",children:"Email address"}),s.jsx(re,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:j=>n(j.target.value),required:!0,className:"border-kic-lightGray focus:border-kic-green-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"phone",className:"text-kic-gray",children:"Phone Number"}),s.jsx(re,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:c,onChange:j=>u(j.target.value),required:!0,className:"border-kic-lightGray focus:border-kic-green-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"course",className:"text-kic-gray",children:"Course/Program"}),s.jsx(re,{id:"course",type:"text",placeholder:"Enter your course or program",value:d,onChange:j=>h(j.target.value),required:!0,className:"border-kic-lightGray focus:border-kic-green-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"password",className:"text-kic-gray",children:"Password"}),s.jsx(re,{id:"password",type:"password",placeholder:"Create a strong password",value:a,onChange:j=>i(j.target.value),required:!0,className:"border-kic-lightGray focus:border-kic-green-500"}),s.jsx(J8,{password:a})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"confirmPassword",className:"text-kic-gray",children:"Confirm Password"}),s.jsx(re,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:o,onChange:j=>l(j.target.value),required:!0,className:"border-kic-lightGray focus:border-kic-green-500"})]}),s.jsx(M,{type:"submit",className:"w-full bg-kic-green-500 hover:bg-kic-green-600",disabled:f||!v(a)||a!==o,children:f?"Creating Account...":"Create Account"})]}),s.jsxs("p",{className:"mt-6 text-center text-sm text-kic-gray",children:["Already have an account?"," ",s.jsx(st,{to:"/login",className:"text-kic-green-500 font-medium hover:underline",children:"Sign in"})]})]})]})},RIe=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsx(OIe,{}),s.jsx(MIe,{})]})}),DIe=({blogId:e,commentsCount:t,onCommentsChange:r})=>{const{user:n}=ye(),{toast:a}=xe(),[i,o]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!1),[h,f]=x.useState(!1);x.useEffect(()=>{m()},[e]);const m=async()=>{try{d(!0);const{data:y,error:b}=await A.from("blog_comments").select("*").eq("blog_id",e).order("created_at",{ascending:!1});if(b)throw b;const v=await Promise.all((y||[]).map(async w=>{const{data:j}=await A.from("members").select("name").eq("user_id",w.user_id).single();return{...w,author_name:(j==null?void 0:j.name)||"Anonymous"}}));o(v),r(v.length)}catch(y){console.error("Error fetching comments:",y)}finally{d(!1)}},g=async()=>{if(!n){a({title:"Authentication required",description:"Please log in to comment",variant:"destructive"});return}if(!l.trim()){a({title:"Empty comment",description:"Please write something before submitting",variant:"destructive"});return}try{f(!0);const{error:y}=await A.from("blog_comments").insert({blog_id:e,user_id:n.id,content:l.trim()});if(y)throw y;c(""),await m(),a({title:"Comment posted",description:"Your comment has been added"})}catch(y){console.error("Error posting comment:",y),a({title:"Error",description:"Failed to post comment. Please try again.",variant:"destructive"})}finally{f(!1)}},p=async y=>{try{const{error:b}=await A.from("blog_comments").delete().eq("id",y);if(b)throw b;await m(),a({title:"Comment deleted",description:"Your comment has been removed"})}catch(b){console.error("Error deleting comment:",b),a({title:"Error",description:"Failed to delete comment",variant:"destructive"})}};return s.jsxs(R,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(vo,{className:"h-5 w-5"}),"Comments (",t,")"]})}),s.jsxs(L,{className:"space-y-4",children:[n&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(ct,{value:l,onChange:y=>c(y.target.value),placeholder:"Write a comment...",rows:3}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(M,{onClick:g,disabled:h,size:"sm",children:[s.jsx(Od,{className:"h-4 w-4 mr-1"}),h?"Posting...":"Post Comment"]})})]}),s.jsx("div",{className:"space-y-4",children:u?s.jsx("p",{className:"text-center text-gray-500",children:"Loading comments..."}):i.length===0?s.jsxs("p",{className:"text-center text-gray-500",children:["No comments yet. ",!n&&"Log in to be the first to comment!"]}):i.map(y=>{var b;return s.jsxs("div",{className:"border-l-2 border-gray-200 pl-4 py-2",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(dc,{className:"h-6 w-6",children:s.jsx(hc,{className:"text-xs",children:(b=y.author_name)==null?void 0:b.charAt(0).toUpperCase()})}),s.jsx("span",{className:"text-sm font-medium",children:y.author_name}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(y.created_at).toLocaleDateString()})]}),(n==null?void 0:n.id)===y.user_id&&s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>p(y.id),className:"text-red-500 hover:text-red-700",children:s.jsx(en,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-gray-700",children:y.content})]},y.id)})})]})]})},$Ie=({blog:e,onToggleLike:t,showFull:r=!1})=>{const[n,a]=x.useState(!1),[i,o]=x.useState(e.comments_count||0),l=r||!e.content||e.content.length<=300?e.content:`${e.content.substring(0,300)}...`;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(R,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2 text-xl",children:[e.title,e.admin_verified&&s.jsx("span",{title:"Admin Verified",children:s.jsx(Ze,{className:"h-5 w-5 text-green-500"})})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ir,{className:"h-4 w-4"}),e.author_name]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ae,{className:"h-4 w-4"}),e.published_at?new Date(e.published_at).toLocaleDateString():"Draft"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"h-4 w-4"}),e.view_count||0," views"]})]})]}),s.jsxs(L,{className:"space-y-4",children:[e.excerpt&&s.jsx("p",{className:"text-gray-700 font-medium",children:e.excerpt}),e.featured_image&&s.jsx("div",{className:"relative",children:s.jsx("img",{src:e.featured_image,alt:e.title,className:"w-full h-64 object-cover rounded-lg"})}),e.video_url&&s.jsx("div",{className:"relative",children:s.jsx("video",{src:e.video_url,controls:!0,className:"w-full h-64 object-cover rounded-lg"})}),s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:l||""})}),e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(c=>s.jsx(H,{variant:"secondary",className:"text-xs",children:c},c))}),s.jsxs("div",{className:"flex items-center gap-4 pt-2 border-t",children:[s.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:`flex items-center gap-1 ${e.is_liked?"text-red-500":""}`,children:[s.jsx(Ay,{className:`h-4 w-4 ${e.is_liked?"fill-current":""}`}),e.likes_count||0]}),s.jsxs(M,{variant:"ghost",size:"sm",className:"flex items-center gap-1",onClick:()=>a(!n),children:[s.jsx(vo,{className:"h-4 w-4"}),i]})]})]})]}),n&&s.jsx(DIe,{blogId:e.id,commentsCount:i,onCommentsChange:o})]})},IIe=({onBlogCreated:e})=>{const{user:t}=ye(),{toast:r}=xe(),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(""),[u,d]=x.useState(""),[h,f]=x.useState(""),[m,g]=x.useState(""),[p,y]=x.useState([]),b=async()=>{var v,w;if(!t){r({title:"Authentication required",description:"Please log in to create a blog post",variant:"destructive"});return}if(!l.trim()||!u.trim()){r({title:"Missing information",description:"Please provide both title and content",variant:"destructive"});return}o(!0);try{const j=m.split(",").map(_=>_.trim()).filter(_=>_),{data:N,error:S}=await A.from("blogs").insert({title:l.trim(),content:u.trim(),excerpt:h.trim()||null,tags:j.length>0?j:null,user_id:t.id,status:"pending",admin_verified:!1,featured_image:((v=p.find(_=>_.file_type==="image"))==null?void 0:v.file_url)||null,video_url:((w=p.find(_=>_.file_type==="video"))==null?void 0:w.file_url)||null}).select().single();if(S)throw S;if(p.length>0&&N){const _=p.map(C=>({blog_id:N.id,file_url:C.file_url,file_type:C.file_type,file_size:C.file_size,file_name:C.file_name})),{error:k}=await A.from("blog_attachments").insert(_);k&&console.error("Error creating attachment records:",k)}r({title:"Blog submitted",description:"Your blog post has been submitted for admin review"}),c(""),d(""),f(""),g(""),y([]),a(!1),e()}catch(j){console.error("BlogCreateForm: Error creating blog:",j),r({title:"Error",description:"Failed to create blog post",variant:"destructive"})}finally{o(!1)}};return t?s.jsxs(pt,{open:n,onOpenChange:a,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Create Post"]})}),s.jsxs(yt,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(bt,{children:[s.jsx(wt,{children:"Create Blog Post"}),s.jsx("p",{className:"text-sm text-gray-600",children:"All blog posts require admin verification before being published."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(re,{placeholder:"Blog title",value:l,onChange:v=>c(v.target.value)}),s.jsx(ct,{placeholder:"Brief excerpt (optional)",value:h,onChange:v=>f(v.target.value),rows:3}),s.jsx(ct,{placeholder:"Write your blog content...",value:u,onChange:v=>d(v.target.value),rows:10}),s.jsx(a9,{attachments:p,onAttachmentsChange:y,disabled:i}),s.jsx(re,{placeholder:"Tags (comma-separated)",value:m,onChange:v=>g(v.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:b,disabled:i,className:"flex-1",children:i?"Submitting...":"Submit for Review"}),s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})]})]}):null},LIe=({searchTerm:e,setSearchTerm:t,selectedTag:r,setSelectedTag:n,allTags:a})=>s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ba,{className:"h-4 w-4 text-gray-500"}),s.jsx(re,{placeholder:"Search blogs...",value:e,onChange:i=>t(i.target.value),className:"max-w-sm"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"h-4 w-4 text-gray-500"}),s.jsxs(Ie,{value:r,onValueChange:n,children:[s.jsx(Me,{className:"w-40",children:s.jsx(Le,{placeholder:"Filter by tag"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Tags"}),Array.isArray(a)&&a.map(i=>s.jsx(G,{value:i,children:i},i))]})]})]})]}),FIe=()=>{const{user:e}=ye(),{toast:t}=xe(),[r,n]=x.useState([]),[a,i]=x.useState(!0),[o,l]=x.useState([]),c=async()=>{console.log("useBlogData: Starting fetchBlogs");try{const{data:f,error:m}=await A.from("blogs").select("*").eq("status","published").eq("admin_verified",!0).order("published_at",{ascending:!1});if(m)throw console.error("useBlogData: Error fetching blogs:",m),m;if(console.log("useBlogData: Fetched blogs data:",(f==null?void 0:f.length)||0,"blogs"),!f||!Array.isArray(f)){console.log("useBlogData: No blogs data or invalid format, setting empty array"),n([]),i(!1);return}const g=await Promise.all(f.map(async(p,y)=>{console.log(`useBlogData: Processing blog ${y+1}/${f.length}: ${p.id}`);try{const{data:b}=await A.from("members").select("name").eq("user_id",p.user_id).single(),{count:v}=await A.from("blog_likes").select("*",{count:"exact",head:!0}).eq("blog_id",p.id),{count:w}=await A.from("blog_comments").select("*",{count:"exact",head:!0}).eq("blog_id",p.id);let j=!1;if(e){const{data:N}=await A.from("blog_likes").select("id").eq("blog_id",p.id).eq("user_id",e.id).single();j=!!N}return{...p,author_name:(b==null?void 0:b.name)||"Anonymous",likes_count:v||0,comments_count:w||0,is_liked:j}}catch(b){return console.error(`useBlogData: Error enriching blog ${p.id}:`,b),{...p,author_name:"Anonymous",likes_count:0,comments_count:0,is_liked:!1}}}));console.log("useBlogData: Successfully enriched blogs:",g.length),n(g)}catch(f){console.error("useBlogData: Error in fetchBlogs:",f),t({title:"Error",description:"Failed to load blogs",variant:"destructive"}),n([])}finally{i(!1)}},u=async()=>{console.log("useBlogData: Starting fetchTags");try{const{data:f,error:m}=await A.from("blogs").select("tags").eq("status","published").eq("admin_verified",!0);if(m)throw console.error("useBlogData: Error fetching tags:",m),m;const g=new Set;f&&Array.isArray(f)&&f.forEach(y=>{y.tags&&Array.isArray(y.tags)&&y.tags.forEach(b=>{b&&typeof b=="string"&&g.add(b)})});const p=Array.from(g);console.log("useBlogData: Fetched tags:",p.length),l(p)}catch(f){console.error("useBlogData: Error fetching tags:",f),l([])}},d=async f=>{if(!e){t({title:"Authentication required",description:"Please log in to like posts",variant:"destructive"});return}try{const m=r.find(g=>g.id===f);if(!m)return;m.is_liked?await A.from("blog_likes").delete().eq("blog_id",f).eq("user_id",e.id):await A.from("blog_likes").insert({blog_id:f,user_id:e.id}),await c()}catch(m){console.error("useBlogData: Error toggling like:",m),t({title:"Error",description:"Failed to update like",variant:"destructive"})}},h=async()=>{await Promise.all([c(),u()])};return x.useEffect(()=>{console.log("useBlogData: Hook mounted, starting data fetch"),h()},[]),{blogs:r,loading:a,allTags:o,toggleLike:d,refreshData:h}},BIe=()=>{const{blogs:e,loading:t,allTags:r,toggleLike:n,refreshData:a}=FIe(),[i,o]=x.useState(""),[l,c]=x.useState("all"),u=Array.isArray(e)?e.filter(d=>{var y,b,v;if(!d)return!1;const h=((y=d.title)==null?void 0:y.toLowerCase().includes(i.toLowerCase()))||!1,f=((b=d.content)==null?void 0:b.toLowerCase().includes(i.toLowerCase()))||!1,m=((v=d.author_name)==null?void 0:v.toLowerCase().includes(i.toLowerCase()))||!1,g=h||f||m,p=l==="all"||d.tags&&Array.isArray(d.tags)&&d.tags.includes(l);return g&&p}):[];return t?s.jsx("div",{className:"text-center py-8",children:"Loading blogs..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-kic-gray",children:"Innovation Blog"}),s.jsx("p",{className:"text-kic-gray/70",children:"Share your insights and learn from the community"})]}),s.jsx(IIe,{onBlogCreated:a})]}),s.jsx(LIe,{searchTerm:i,setSearchTerm:o,selectedTag:l,setSelectedTag:c,allTags:r}),s.jsxs("div",{className:"grid gap-6",children:[u.map(d=>s.jsx($Ie,{blog:d,onToggleLike:n},d.id)),u.length===0&&s.jsx(R,{children:s.jsx(L,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No blog posts match your search criteria."})})})]})]})},UIe=()=>s.jsx("div",{className:"min-h-screen bg-kic-lightGray",children:s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(BIe,{})})}),zIe=({title:e,description:t,canonical:r,ogImage:n="https://karatinatech.com/default-og-image.jpg",type:a="website",keywords:i=["innovation","technology","karatina","kenya","startups"],noIndex:o=!1,publishedTime:l,modifiedTime:c,author:u="Karatina Innovation Club",twitterHandle:d="@KaratinaTech",locale:h="en_KE",alternateUrls:f=[]})=>{const m=`${e} | Karatina Innovation Club`,g="https://karatinatech.com",p=r?`${g}${r}`:g,y=n.startsWith("http")?n:`${g}${n}`;return s.jsxs(W2,{prioritizeSeoTags:!0,children:[s.jsx("title",{children:m}),s.jsx("meta",{name:"description",content:t}),i.length>0&&s.jsx("meta",{name:"keywords",content:i.join(", ")}),s.jsx("meta",{name:"author",content:u}),s.jsx("meta",{name:"robots",content:o?"noindex, nofollow":"index, follow"}),s.jsx("meta",{property:"og:site_name",content:"Karatina Innovation Club"}),s.jsx("meta",{property:"og:title",content:e}),s.jsx("meta",{property:"og:description",content:t}),s.jsx("meta",{property:"og:type",content:a}),s.jsx("meta",{property:"og:url",content:p}),s.jsx("meta",{property:"og:image",content:y}),s.jsx("meta",{property:"og:image:alt",content:t}),s.jsx("meta",{property:"og:locale",content:h}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:site",content:d}),s.jsx("meta",{name:"twitter:creator",content:d}),s.jsx("meta",{name:"twitter:title",content:e}),s.jsx("meta",{name:"twitter:description",content:t}),s.jsx("meta",{name:"twitter:image",content:y}),s.jsx("meta",{name:"twitter:image:alt",content:t}),a==="article"&&l&&s.jsx("meta",{property:"article:published_time",content:l}),a==="article"&&c&&s.jsx("meta",{property:"article:modified_time",content:c}),a==="article"&&u&&s.jsx("meta",{property:"article:author",content:u}),s.jsx("link",{rel:"canonical",href:p}),f.map(({lang:b,url:v})=>s.jsx("link",{rel:"alternate",hrefLang:b,href:`${g}${v}`},b)),s.jsx("link",{rel:"icon",href:"/favicon.ico"}),s.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),s.jsx("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),s.jsx("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),s.jsx("link",{rel:"manifest",href:"/site.webmanifest"}),s.jsx("meta",{name:"theme-color",content:"#2563EB"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]})},VIe=()=>{const{events:e,loading:t}=KI(),[r,n]=x.useState("upcoming"),a=h=>{const f=h.title.toLowerCase();return f.includes("workshop")?"Workshop":f.includes("hackathon")?"Hackathon":f.includes("career")||f.includes("job")?"Career":f.includes("meetup")?"Meetup":f.includes("conference")?"Conference":"Event"},i=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),o=h=>new Date(h).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),l=new Date,c=e.filter(h=>new Date(h.date)>=l),u=e.filter(h=>new Date(h.date)<l),d=c.map((h,f)=>({id:f+1,title:h.title,description:h.description,date:h.date,time:o(h.date),location:h.location,type:a(h)}));return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-kic-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Loading events..."})]})}):s.jsxs("div",{children:[s.jsx(zIe,{title:"Events & Workshops",description:"Join our upcoming tech events, workshops, hackathons, and networking sessions. Learn, build, and connect with fellow innovators at Karatina University.",canonical:"/events",keywords:["tech events","workshops","hackathons","networking","programming bootcamp","innovation meetups"]}),s.jsx(eL,{type:"events",events:d}),s.jsx("section",{className:"py-16 md:py-24 bg-gray-50",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx("h1",{className:"font-bold mb-6",children:s.jsx("span",{className:"gradient-text",children:"Events"})}),s.jsx("p",{className:"text-xl text-gray-600",children:"Join our workshops, hackathons, and tech talks to learn and network"})]})})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsx("div",{className:"container-custom",children:s.jsxs(Mr,{defaultValue:"upcoming",value:r,onValueChange:n,children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsxs(Yt,{children:[s.jsxs(te,{value:"upcoming",children:["Upcoming Events (",c.length,")"]}),s.jsxs(te,{value:"past",children:["Past Events (",u.length,")"]})]})}),s.jsx(de,{value:"upcoming",children:c.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(h=>s.jsxs(R,{className:"card-hover overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-full h-48 bg-gradient-to-r from-kic-green-500 to-kic-green-600 flex items-center justify-center",children:s.jsx("h3",{className:"text-white text-xl font-bold text-center px-4",children:h.title})}),s.jsx(H,{className:"absolute top-3 right-3",children:a(h)})]}),s.jsxs(Z,{children:[s.jsx(ee,{className:"text-xl",children:h.title}),s.jsxs(ut,{className:"flex flex-col",children:[s.jsxs("span",{children:[i(h.date),"  ",o(h.date)]}),s.jsx("span",{className:"mt-1",children:h.location}),h.max_attendees&&s.jsxs("span",{className:"mt-1 text-sm",children:["Max attendees: ",h.max_attendees]})]})]}),s.jsxs(L,{children:[s.jsx("p",{className:"text-gray-600",children:h.description}),h.price>0&&s.jsxs("div",{className:"mt-2 font-semibold text-kic-green-600",children:["Price: KSh ",h.price]})]}),s.jsx(oi,{children:s.jsx(M,{className:"w-full",asChild:!0,children:s.jsx(st,{to:`/events/${h.id}`,children:h.requires_registration?"Register Now":"View Details"})})})]},h.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"No upcoming events at the moment."}),s.jsx("p",{className:"text-gray-500",children:"Check back soon for new event announcements!"})]})}),s.jsx(de,{value:"past",children:u.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(h=>s.jsxs(R,{className:"card-hover overflow-hidden opacity-90",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-full h-48 bg-gradient-to-r from-gray-400 to-gray-500 flex items-center justify-center",children:s.jsx("h3",{className:"text-white text-xl font-bold text-center px-4",children:h.title})}),s.jsx(H,{className:"absolute top-3 right-3",variant:"outline",children:a(h)})]}),s.jsxs(Z,{children:[s.jsx(ee,{className:"text-xl",children:h.title}),s.jsxs(ut,{className:"flex flex-col",children:[s.jsxs("span",{children:[i(h.date),"  ",o(h.date)]}),s.jsx("span",{className:"mt-1",children:h.location})]})]}),s.jsxs(L,{children:[s.jsx("p",{className:"text-gray-600",children:h.description}),h.price>0&&s.jsxs("div",{className:"mt-2 text-gray-500",children:["Price: KSh ",h.price]})]}),s.jsx(oi,{children:s.jsx(M,{variant:"outline",className:"w-full",asChild:!0,children:s.jsx(st,{to:`/events/${h.id}`,children:"View Details"})})})]},h.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-xl text-gray-600",children:"No past events to display."})]})})]})})})]})},qIe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(""),[o,l]=x.useState("all");x.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:h,error:f}=await A.from("career_opportunities").select(`
          *,
          members!inner(name)
        `).eq("status","active").order("created_at",{ascending:!1});if(f)throw f;t(h||[])}catch(h){console.error("Error fetching opportunities:",h)}finally{n(!1)}},u=e.filter(h=>{const f=h.title.toLowerCase().includes(a.toLowerCase())||h.company_name.toLowerCase().includes(a.toLowerCase())||h.description.toLowerCase().includes(a.toLowerCase()),m=o==="all"||h.type===o;return f&&m}),d=h=>({internship:"bg-blue-100 text-blue-800",full_time:"bg-green-100 text-green-800",part_time:"bg-yellow-100 text-yellow-800",contract:"bg-purple-100 text-purple-800",volunteer:"bg-orange-100 text-orange-800"})[h]||"bg-gray-100 text-gray-800";return r?s.jsx("div",{children:"Loading opportunities..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h2",{className:"text-2xl font-bold",children:"Career & Internship Board"})}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(re,{placeholder:"Search opportunities...",value:a,onChange:h=>i(h.target.value),className:"max-w-sm"}),s.jsxs(Ie,{value:o,onValueChange:l,children:[s.jsx(Me,{className:"w-40",children:s.jsx(Le,{placeholder:"Filter by type"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Types"}),s.jsx(G,{value:"internship",children:"Internship"}),s.jsx(G,{value:"full_time",children:"Full Time"}),s.jsx(G,{value:"part_time",children:"Part Time"}),s.jsx(G,{value:"contract",children:"Contract"}),s.jsx(G,{value:"volunteer",children:"Volunteer"})]})]})]}),s.jsxs("div",{className:"grid gap-6",children:[u.map(h=>{var f;return s.jsxs(R,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ee,{className:"text-xl",children:h.title}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:h.company_name})]}),s.jsx(H,{className:d(h.type),children:h.type.replace("_"," ").toUpperCase()})]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:h.description}),h.requirements&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Requirements:"}),s.jsx("p",{className:"text-sm text-gray-600",children:h.requirements})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.location&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mo,{className:"h-4 w-4"}),h.location,h.remote&&" (Remote)"]}),h.salary_range&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ul,{className:"h-4 w-4"}),h.salary_range]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ae,{className:"h-4 w-4"}),"Posted ",new Date(h.created_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[h.application_url&&s.jsx(M,{asChild:!0,children:s.jsx("a",{href:h.application_url,target:"_blank",rel:"noopener noreferrer",children:"Apply Now"})}),h.application_email&&s.jsx(M,{variant:"outline",asChild:!0,children:s.jsx("a",{href:`mailto:${h.application_email}`,children:"Email Application"})})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Posted by ",((f=h.members)==null?void 0:f.name)||"Anonymous"]})]})]},h.id)}),u.length===0&&s.jsx(R,{children:s.jsx(L,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No opportunities match your search criteria."})})})]})]})},sl=({children:e,requireApproval:t=!0,requiredRole:r,requirePermission:n,redirectTo:a="/login"})=>{const{user:i,loading:o}=ye(),{loading:l,isApproved:c}=jV(),{isAdmin:u,hasRole:d,hasPermission:h,loading:f}=$o(),m=ka();if(o||l||f)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray",children:s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsx("p",{children:"Verifying access..."})})})});if(!i)return s.jsx($f,{to:a,state:{from:m},replace:!0});if(r){const[g,p]=O.useState(null);if(O.useEffect(()=>{d(r).then(p)},[r]),g===null)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray",children:s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsx("p",{children:"Checking permissions..."})})})});if(!g)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray p-6",children:s.jsxs(Ht,{variant:"destructive",className:"max-w-md",children:[s.jsx(Jr,{className:"h-4 w-4"}),s.jsxs(Kt,{children:["You need ",r.replace("_"," ")," privileges to access this page."]})]})})}if(n){const[g,p]=O.useState(null);if(O.useEffect(()=>{h(n).then(p)},[n]),g===null)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray",children:s.jsx(R,{children:s.jsx(L,{className:"p-6",children:s.jsx("p",{children:"Checking permissions..."})})})});if(!g)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray p-6",children:s.jsxs(Ht,{variant:"destructive",className:"max-w-md",children:[s.jsx(Jr,{className:"h-4 w-4"}),s.jsx(Kt,{children:"You don't have the required permissions to access this page."})]})})}return t&&!u&&!c?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray p-6",children:s.jsxs(Ht,{variant:"destructive",className:"max-w-md",children:[s.jsx(Kl,{className:"h-4 w-4"}),s.jsx(Kt,{children:"Your membership is pending approval. Please wait for an administrator to approve your account."})]})}):s.jsx(s.Fragment,{children:e})},WIe=()=>s.jsx(sl,{requireApproval:!0,children:s.jsx("div",{className:"min-h-screen bg-kic-lightGray",children:s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(qIe,{})})})}),HIe=({totalRecords:e,totalAttended:t,attendanceRate:r})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(R,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oe,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Records"}),s.jsx("p",{className:"text-2xl font-bold",children:e})]})]})})}),s.jsx(R,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ze,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Attended"}),s.jsx("p",{className:"text-2xl font-bold",children:t})]})]})})}),s.jsx(R,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Hl,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Attendance Rate"}),s.jsxs("p",{className:"text-2xl font-bold",children:[r,"%"]})]})]})})})]}),KIe=({searchTerm:e,onSearchChange:t})=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ba,{className:"h-4 w-4 text-gray-500"}),s.jsx(re,{placeholder:"Search by member name or activity...",value:e,onChange:r=>t(r.target.value),className:"max-w-sm"})]}),GIe=({record:e})=>s.jsx(R,{className:"hover:shadow-sm transition-shadow",children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[e.attended?s.jsx(Ze,{className:"h-5 w-5 text-green-600"}):s.jsx(jr,{className:"h-5 w-5 text-red-600"}),s.jsx("span",{className:"font-medium",children:e.member_name})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:e.activity_title}),s.jsx("span",{className:"ml-2 text-xs bg-gray-100 px-2 py-1 rounded",children:e.attendance_type})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(H,{variant:e.attended?"default":"destructive",children:e.attended?"Present":"Absent"}),s.jsx("div",{className:"text-sm text-gray-500",children:new Date(e.attendance_time).toLocaleDateString()})]})]})})}),YIe=({hasRecords:e,isAdmin:t})=>s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Hl,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No attendance records"}),s.jsx("p",{className:"text-gray-500",children:e?"No records match your search criteria.":t?"Start marking attendance to see records here.":"Attendance records will appear here when they are marked."})]}),XIe=({records:e,totalRecords:t,isAdmin:r})=>e.length===0?s.jsx(YIe,{hasRecords:t>0,isAdmin:r}):s.jsx("div",{className:"space-y-3",children:e.map(n=>s.jsx(GIe,{record:n},n.id))}),QIe=({open:e,onOpenChange:t,members:r,activities:n,onMarkAttendance:a})=>{const[i,o]=x.useState(""),[l,c]=x.useState("activity"),[u,d]=x.useState({}),h=()=>{a(l,i,u),o(""),c("activity"),d({})},f=m=>{d(g=>({...g,[m]:!g[m]}))};return s.jsx(pt,{open:e,onOpenChange:t,children:s.jsxs(yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Mark Attendance"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"activityType",children:"Activity Type"}),s.jsxs(Ie,{value:l,onValueChange:m=>{c(m),o("")},children:[s.jsx(Me,{children:s.jsx(Le,{placeholder:"Choose activity type"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"activity",children:"Activity"}),s.jsx(G,{value:"event",children:"Event"}),s.jsx(G,{value:"workshop",children:"Workshop"})]})]})]}),s.jsxs("div",{children:[s.jsxs(W,{htmlFor:"activity",children:["Select ",l]}),s.jsxs(Ie,{value:i,onValueChange:o,children:[s.jsx(Me,{children:s.jsx(Le,{placeholder:`Choose a ${l}`})}),s.jsx(Re,{children:n.filter(m=>m.type===l).map(m=>s.jsxs(G,{value:m.id,children:[m.title," - ",new Date(m.scheduled_date).toLocaleDateString()]},m.id))})]})]}),i&&s.jsxs("div",{children:[s.jsx(W,{children:"Members Attendance"}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto border rounded-md p-3",children:r.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[s.jsx("span",{children:m.name}),s.jsx(M,{variant:u[m.user_id]?"default":"outline",size:"sm",onClick:()=>f(m.user_id),className:"flex items-center gap-1",children:u[m.user_id]?s.jsxs(s.Fragment,{children:[s.jsx(Ze,{className:"h-3 w-3"}),"Present"]}):s.jsxs(s.Fragment,{children:[s.jsx(jr,{className:"h-3 w-3"}),"Absent"]})})]},m.user_id))})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(M,{onClick:h,disabled:!i,className:"flex-1",children:"Save Attendance & Award Points"}),s.jsx(M,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})]})]})]})})},JIe=e=>{const{toast:t}=xe(),[r,n]=x.useState([]),[a,i]=x.useState([]),[o,l]=x.useState([]),[c,u]=x.useState(!0),d=async()=>{try{const{data:g,error:p}=await A.from("community_attendance_tracking").select("*").eq("community_id",e).order("attendance_time",{ascending:!1});if(p)throw p;const y=await Promise.all((g||[]).map(async b=>{const{data:v}=await A.from("members").select("name").eq("user_id",b.user_id).single();return{id:b.id,activity_id:b.activity_id,event_id:b.event_id,workshop_id:b.workshop_id,user_id:b.user_id,attended:b.attended,attendance_time:b.attendance_time,attendance_type:b.attendance_type,member_name:(v==null?void 0:v.name)||"Unknown Member",activity_title:`${b.attendance_type} - ${b.activity_id||b.event_id||b.workshop_id}`}}));n(y)}catch(g){console.error("Error fetching attendance records:",g),t({title:"Error",description:"Failed to load attendance records",variant:"destructive"})}},h=async()=>{try{const{data:g,error:p}=await A.from("community_memberships").select("user_id").eq("community_id",e).eq("status","active");if(p)throw p;const y=await Promise.all((g||[]).map(async b=>{const{data:v}=await A.from("members").select("name").eq("user_id",b.user_id).single();return{user_id:b.user_id,name:(v==null?void 0:v.name)||"Unknown Member"}}));i(y)}catch(g){console.error("Error fetching members:",g)}},f=async()=>{try{const{data:g,error:p}=await A.from("community_activities").select("id, title, scheduled_date").eq("community_id",e).order("scheduled_date",{ascending:!1}).limit(10);if(p)throw p;const{data:y,error:b}=await A.from("community_events").select(`
          event_id,
          events!inner(id, title, date)
        `).eq("community_id",e);if(b)throw b;const{data:v,error:w}=await A.from("community_workshops").select("id, title, start_date").eq("community_id",e).order("start_date",{ascending:!1}).limit(10);if(w)throw w;const j=[];g&&g.forEach(N=>{j.push({id:N.id,title:N.title,scheduled_date:N.scheduled_date,type:"activity"})}),y&&y.forEach(N=>{N.events&&j.push({id:N.events.id,title:N.events.title,scheduled_date:N.events.date,type:"event"})}),v&&v.forEach(N=>{j.push({id:N.id,title:N.title,scheduled_date:N.start_date,type:"workshop"})}),l(j)}catch(g){console.error("Error fetching activities:",g)}},m=async()=>{try{u(!0),await Promise.all([d(),h(),f()])}catch(g){console.error("Error fetching data:",g)}finally{u(!1)}};return x.useEffect(()=>{m()},[e]),{attendanceRecords:r,members:a,activities:o,loading:c,refetchAttendance:d}},ZIe=()=>{const{user:e}=ye(),{toast:t}=xe();return{handleMarkAttendance:async(n,a,i,o,l)=>{try{const c=Object.entries(o).map(([u,d])=>{if(!d)return Promise.resolve();const h={user_id_param:u,community_id_param:n,attendance_type_param:a,marked_by_param:e==null?void 0:e.id};return a==="activity"?h.activity_id_param=i:a==="event"?h.event_id_param=i:a==="workshop"&&(h.workshop_id_param=i),A.rpc("mark_community_attendance",h)});await Promise.all(c),t({title:"Attendance marked",description:"Attendance has been successfully recorded and points awarded"}),l==null||l()}catch(c){console.error("Error marking attendance:",c),t({title:"Error",description:"Failed to mark attendance",variant:"destructive"})}}}},eLe=e=>{const t=e.length,r=e.filter(a=>a.attended).length,n=t>0?Math.round(r/t*100):0;return{totalRecords:t,totalAttended:r,attendanceRate:n}},tLe=(e,t)=>e.filter(r=>{var n;return r.member_name.toLowerCase().includes(t.toLowerCase())||((n=r.activity_title)==null?void 0:n.toLowerCase().includes(t.toLowerCase()))}),rLe=({communityId:e,isAdmin:t})=>{const[r,n]=x.useState(!1),[a,i]=x.useState(""),{attendanceRecords:o,members:l,activities:c,loading:u,refetchAttendance:d}=JIe(e),{handleMarkAttendance:h}=ZIe(),f=async(p,y,b)=>{await h(e,p,y,b,()=>{n(!1),d()})},m=tLe(o,a),g=eLe(o);return u?s.jsx("div",{className:"text-center py-8",children:"Loading attendance data..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attendance Tracking"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Track member attendance for activities and meetings with automatic point awards"})]}),t&&s.jsxs(pt,{open:r,onOpenChange:n,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{className:"flex items-center gap-2",children:[s.jsx(Hl,{className:"h-4 w-4"}),"Mark Attendance"]})}),s.jsx(QIe,{open:r,onOpenChange:n,members:l,activities:c,onMarkAttendance:f})]})]}),s.jsx(HIe,{totalRecords:g.totalRecords,totalAttended:g.totalAttended,attendanceRate:g.attendanceRate}),s.jsx(KIe,{searchTerm:a,onSearchChange:i}),s.jsx(XIe,{records:m,totalRecords:o.length,isAdmin:t})]})},nLe=({communityId:e,isAdmin:t})=>{const{user:r}=ye(),{toast:n}=xe(),[a,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,m]=x.useState({title:"",description:"",activity_type:"weekly",scheduled_date:"",duration_minutes:"60",location:"",max_participants:"",registration_required:!1});x.useEffect(()=>{g()},[e]);const g=async()=>{try{l(!0);const{data:v,error:w}=await A.from("community_activities").select("*").eq("community_id",e).order("scheduled_date",{ascending:!1});if(w)throw w;const j=await Promise.all((v||[]).map(async N=>{const{count:S}=await A.from("community_activity_attendance").select("*",{count:"exact",head:!0}).eq("activity_id",N.id).eq("attended",!0);return{...N,attendance_count:S||0}}));i(j)}catch(v){console.error("Error fetching activities:",v),n({title:"Error",description:"Failed to load community activities",variant:"destructive"})}finally{l(!1)}},p=async()=>{if(!f.title||!f.scheduled_date){n({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}h(!0);try{const{error:v}=await A.from("community_activities").insert({community_id:e,title:f.title,description:f.description,activity_type:f.activity_type,scheduled_date:f.scheduled_date,duration_minutes:parseInt(f.duration_minutes),location:f.location,max_participants:f.max_participants?parseInt(f.max_participants):null,registration_required:f.registration_required,created_by:r==null?void 0:r.id});if(v)throw v;n({title:"Activity created",description:"Community activity has been created successfully"}),m({title:"",description:"",activity_type:"weekly",scheduled_date:"",duration_minutes:"60",location:"",max_participants:"",registration_required:!1}),u(!1),await g()}catch(v){console.error("Error creating activity:",v),n({title:"Error",description:"Failed to create activity",variant:"destructive"})}finally{h(!1)}},y=v=>{switch(v){case"scheduled":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=v=>{switch(v){case"weekly":return s.jsx(Ae,{className:"h-4 w-4"});case"workshop":return s.jsx(Oe,{className:"h-4 w-4"});case"meeting":return s.jsx(See,{className:"h-4 w-4"});default:return s.jsx(Ae,{className:"h-4 w-4"})}};return o?s.jsx("div",{className:"text-center py-8",children:"Loading activities..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Community Activities"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Weekly meetings, workshops, and community events"})]}),t&&s.jsxs(pt,{open:c,onOpenChange:u,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Create Activity"]})}),s.jsxs(yt,{className:"max-w-md",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Create New Activity"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Title *"}),s.jsx(re,{id:"title",value:f.title,onChange:v=>m({...f,title:v.target.value}),placeholder:"Activity title"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:f.description,onChange:v=>m({...f,description:v.target.value}),placeholder:"Activity description",rows:3})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"activity_type",children:"Activity Type"}),s.jsxs(Ie,{value:f.activity_type,onValueChange:v=>m({...f,activity_type:v}),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"weekly",children:"Weekly Meeting"}),s.jsx(G,{value:"workshop",children:"Workshop"}),s.jsx(G,{value:"meeting",children:"Special Meeting"})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"scheduled_date",children:"Scheduled Date & Time *"}),s.jsx(re,{id:"scheduled_date",type:"datetime-local",value:f.scheduled_date,onChange:v=>m({...f,scheduled_date:v.target.value})})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"duration_minutes",children:"Duration (minutes)"}),s.jsx(re,{id:"duration_minutes",type:"number",value:f.duration_minutes,onChange:v=>m({...f,duration_minutes:v.target.value}),placeholder:"60"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"location",children:"Location"}),s.jsx(re,{id:"location",value:f.location,onChange:v=>m({...f,location:v.target.value}),placeholder:"Meeting location"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"max_participants",children:"Max Participants"}),s.jsx(re,{id:"max_participants",type:"number",value:f.max_participants,onChange:v=>m({...f,max_participants:v.target.value}),placeholder:"Leave empty for unlimited"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(M,{onClick:p,disabled:d,className:"flex-1",children:d?"Creating...":"Create Activity"}),s.jsx(M,{variant:"outline",onClick:()=>u(!1),children:"Cancel"})]})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(v=>s.jsxs(R,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(Z,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[b(v.activity_type),s.jsx(ee,{className:"text-lg",children:v.title})]}),s.jsx(H,{className:y(v.status),children:v.status})]}),v.description&&s.jsx(ut,{children:v.description})]}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4"}),s.jsx("span",{children:new Date(v.scheduled_date).toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-4 w-4"}),s.jsxs("span",{children:[v.duration_minutes," minutes"]})]}),v.location&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mo,{className:"h-4 w-4"}),s.jsx("span",{children:v.location})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4"}),s.jsxs("span",{children:[v.attendance_count||0," attended",v.max_participants&&` / ${v.max_participants} max`]})]}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[s.jsx(H,{variant:"outline",className:"text-xs",children:v.activity_type}),v.registration_required&&s.jsx(H,{variant:"outline",className:"text-xs",children:"Registration Required"})]})]})})]},v.id))}),a.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ae,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No activities yet"}),s.jsx("p",{className:"text-gray-500",children:t?"Create your first community activity to get started.":"Activities will appear here when they are scheduled."})]})]})},sLe=({communityId:e,isAdmin:t})=>{const{user:r}=ye(),{toast:n}=xe(),[a,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,m]=x.useState({title:"",description:"",instructor_name:"",instructor_bio:"",start_date:"",end_date:"",location:"",max_participants:"30",registration_fee:"0",requirements:"",learning_outcomes:""});x.useEffect(()=>{g()},[e]);const g=async()=>{try{l(!0);const{data:v,error:w}=await A.from("community_workshops").select("*").eq("community_id",e).order("start_date",{ascending:!1});if(w)throw w;const j=await Promise.all((v||[]).map(async N=>{const{count:S}=await A.from("workshop_registrations").select("*",{count:"exact",head:!0}).eq("workshop_id",N.id).eq("status","registered"),{data:_}=await A.from("workshop_registrations").select("id").eq("workshop_id",N.id).eq("user_id",r==null?void 0:r.id).eq("status","registered").single();return{...N,registration_count:S||0,user_registered:!!_}}));i(j)}catch(v){console.error("Error fetching workshops:",v),n({title:"Error",description:"Failed to load community workshops",variant:"destructive"})}finally{l(!1)}},p=async()=>{if(!f.title||!f.start_date||!f.end_date){n({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}h(!0);try{const{error:v}=await A.from("community_workshops").insert({community_id:e,title:f.title,description:f.description,instructor_name:f.instructor_name,instructor_bio:f.instructor_bio,start_date:f.start_date,end_date:f.end_date,location:f.location,max_participants:parseInt(f.max_participants),registration_fee:parseFloat(f.registration_fee),requirements:f.requirements?f.requirements.split(`
`).filter(w=>w.trim()):[],learning_outcomes:f.learning_outcomes?f.learning_outcomes.split(`
`).filter(w=>w.trim()):[],created_by:r==null?void 0:r.id});if(v)throw v;n({title:"Workshop created",description:"Community workshop has been created successfully"}),m({title:"",description:"",instructor_name:"",instructor_bio:"",start_date:"",end_date:"",location:"",max_participants:"30",registration_fee:"0",requirements:"",learning_outcomes:""}),u(!1),await g()}catch(v){console.error("Error creating workshop:",v),n({title:"Error",description:"Failed to create workshop",variant:"destructive"})}finally{h(!1)}},y=async v=>{if(r)try{const{error:w}=await A.from("workshop_registrations").insert({workshop_id:v,user_id:r.id,status:"registered"});if(w)throw w;n({title:"Registration successful",description:"You have been registered for the workshop"}),await g()}catch(w){console.error("Error registering for workshop:",w),n({title:"Error",description:"Failed to register for workshop",variant:"destructive"})}},b=v=>{switch(v){case"upcoming":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o?s.jsx("div",{className:"text-center py-8",children:"Loading workshops..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Community Workshops"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Skill-building workshops and training sessions"})]}),t&&s.jsxs(pt,{open:c,onOpenChange:u,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Create Workshop"]})}),s.jsxs(yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Create New Workshop"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Workshop Title *"}),s.jsx(re,{id:"title",value:f.title,onChange:v=>m({...f,title:v.target.value}),placeholder:"Workshop title"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:f.description,onChange:v=>m({...f,description:v.target.value}),placeholder:"Workshop description",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"instructor_name",children:"Instructor Name"}),s.jsx(re,{id:"instructor_name",value:f.instructor_name,onChange:v=>m({...f,instructor_name:v.target.value}),placeholder:"Instructor name"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"location",children:"Location"}),s.jsx(re,{id:"location",value:f.location,onChange:v=>m({...f,location:v.target.value}),placeholder:"Workshop location"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"instructor_bio",children:"Instructor Bio"}),s.jsx(ct,{id:"instructor_bio",value:f.instructor_bio,onChange:v=>m({...f,instructor_bio:v.target.value}),placeholder:"Brief instructor biography",rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"start_date",children:"Start Date & Time *"}),s.jsx(re,{id:"start_date",type:"datetime-local",value:f.start_date,onChange:v=>m({...f,start_date:v.target.value})})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"end_date",children:"End Date & Time *"}),s.jsx(re,{id:"end_date",type:"datetime-local",value:f.end_date,onChange:v=>m({...f,end_date:v.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"max_participants",children:"Max Participants"}),s.jsx(re,{id:"max_participants",type:"number",value:f.max_participants,onChange:v=>m({...f,max_participants:v.target.value}),placeholder:"30"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"registration_fee",children:"Registration Fee (KSh)"}),s.jsx(re,{id:"registration_fee",type:"number",step:"0.01",value:f.registration_fee,onChange:v=>m({...f,registration_fee:v.target.value}),placeholder:"0"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"requirements",children:"Requirements (one per line)"}),s.jsx(ct,{id:"requirements",value:f.requirements,onChange:v=>m({...f,requirements:v.target.value}),placeholder:`Basic programming knowledge
Laptop required
etc.`,rows:3})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"learning_outcomes",children:"Learning Outcomes (one per line)"}),s.jsx(ct,{id:"learning_outcomes",value:f.learning_outcomes,onChange:v=>m({...f,learning_outcomes:v.target.value}),placeholder:`Build a web application
Understand React concepts
etc.`,rows:3})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(M,{onClick:p,disabled:d,className:"flex-1",children:d?"Creating...":"Create Workshop"}),s.jsx(M,{variant:"outline",onClick:()=>u(!1),children:"Cancel"})]})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:a.map(v=>s.jsxs(R,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(Z,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ya,{className:"h-5 w-5 text-blue-600"}),s.jsx(ee,{className:"text-lg",children:v.title})]}),s.jsx(H,{className:b(v.status),children:v.status})]}),v.description&&s.jsx(ut,{children:v.description})]}),s.jsxs(L,{className:"space-y-4",children:[v.instructor_name&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(lr,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"font-medium",children:v.instructor_name})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-4 w-4"}),s.jsxs("span",{children:[new Date(v.start_date).toLocaleString()," - ",new Date(v.end_date).toLocaleString()]})]}),v.location&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mo,{className:"h-4 w-4"}),s.jsx("span",{children:v.location})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4"}),s.jsxs("span",{children:[v.registration_count||0," / ",v.max_participants," registered"]})]}),v.registration_fee>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{className:"h-4 w-4"}),s.jsxs("span",{children:["KSh ",v.registration_fee.toLocaleString()]})]})]}),v.requirements&&v.requirements.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-sm mb-1",children:"Requirements:"}),s.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[v.requirements.slice(0,3).map((w,j)=>s.jsxs("li",{className:"flex items-start gap-1",children:[s.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),w]},j)),v.requirements.length>3&&s.jsxs("li",{className:"text-gray-500",children:["+",v.requirements.length-3," more..."]})]})]}),v.learning_outcomes&&v.learning_outcomes.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-sm mb-1",children:"What you'll learn:"}),s.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[v.learning_outcomes.slice(0,3).map((w,j)=>s.jsxs("li",{className:"flex items-start gap-1",children:[s.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full mt-2 flex-shrink-0"}),w]},j)),v.learning_outcomes.length>3&&s.jsxs("li",{className:"text-gray-500",children:["+",v.learning_outcomes.length-3," more..."]})]})]}),v.status==="upcoming"&&!v.user_registered&&s.jsx(M,{onClick:()=>y(v.id),className:"w-full",disabled:v.registration_count>=v.max_participants,children:v.registration_count>=v.max_participants?"Workshop Full":"Register Now"}),v.user_registered&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600 text-sm font-medium",children:[s.jsx(Oe,{className:"h-4 w-4"}),"You're registered for this workshop"]})]})]},v.id))}),a.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ya,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workshops yet"}),s.jsx("p",{className:"text-gray-500",children:t?"Create your first workshop to get started.":"Workshops will appear here when they are scheduled."})]})]})},aLe=({communityId:e,isAdmin:t})=>{const{user:r}=ye(),{toast:n}=xe(),[a,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,m]=x.useState("all"),[g,p]=x.useState("all"),[y,b]=x.useState({title:"",description:"",resource_type:"document",resource_url:"",tags:"",difficulty_level:"beginner",is_featured:!1});x.useEffect(()=>{v()},[e]);const v=async()=>{try{l(!0);const{data:_,error:k}=await A.from("community_learning_resources").select("*").eq("community_id",e).order("is_featured",{ascending:!1}).order("created_at",{ascending:!1});if(k)throw k;i(_||[])}catch(_){console.error("Error fetching resources:",_),n({title:"Error",description:"Failed to load community resources",variant:"destructive"})}finally{l(!1)}},w=async()=>{if(!y.title||!y.resource_url){n({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}h(!0);try{const{error:_}=await A.from("community_learning_resources").insert({community_id:e,title:y.title,description:y.description,resource_type:y.resource_type,resource_url:y.resource_url,tags:y.tags?y.tags.split(",").map(k=>k.trim()).filter(k=>k):[],difficulty_level:y.difficulty_level,is_featured:y.is_featured,uploaded_by:r==null?void 0:r.id});if(_)throw _;n({title:"Resource added",description:"Learning resource has been added successfully"}),b({title:"",description:"",resource_type:"document",resource_url:"",tags:"",difficulty_level:"beginner",is_featured:!1}),u(!1),await v()}catch(_){console.error("Error creating resource:",_),n({title:"Error",description:"Failed to add resource",variant:"destructive"})}finally{h(!1)}},j=_=>{switch(_){case"document":return s.jsx(Fr,{className:"h-4 w-4"});case"video":return s.jsx(Jm,{className:"h-4 w-4"});case"link":return s.jsx(hee,{className:"h-4 w-4"});case"tutorial":return s.jsx(ya,{className:"h-4 w-4"});case"code":return s.jsx(Gm,{className:"h-4 w-4"});default:return s.jsx(Fr,{className:"h-4 w-4"})}},N=_=>{switch(_){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=a.filter(_=>!(f!=="all"&&_.resource_type!==f||g!=="all"&&_.difficulty_level!==g));return o?s.jsx("div",{className:"text-center py-8",children:"Loading resources..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Learning Resources"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Curated resources for skill development"})]}),t&&s.jsxs(pt,{open:c,onOpenChange:u,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Add Resource"]})}),s.jsxs(yt,{className:"max-w-md",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Add Learning Resource"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Title *"}),s.jsx(re,{id:"title",value:y.title,onChange:_=>b({...y,title:_.target.value}),placeholder:"Resource title"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:y.description,onChange:_=>b({...y,description:_.target.value}),placeholder:"Brief description of the resource",rows:3})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"resource_type",children:"Resource Type"}),s.jsxs(Ie,{value:y.resource_type,onValueChange:_=>b({...y,resource_type:_}),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"document",children:"Document"}),s.jsx(G,{value:"video",children:"Video"}),s.jsx(G,{value:"link",children:"Link"}),s.jsx(G,{value:"tutorial",children:"Tutorial"}),s.jsx(G,{value:"code",children:"Code"})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"resource_url",children:"Resource URL *"}),s.jsx(re,{id:"resource_url",value:y.resource_url,onChange:_=>b({...y,resource_url:_.target.value}),placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"difficulty_level",children:"Difficulty Level"}),s.jsxs(Ie,{value:y.difficulty_level,onValueChange:_=>b({...y,difficulty_level:_}),children:[s.jsx(Me,{children:s.jsx(Le,{})}),s.jsxs(Re,{children:[s.jsx(G,{value:"beginner",children:"Beginner"}),s.jsx(G,{value:"intermediate",children:"Intermediate"}),s.jsx(G,{value:"advanced",children:"Advanced"})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"tags",children:"Tags (comma-separated)"}),s.jsx(re,{id:"tags",value:y.tags,onChange:_=>b({...y,tags:_.target.value}),placeholder:"javascript, react, tutorial"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"is_featured",checked:y.is_featured,onChange:_=>b({...y,is_featured:_.target.checked}),className:"rounded"}),s.jsx(W,{htmlFor:"is_featured",children:"Feature this resource"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(M,{onClick:w,disabled:d,className:"flex-1",children:d?"Adding...":"Add Resource"}),s.jsx(M,{variant:"outline",onClick:()=>u(!1),children:"Cancel"})]})]})]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(Ie,{value:f,onValueChange:m,children:[s.jsx(Me,{className:"w-40",children:s.jsx(Le,{placeholder:"All Types"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Types"}),s.jsx(G,{value:"document",children:"Documents"}),s.jsx(G,{value:"video",children:"Videos"}),s.jsx(G,{value:"link",children:"Links"}),s.jsx(G,{value:"tutorial",children:"Tutorials"}),s.jsx(G,{value:"code",children:"Code"})]})]}),s.jsxs(Ie,{value:g,onValueChange:p,children:[s.jsx(Me,{className:"w-40",children:s.jsx(Le,{placeholder:"All Levels"})}),s.jsxs(Re,{children:[s.jsx(G,{value:"all",children:"All Levels"}),s.jsx(G,{value:"beginner",children:"Beginner"}),s.jsx(G,{value:"intermediate",children:"Intermediate"}),s.jsx(G,{value:"advanced",children:"Advanced"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(_=>s.jsxs(R,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(Z,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[j(_.resource_type),s.jsx(ee,{className:"text-base",children:_.title})]}),_.is_featured&&s.jsx(qn,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),_.description&&s.jsx(ut,{className:"text-sm",children:_.description})]}),s.jsxs(L,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H,{className:N(_.difficulty_level),children:_.difficulty_level}),s.jsx(H,{variant:"outline",className:"text-xs",children:_.resource_type})]}),_.tags&&_.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[_.tags.slice(0,3).map(k=>s.jsx(H,{variant:"secondary",className:"text-xs",children:k},k)),_.tags.length>3&&s.jsxs(H,{variant:"secondary",className:"text-xs",children:["+",_.tags.length-3]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Added ",new Date(_.created_at).toLocaleDateString()]}),s.jsxs(M,{variant:"outline",size:"sm",className:"w-full flex items-center gap-2",onClick:()=>window.open(_.resource_url,"_blank"),children:[s.jsx(Oo,{className:"h-3 w-3"}),"Access Resource"]})]})]},_.id))}),S.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ya,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No resources found"}),s.jsx("p",{className:"text-gray-500",children:a.length===0?t?"Add your first learning resource to get started.":"Learning resources will appear here when they are added.":"Try adjusting your filters to find resources."})]})]})},Tc={async fetchMeetings(e){const{data:t,error:r}=await A.from("community_online_meetings").select("*").eq("community_id",e).order("scheduled_date",{ascending:!0});if(r)throw r;return t},async fetchMeetingStats(e){const{data:t,error:r}=await A.from("community_meeting_stats").select("*").eq("community_id",e);if(r)throw r;return t},async createMeeting(e){const{data:t,error:r}=await A.from("community_online_meetings").insert([e]).select().single();if(r)throw r;return t},async updateMeeting(e,t){const{data:r,error:n}=await A.from("community_online_meetings").update(t).eq("id",e).select().single();if(n)throw n;return r},async deleteMeeting(e){const{error:t}=await A.from("community_online_meetings").delete().eq("id",e);if(t)throw t},async recordAttendance(e){const{data:t,error:r}=await A.rpc("record_meeting_attendance",{meeting_id_param:e});if(r)throw r;return t}},L_=e=>({...e,status:e.status}),iLe=e=>e.map(L_),oLe=e=>{const[t,r]=x.useState([]),[n,a]=x.useState([]),[i,o]=x.useState(!0),{toast:l}=xe(),c=async()=>{try{o(!0);const[m,g]=await Promise.all([Tc.fetchMeetings(e),Tc.fetchMeetingStats(e)]),p=iLe(m||[]);r(p),a(g||[])}catch(m){console.error("Error fetching meetings:",m),l({title:"Error",description:"Failed to load meetings",variant:"destructive"})}finally{o(!1)}},u=async m=>{try{const g=await Tc.createMeeting(m),p=L_(g);return r(y=>[...y,p]),l({title:"Success",description:"Meeting scheduled successfully"}),p}catch(g){throw console.error("Error creating meeting:",g),l({title:"Error",description:"Failed to schedule meeting",variant:"destructive"}),g}},d=async(m,g)=>{try{const p=await Tc.updateMeeting(m,g),y=L_(p);return r(b=>b.map(v=>v.id===m?y:v)),l({title:"Success",description:"Meeting updated successfully"}),y}catch(p){throw console.error("Error updating meeting:",p),l({title:"Error",description:"Failed to update meeting",variant:"destructive"}),p}},h=async m=>{try{await Tc.deleteMeeting(m),r(g=>g.filter(p=>p.id!==m)),l({title:"Success",description:"Meeting deleted successfully"})}catch(g){throw console.error("Error deleting meeting:",g),l({title:"Error",description:"Failed to delete meeting",variant:"destructive"}),g}},f=async m=>{try{const g=await Tc.recordAttendance(m);return g.success?(l({title:"Success",description:g.message}),await c()):l({title:"Info",description:g.message,variant:"default"}),g}catch(g){throw console.error("Error recording attendance:",g),l({title:"Error",description:"Failed to record attendance",variant:"destructive"}),g}};return x.useEffect(()=>{e&&c()},[e]),{meetings:t,meetingStats:n,loading:i,createMeeting:u,updateMeeting:d,deleteMeeting:h,recordAttendance:f,refetch:c}},l5=({meeting:e,stats:t,isAdmin:r,onJoinMeeting:n,onDeleteMeeting:a})=>{const i=c=>{switch(c){case"scheduled":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=new Date(e.scheduled_date)>new Date,l=new Date(e.scheduled_date)<=new Date&&new Date(e.scheduled_date).getTime()+e.duration_minutes*6e4>new Date().getTime();return s.jsxs(R,{className:"hover:shadow-sm transition-shadow",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ee,{className:"text-lg mb-2",children:e.title}),e.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description})]}),s.jsx(H,{className:i(e.status),children:e.status})]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ae,{className:"h-4 w-4"}),s.jsx("span",{children:ui(new Date(e.scheduled_date),"MMM dd, yyyy")})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vt,{className:"h-4 w-4"}),s.jsx("span",{children:ui(new Date(e.scheduled_date),"HH:mm")})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vt,{className:"h-4 w-4"}),s.jsxs("span",{children:[e.duration_minutes,"min"]})]})]}),t&&s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(Oe,{className:"h-4 w-4"}),s.jsxs("span",{children:[t.total_attendees," attendees"]})]}),s.jsx("div",{className:"text-blue-600",children:s.jsxs("span",{children:[t.points_awarded_count," points awarded"]})})]}),e.max_participants&&s.jsxs("div",{className:"text-sm text-gray-600",children:["Max participants: ",e.max_participants]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[(o||l)&&e.status!=="cancelled"&&s.jsxs(M,{onClick:()=>n(e.id,e.meeting_link),className:"flex items-center gap-2",variant:l?"default":"outline",children:[s.jsx(Jm,{className:"h-4 w-4"}),l?"Join Now":"Join Meeting",s.jsx(Oo,{className:"h-3 w-3"})]}),r&&e.status==="scheduled"&&a&&s.jsx(M,{onClick:()=>a(e.id),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:s.jsx(en,{className:"h-4 w-4"})})]})]})]})},lLe=({open:e,onOpenChange:t,communityId:r,onCreateMeeting:n})=>{const{user:a}=ye(),[i,o]=x.useState(!1),[l,c]=x.useState({title:"",description:"",meeting_link:"",scheduled_date:"",duration_minutes:60,max_participants:""}),u=async h=>{if(h.preventDefault(),!!a){o(!0);try{const f={community_id:r,title:l.title,description:l.description||void 0,meeting_link:l.meeting_link,scheduled_date:new Date(l.scheduled_date).toISOString(),duration_minutes:l.duration_minutes,max_participants:l.max_participants?parseInt(l.max_participants):void 0,created_by:a.id,status:"scheduled"};await n(f),c({title:"",description:"",meeting_link:"",scheduled_date:"",duration_minutes:60,max_participants:""}),t(!1)}catch(f){console.error("Error creating meeting:",f)}finally{o(!1)}}},d=()=>{const h=Math.random().toString(36).substring(2,12);c(f=>({...f,meeting_link:`https://meet.google.com/${h}`}))};return s.jsx(pt,{open:e,onOpenChange:t,children:s.jsxs(yt,{className:"max-w-md",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Schedule Online Meeting"})}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Meeting Title"}),s.jsx(re,{id:"title",value:l.title,onChange:h=>c(f=>({...f,title:h.target.value})),placeholder:"Enter meeting title",required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(ct,{id:"description",value:l.description,onChange:h=>c(f=>({...f,description:h.target.value})),placeholder:"Meeting description or agenda",rows:3})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"meeting_link",children:"Meeting Link"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{id:"meeting_link",value:l.meeting_link,onChange:h=>c(f=>({...f,meeting_link:h.target.value})),placeholder:"https://meet.google.com/...",required:!0}),s.jsx(M,{type:"button",variant:"outline",onClick:d,className:"whitespace-nowrap",children:"Generate"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"scheduled_date",children:"Date & Time"}),s.jsx(re,{id:"scheduled_date",type:"datetime-local",value:l.scheduled_date,onChange:h=>c(f=>({...f,scheduled_date:h.target.value})),required:!0,min:new Date().toISOString().slice(0,16)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"duration",children:"Duration (minutes)"}),s.jsx(re,{id:"duration",type:"number",value:l.duration_minutes,onChange:h=>c(f=>({...f,duration_minutes:parseInt(h.target.value)||60})),min:"15",max:"480"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"max_participants",children:"Max Participants"}),s.jsx(re,{id:"max_participants",type:"number",value:l.max_participants,onChange:h=>c(f=>({...f,max_participants:h.target.value})),placeholder:"No limit",min:"1"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(M,{type:"submit",disabled:i,children:i?"Scheduling...":"Schedule Meeting"})]})]})]})})},cLe=({communityId:e,isAdmin:t})=>{const[r,n]=x.useState(!1),{meetings:a,meetingStats:i,loading:o,createMeeting:l,deleteMeeting:c,recordAttendance:u}=oLe(e),d=async(g,p)=>{try{await u(g),window.open(p,"_blank")}catch(y){console.error("Error joining meeting:",y),window.open(p,"_blank")}},h=async g=>{window.confirm("Are you sure you want to delete this meeting?")&&await c(g)};if(o)return s.jsx("div",{className:"text-center py-8",children:"Loading online meetings..."});const f=a.filter(g=>new Date(g.scheduled_date)>new Date&&g.status==="scheduled"),m=a.filter(g=>new Date(g.scheduled_date)<=new Date||g.status==="completed");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Online Meetings"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Schedule and join Google Meet sessions with automatic attendance tracking"})]}),t&&s.jsxs(pt,{open:r,onOpenChange:n,children:[s.jsx(er,{asChild:!0,children:s.jsxs(M,{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Schedule Meeting"]})}),s.jsx(lLe,{open:r,onOpenChange:n,communityId:e,onCreateMeeting:l})]})]}),a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jm,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Online Meetings"}),s.jsx("p",{className:"text-gray-600 mb-4",children:t?"Schedule your first online meeting to connect with community members.":"No online meetings have been scheduled yet."}),t&&s.jsxs(M,{onClick:()=>n(!0),className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Schedule Meeting"]})]}):s.jsxs("div",{className:"space-y-6",children:[f.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Upcoming Meetings"}),s.jsx("div",{className:"grid gap-4",children:f.map(g=>s.jsx(l5,{meeting:g,stats:i.find(p=>p.meeting_id===g.id),isAdmin:t,onJoinMeeting:d,onDeleteMeeting:t?h:void 0},g.id))})]}),m.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Past Meetings"}),s.jsx("div",{className:"grid gap-4",children:m.map(g=>s.jsx(l5,{meeting:g,stats:i.find(p=>p.meeting_id===g.id),isAdmin:t,onJoinMeeting:d},g.id))})]})]})]})},Ap=({communityId:e})=>{const{isAdmin:t}=WC(e);return ab(e),s.jsxs("div",{className:"space-y-4 sm:space-y-6 w-full",children:[s.jsx("div",{className:"flex justify-end",children:s.jsx(wd,{})}),s.jsxs(Mr,{defaultValue:"members",className:"space-y-4 sm:space-y-6 w-full",children:[s.jsx("div",{className:"block lg:hidden",children:s.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:s.jsxs(Yt,{className:"inline-flex h-12 items-center justify-start rounded-md bg-muted p-1 min-w-max",children:[s.jsx(te,{value:"members",className:"px-3 py-2 text-sm whitespace-nowrap",children:"Members"}),s.jsx(te,{value:"activities",className:"px-3 py-2 text-sm whitespace-nowrap",children:"Activities"}),s.jsx(te,{value:"workshops",className:"px-3 py-2 text-sm whitespace-nowrap",children:"Workshops"}),s.jsx(te,{value:"events",className:"px-3 py-2 text-sm whitespace-nowrap",children:"Events"}),s.jsx(te,{value:"meetings",className:"px-3 py-2 text-sm whitespace-nowrap",children:"Meetings"}),s.jsx(te,{value:"projects",className:"px-3 py-2 text-sm whitespace-nowrap",children:"Projects"}),s.jsx(te,{value:"resources",className:"px-3 py-2 text-sm whitespace-nowrap",children:"Resources"}),s.jsx(te,{value:"attendance",className:"px-3 py-2 text-sm whitespace-nowrap",children:"Attendance"}),s.jsx(te,{value:"reminders",className:"px-3 py-2 text-sm whitespace-nowrap",children:"Reminders"})]})})}),s.jsx("div",{className:"hidden lg:block",children:s.jsxs(Yt,{className:"grid w-full grid-cols-9 gap-1 h-12 p-1",children:[s.jsx(te,{value:"members",className:"text-sm px-2 py-1",children:"Members"}),s.jsx(te,{value:"activities",className:"text-sm px-2 py-1",children:"Activities"}),s.jsx(te,{value:"workshops",className:"text-sm px-2 py-1",children:"Workshops"}),s.jsx(te,{value:"events",className:"text-sm px-2 py-1",children:"Events"}),s.jsx(te,{value:"meetings",className:"text-sm px-2 py-1",children:"Meetings"}),s.jsx(te,{value:"projects",className:"text-sm px-2 py-1",children:"Projects"}),s.jsx(te,{value:"resources",className:"text-sm px-2 py-1",children:"Resources"}),s.jsx(te,{value:"attendance",className:"text-sm px-2 py-1",children:"Attendance"}),s.jsx(te,{value:"reminders",className:"text-sm px-2 py-1",children:"Reminders"})]})}),s.jsx(de,{value:"members",className:"w-full",children:s.jsx(vV,{communityId:e,isAdmin:t})}),s.jsx(de,{value:"activities",className:"w-full",children:s.jsx(nLe,{communityId:e,isAdmin:t})}),s.jsx(de,{value:"workshops",className:"w-full",children:s.jsx(sLe,{communityId:e,isAdmin:t})}),s.jsx(de,{value:"events",className:"w-full",children:s.jsx(yV,{communityId:e,isAdmin:t})}),s.jsx(de,{value:"meetings",className:"w-full",children:s.jsx(cLe,{communityId:e,isAdmin:t})}),s.jsx(de,{value:"projects",className:"w-full",children:s.jsx(bV,{communityId:e,isAdmin:t})}),s.jsx(de,{value:"resources",className:"w-full",children:s.jsx(aLe,{communityId:e,isAdmin:t})}),s.jsx(de,{value:"attendance",className:"w-full",children:s.jsx(rLe,{communityId:e,isAdmin:t})}),s.jsx(de,{value:"reminders",className:"w-full",children:s.jsx(wV,{communityId:e,isAdmin:t})})]})]})},uLe=({community:e})=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kic-lightGray via-kic-nearWhite to-kic-offWhite w-full",children:s.jsxs("div",{className:"container mx-auto p-4 sm:p-6 w-full max-w-none",children:[s.jsx(R,{className:"mb-4 sm:mb-6 border-kic-green-200 bg-white/80 backdrop-blur-sm w-full shadow-lg",children:s.jsx(Z,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full sm:w-auto",children:[s.jsx("div",{className:"p-3 rounded-full bg-kic-green-100 flex-shrink-0",children:s.jsx(WE,{className:"h-6 w-6 sm:h-8 sm:w-8 text-kic-green-600"})}),s.jsxs("div",{className:"w-full sm:w-auto",children:[s.jsx(ee,{className:"text-xl sm:text-2xl text-kic-gray break-words",children:e.name}),s.jsx(ut,{className:"text-kic-gray/70 text-sm sm:text-base break-words",children:e.description})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto justify-start sm:justify-end",children:[s.jsx(H,{variant:"secondary",className:"bg-kic-green-100 text-kic-green-800 text-xs",children:"IoT Focus"}),s.jsxs(H,{variant:"outline",className:"border-kic-green-200 text-xs",children:[e.member_count||0," Members"]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(Aee,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Connected Devices"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"24"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(AS,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Data Points"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"1.2K"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(Gm,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Active Projects"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"8"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(WE,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Workshops"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"3"})]})]})})})]}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm w-full shadow-lg border-0",children:s.jsx(L,{className:"p-4 sm:p-6 w-full",children:s.jsx(Ap,{communityId:e.id})})})]})}),dLe=({community:e})=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kic-lightGray via-kic-nearWhite to-kic-offWhite w-full",children:s.jsxs("div",{className:"container mx-auto p-4 sm:p-6 w-full max-w-none",children:[s.jsx(R,{className:"mb-4 sm:mb-6 border-kic-green-200 bg-white/80 backdrop-blur-sm w-full shadow-lg",children:s.jsx(Z,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full sm:w-auto",children:[s.jsx("div",{className:"p-3 rounded-full bg-kic-green-100 flex-shrink-0",children:s.jsx(HE,{className:"h-6 w-6 sm:h-8 sm:w-8 text-kic-green-600"})}),s.jsxs("div",{className:"w-full sm:w-auto",children:[s.jsx(ee,{className:"text-xl sm:text-2xl text-kic-gray break-words",children:e.name}),s.jsx(ut,{className:"text-kic-gray/70 text-sm sm:text-base break-words",children:e.description})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto justify-start sm:justify-end",children:[s.jsx(H,{variant:"secondary",className:"bg-kic-green-100 text-kic-green-800 text-xs",children:"Web Development"}),s.jsxs(H,{variant:"outline",className:"border-kic-green-200 text-xs",children:[e.member_count||0," Members"]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(Gm,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Active Repos"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"15"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(vee,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Design Systems"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"4"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(AS,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"APIs Built"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"12"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(HE,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Live Sites"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"9"})]})]})})})]}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm w-full shadow-lg border-0",children:s.jsx(L,{className:"p-4 sm:p-6 w-full",children:s.jsx(Ap,{communityId:e.id})})})]})}),hLe=({community:e})=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kic-lightGray via-kic-nearWhite to-kic-offWhite w-full",children:s.jsxs("div",{className:"container mx-auto p-4 sm:p-6 w-full max-w-none",children:[s.jsx(R,{className:"mb-4 sm:mb-6 border-kic-green-200 bg-white/80 backdrop-blur-sm w-full shadow-lg",children:s.jsx(Z,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full sm:w-auto",children:[s.jsx("div",{className:"p-3 rounded-full bg-kic-green-100 flex-shrink-0",children:s.jsx(Vu,{className:"h-6 w-6 sm:h-8 sm:w-8 text-kic-green-600"})}),s.jsxs("div",{className:"w-full sm:w-auto",children:[s.jsx(ee,{className:"text-xl sm:text-2xl text-kic-gray break-words",children:e.name}),s.jsx(ut,{className:"text-kic-gray/70 text-sm sm:text-base break-words",children:e.description})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto justify-start sm:justify-end",children:[s.jsx(H,{variant:"secondary",className:"bg-kic-green-100 text-kic-green-800 text-xs",children:"App Development"}),s.jsxs(H,{variant:"outline",className:"border-kic-green-200 text-xs",children:[e.member_count||0," Members"]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(Vu,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Mobile Apps"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"18"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(Ym,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Total Downloads"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"2.4K"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(qn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Avg Rating"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"4.6"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(Cee,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Cross-Platform"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"6"})]})]})})})]}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm w-full shadow-lg border-0",children:s.jsx(L,{className:"p-4 sm:p-6 w-full",children:s.jsx(Ap,{communityId:e.id})})})]})}),fLe=({community:e})=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kic-lightGray via-kic-nearWhite to-kic-offWhite w-full",children:s.jsxs("div",{className:"container mx-auto p-4 sm:p-6 w-full max-w-none",children:[s.jsx(R,{className:"mb-4 sm:mb-6 border-kic-green-200 bg-white/80 backdrop-blur-sm w-full shadow-lg",children:s.jsx(Z,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full sm:w-auto",children:[s.jsx("div",{className:"p-3 rounded-full bg-kic-green-100 flex-shrink-0",children:s.jsx(Jr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-kic-green-600"})}),s.jsxs("div",{className:"w-full sm:w-auto",children:[s.jsx(ee,{className:"text-xl sm:text-2xl text-kic-gray break-words",children:e.name}),s.jsx(ut,{className:"text-kic-gray/70 text-sm sm:text-base break-words",children:e.description})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto justify-start sm:justify-end",children:[s.jsx(H,{variant:"secondary",className:"bg-kic-green-100 text-kic-green-800 text-xs",children:"Cybersecurity"}),s.jsxs(H,{variant:"outline",className:"border-kic-green-200 text-xs",children:[e.member_count||0," Members"]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(Jr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Security Projects"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"12"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(cc,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Vulnerabilities Found"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"34"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(eI,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Patches Applied"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"28"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(Or,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Security Audits"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"7"})]})]})})})]}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm w-full shadow-lg border-0",children:s.jsx(L,{className:"p-4 sm:p-6 w-full",children:s.jsx(Ap,{communityId:e.id})})})]})}),mLe=({community:e})=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kic-lightGray via-kic-nearWhite to-kic-offWhite w-full",children:s.jsxs("div",{className:"container mx-auto p-4 sm:p-6 w-full max-w-none",children:[s.jsx(R,{className:"mb-4 sm:mb-6 border-kic-green-200 bg-white/80 backdrop-blur-sm w-full shadow-lg",children:s.jsx(Z,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full sm:w-auto",children:[s.jsx("div",{className:"p-3 rounded-full bg-kic-green-100 flex-shrink-0",children:s.jsx(uu,{className:"h-6 w-6 sm:h-8 sm:w-8 text-kic-green-600"})}),s.jsxs("div",{className:"w-full sm:w-auto",children:[s.jsx(ee,{className:"text-xl sm:text-2xl text-kic-gray break-words",children:e.name}),s.jsx(ut,{className:"text-kic-gray/70 text-sm sm:text-base break-words",children:e.description})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto justify-start sm:justify-end",children:[s.jsx(H,{variant:"secondary",className:"bg-kic-green-100 text-kic-green-800 text-xs",children:"Data Science"}),s.jsxs(H,{variant:"outline",className:"border-kic-green-200 text-xs",children:[e.member_count||0," Members"]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(AS,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Datasets"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"89"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(eee,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"ML Models"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"23"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(uu,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Visualizations"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"156"})]})]})})}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:s.jsx(L,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[s.jsx(Bn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-kic-green-600 flex-shrink-0"}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("p",{className:"text-xs sm:text-sm text-kic-gray/70",children:"Accuracy Rate"}),s.jsx("p",{className:"text-lg sm:text-lg font-semibold text-kic-gray",children:"94.2%"})]})]})})})]}),s.jsx(R,{className:"border-kic-green-200 bg-white/80 backdrop-blur-sm w-full shadow-lg border-0",children:s.jsx(L,{className:"p-4 sm:p-6 w-full",children:s.jsx(Ap,{communityId:e.id})})})]})}),c5=()=>{const{communityId:e}=sK(),{communities:t,loading:r}=e9();if(r)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray p-4",children:s.jsx(R,{className:"w-full max-w-md",children:s.jsx(L,{className:"p-6",children:s.jsx("p",{children:"Loading community dashboard..."})})})});if(!e)return s.jsx($f,{to:"/dashboard",replace:!0});const n=t.find(i=>i.id===e);if(!n)return s.jsx($f,{to:"/dashboard",replace:!0});if(!n.is_member)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray p-4",children:s.jsx(R,{className:"w-full max-w-md",children:s.jsxs(L,{className:"p-6 text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600",children:"You must be a member of this community to access its dashboard."})]})})});const a=n.name.toLowerCase();return a.includes("iot")||a.includes("internet of things")?s.jsx(uLe,{community:n}):a.includes("web")&&a.includes("development")?s.jsx(dLe,{community:n}):a.includes("app")&&a.includes("development")?s.jsx(hLe,{community:n}):a.includes("cybersecurity")||a.includes("cyber security")?s.jsx(fLe,{community:n}):a.includes("data science")||a.includes("machine learning")?s.jsx(mLe,{community:n}):s.jsx("div",{className:"min-h-screen bg-kic-lightGray p-4",children:s.jsx("div",{className:"container mx-auto",children:s.jsx(R,{className:"w-full",children:s.jsxs(L,{className:"p-6 text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Community Dashboard"}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["Welcome to ",n.name]}),s.jsx("p",{className:"text-sm text-gray-500",children:"This community dashboard is currently under development."})]})})})})},pLe=()=>(ye(),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-emerald-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx(rr,{children:s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Innovation Club Elections"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Participate in democratic leadership selection for our community"})]})}),s.jsxs(Mr,{defaultValue:"elections",className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs(Yt,{className:"grid w-full max-w-md grid-cols-2 lg:max-w-2xl lg:grid-cols-4",children:[s.jsx(te,{value:"elections",children:"Elections"}),s.jsx(te,{value:"vote",children:"Vote"}),s.jsx(te,{value:"apply",children:"Apply"}),s.jsx(te,{value:"results",children:"Results"})]})}),s.jsx(de,{value:"elections",children:s.jsx(rr,{delay:200,children:s.jsx(t9,{})})}),s.jsx(de,{value:"vote",children:s.jsx(rr,{delay:200,children:s.jsx(r9,{})})}),s.jsx(de,{value:"apply",children:s.jsx(rr,{delay:200,children:s.jsx(n9,{})})}),s.jsx(de,{value:"results",children:s.jsx(rr,{delay:200,children:s.jsx(s9,{})})})]}),s.jsx(fr,{requiredRole:"general_admin",children:s.jsx(rr,{delay:400,className:"mt-12",children:s.jsxs("div",{className:"border-t pt-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Admin Management"}),s.jsx(S7,{})]})})})]})})),HC=()=>{const{toast:e}=xe(),{user:t}=ye();return{createNotification:async(n,a,i,o="medium",l)=>{if(!t){e({title:"Error",description:"You must be logged in to create notifications",variant:"destructive"});return}try{const{error:c}=await A.from("notifications").insert({user_id:t.id,type:n,title:a,message:i,priority:o,metadata:l||{},is_read:!1});if(c)throw c;e({title:"Notification Created",description:`${n} notification created successfully`})}catch(c){console.error("Error creating notification:",c),e({title:"Error",description:"Failed to create notification",variant:"destructive"})}}}},NV=e=>{switch(e){case"urgent":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},_V=[{type:"achievement",title:"World-Class Achievement Unlocked! ",message:"Congratulations! You have reached an extraordinary milestone that puts you among the elite innovators. Your dedication and excellence have been recognized at the highest level.",priority:"urgent",icon:O.createElement(Wt,{className:"w-4 h-4 text-yellow-600"}),metadata:{isWorldClass:!0,animation:"celebration",sound:"success"}},{type:"success",title:"Excellence Recognition Award",message:"Your outstanding contribution has been acknowledged by the innovation committee. This world-class performance sets a new standard for excellence.",priority:"high",icon:O.createElement(qn,{className:"w-4 h-4 text-purple-600"}),metadata:{isWorldClass:!0,animation:"sparkle",sound:"chime"}},{type:"announcement",title:"Elite Member Status Achieved",message:"Welcome to the exclusive circle of world-class innovators! Your exceptional skills and dedication have earned you this prestigious recognition.",priority:"high",icon:O.createElement(Ze,{className:"w-4 h-4 text-green-600"}),metadata:{isWorldClass:!0,animation:"glow",special:"elite"}}],SV=[{type:"event",title:"Upcoming Innovation Workshop",message:"Join us for an exciting workshop on cutting-edge technology. Registration deadline is approaching!",priority:"medium",icon:O.createElement(Ae,{className:"w-4 h-4 text-blue-600"})},{type:"payment",title:"Payment Reminder",message:"Your membership payment is due soon. Please complete the payment to continue enjoying all benefits.",priority:"high",icon:O.createElement(gi,{className:"w-4 h-4 text-green-600"})},{type:"approval",title:"Project Approved",message:"Great news! Your project submission has been approved and will be featured on our platform.",priority:"medium",icon:O.createElement(Ze,{className:"w-4 h-4 text-green-600"})},{type:"alert",title:"System Maintenance",message:"Scheduled maintenance will occur tonight from 2:00 AM to 4:00 AM. Some features may be temporarily unavailable.",priority:"medium",icon:O.createElement(cc,{className:"w-4 h-4 text-orange-600"})},{type:"info",title:"New Feature Available",message:"Check out our latest feature updates! Enhanced project collaboration tools are now live.",priority:"low",icon:O.createElement(oc,{className:"w-4 h-4 text-blue-600"})}],gLe=()=>{const{createNotification:e}=HC();return s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Ro,{className:"w-5 h-5 text-yellow-500"}),"World-Class Notifications"]}),s.jsx("div",{className:"grid gap-4",children:_V.map((t,r)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border-2 border-gradient-to-r from-purple-100 to-pink-100 rounded-xl bg-gradient-to-r from-purple-25 to-pink-25 hover:shadow-lg transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:t.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:t.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.message}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${NV(t.priority)}`,children:[t.priority," priority"]}),s.jsx("span",{className:"text-xs bg-gradient-to-r from-purple-100 to-pink-100 text-purple-800 px-3 py-1 rounded-full font-medium",children:"WORLD CLASS"})]})]})]}),s.jsx(M,{size:"sm",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg",onClick:()=>e(t.type,t.title,t.message,t.priority,t.metadata),children:"Create"})]},r))})]})},xLe=()=>{const{createNotification:e}=HC();return s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Pn,{className:"w-5 h-5 text-blue-500"}),"Standard Notifications"]}),s.jsx("div",{className:"grid gap-3",children:SV.map((t,r)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:shadow-md transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-1.5 bg-gray-100 rounded-md",children:t.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:t.title}),s.jsx("p",{className:"text-sm text-gray-500",children:t.message}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded mt-1 inline-block ${NV(t.priority)}`,children:[t.priority," priority"]})]})]}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>e(t.type,t.title,t.message,t.priority),children:"Create"})]},r))})]})},vLe=()=>{const{createNotification:e}=HC(),t=()=>{[..._V,...SV].forEach((r,n)=>{setTimeout(()=>{e(r.type,r.title,r.message,r.priority,"metadata"in r?r.metadata:void 0)},n*1e3)})};return s.jsx("div",{className:"pt-4 border-t",children:s.jsxs(M,{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg",onClick:t,children:[s.jsx(ms,{className:"w-4 h-4 mr-2"}),"Create All Notifications (World-Class Demo)"]})})},yLe=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs(R,{className:"border-2 border-gradient-to-r from-purple-200 to-pink-200 shadow-xl",children:[s.jsx(Z,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:s.jsxs(ee,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg",children:s.jsx(ms,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"World-Class Notification System"}),s.jsx("p",{className:"text-sm text-gray-600 font-normal",children:"Experience the most advanced notification system ever created"})]})]})}),s.jsxs(L,{className:"space-y-6 pt-6",children:[s.jsx(gLe,{}),s.jsx(xLe,{}),s.jsx(vLe,{})]})]})}),bLe=()=>{const{toast:e}=xe(),{user:t}=ye(),r=async(a,i,o,l="medium")=>{if(!t){e({title:"Error",description:"You must be logged in to create notifications",variant:"destructive"});return}try{const{error:c}=await A.from("notifications").insert({user_id:t.id,type:a,title:i,message:o,priority:l,is_read:!1});if(c)throw c;e({title:"Notification Created",description:`${a} notification created successfully`})}catch(c){console.error("Error creating notification:",c),e({title:"Error",description:"Failed to create notification",variant:"destructive"})}},n=[{type:"awold",title:"Awold Class Notification",message:"This is a special awold class notification to test the system",priority:"high",icon:s.jsx(cc,{className:"w-4 h-4"})},{type:"event",title:"Test Event Notification",message:"Upcoming event: Weekly Innovation Meeting",priority:"medium",icon:s.jsx(Pn,{className:"w-4 h-4"})},{type:"announcement",title:"Test Announcement",message:"Important announcement for all members",priority:"high",icon:s.jsx(oc,{className:"w-4 h-4"})},{type:"approval",title:"Test Approval",message:"Your project has been approved!",priority:"medium",icon:s.jsx(Ze,{className:"w-4 h-4"})}];return s.jsxs(R,{className:"w-full max-w-2xl",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"w-5 h-5"}),"Notification System Tester"]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Test the notification system by creating different types of notifications."}),s.jsx("div",{className:"grid gap-3",children:n.map((a,i)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[a.icon,s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:a.title}),s.jsx("p",{className:"text-sm text-gray-500",children:a.message}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded ${a.priority==="high"?"bg-red-100 text-red-800":a.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[a.priority," priority"]})]})]}),s.jsx(M,{size:"sm",onClick:()=>r(a.type,a.title,a.message,a.priority),children:"Create"})]},i))}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(M,{variant:"outline",className:"w-full",onClick:()=>{n.forEach((a,i)=>{setTimeout(()=>{r(a.type,a.title,a.message,a.priority)},i*1e3)})},children:"Create All Test Notifications"})})]})]})},wLe=()=>s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Perfect Notification System"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Experience the most advanced, real-time notification system with world-class features, instant updates, and beautiful animations."})]}),s.jsxs("div",{className:"grid gap-8",children:[s.jsx(yLe,{}),s.jsxs(R,{className:"border-2 border-blue-200 shadow-lg",children:[s.jsx(Z,{className:"bg-gradient-to-r from-blue-50 to-indigo-50",children:s.jsxs(ee,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-lg",children:s.jsx(Pn,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Standard Notification Testing"}),s.jsx("p",{className:"text-sm text-gray-600 font-normal",children:"Test regular notification features and functionality"})]})]})}),s.jsx(L,{className:"pt-6",children:s.jsx(bLe,{})})]}),s.jsxs(R,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-3 text-green-800",children:[s.jsx(ms,{className:"w-6 h-6"}),"Perfect Notification Features"]})}),s.jsx(L,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-semibold text-green-800",children:"Real-time Features"}),s.jsxs("ul",{className:"space-y-2 text-sm text-green-700",children:[s.jsx("li",{children:" Instant notification delivery"}),s.jsx("li",{children:" Live read/unread status updates"}),s.jsx("li",{children:" Real-time notification counts"}),s.jsx("li",{children:" Automatic UI synchronization"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-semibold text-green-800",children:"Advanced Features"}),s.jsxs("ul",{className:"space-y-2 text-sm text-green-700",children:[s.jsx("li",{children:" World-class notification animations"}),s.jsx("li",{children:" Priority-based styling and alerts"}),s.jsx("li",{children:" Toast notifications for urgent items"}),s.jsx("li",{children:" Enhanced notification metadata"})]})]})]})})]})]})]}),jLe=({selectedOption:e})=>{const t=()=>{switch(e){case"registration":return"Your registration is complete. Consider adding subscription later.";case"subscription":return"Your semester subscription is now active.";case"both":return"You're fully registered with current semester access.";default:return"Welcome to KIC!"}};return s.jsxs(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center space-y-6",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-green-100 dark:bg-green-900/30",children:s.jsx(zl,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome to KIC!"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t()}),s.jsx(M,{variant:"default",className:"w-full py-6 bg-gradient-to-r from-blue-600 to-indigo-600",size:"lg",children:"Access Member Resources"})]})},rj=({option:e,amount:t,label:r,description:n,selected:a,onSelect:i,isRecommended:o=!1})=>s.jsx(ve.div,{whileHover:{scale:1.01},className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${a?e==="both"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700"}`,onClick:i,children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-bold",children:r}),o&&s.jsx(H,{variant:"default",className:"text-xs",children:"Best Value"})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n})]}),s.jsxs(H,{variant:e==="both"?"default":"outline",className:"text-lg font-mono",children:["KSh ",t]})]})}),NLe=()=>{const e=[{icon:s.jsx(Ro,{className:"h-5 w-5"}),text:"Access to innovation workshops"},{icon:s.jsx(Ae,{className:"h-5 w-5"}),text:"Event participation"},{icon:s.jsx(Oe,{className:"h-5 w-5"}),text:"Networking opportunities"},{icon:s.jsx(ya,{className:"h-5 w-5"}),text:"Learning resources"},{icon:s.jsx(dee,{className:"h-5 w-5"}),text:"Project showcase"},{icon:s.jsx(lr,{className:"h-5 w-5"}),text:"Membership certificate"}];return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm",children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Membership Benefits"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map((t,r)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-blue-500",children:t.icon}),t.text]},r))})]})},_Le=({selectedOption:e,setSelectedOption:t,setShowPaymentForm:r,isRegistered:n})=>{const a={registration:{amount:100,label:"Registration Only",description:"One-time club registration"},subscription:{amount:100,label:"Semester Subscription",description:"Renewable each semester"},both:{amount:200,label:"Registration + Subscription",description:"Best value package"}};return s.jsxs(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Select Payment Option:"}),!n&&s.jsx(rj,{option:"registration",amount:a.registration.amount,label:a.registration.label,description:a.registration.description,selected:e==="registration",onSelect:()=>t("registration")}),s.jsx(rj,{option:"subscription",amount:a.subscription.amount,label:a.subscription.label,description:a.subscription.description,selected:e==="subscription",onSelect:()=>t("subscription")}),!n&&s.jsx(rj,{option:"both",amount:a.both.amount,label:a.both.label,description:a.both.description,selected:e==="both",onSelect:()=>t("both"),isRecommended:!0})]}),s.jsx(NLe,{}),s.jsxs("div",{className:"pt-2",children:[s.jsx(M,{onClick:()=>e&&r(!0),disabled:!e,className:"w-full py-6 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg transition-all",size:"lg",children:e?`Pay KSh ${a[e].amount}`:"Select an option above"}),s.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mt-2",children:"Secure payment processing. Semester subscriptions auto-expire."})]})]})},SLe=({isRegistered:e=!1})=>{const[t,r]=x.useState(!1),[n,a]=x.useState(!1),[i,o]=x.useState(),{toast:l}=xe(),c={registration:{amount:100},subscription:{amount:100},both:{amount:200}},u=h=>"membership",d=()=>{r(!1),a(!0),l({title:"Payment Successful!",description:i==="registration"?"You are now registered with KIC":i==="subscription"?"Your semester subscription is active":"You're registered with current semester access"})};return t&&i?s.jsx(wk,{amount:c[i].amount,paymentType:u(),onSuccess:d,onError:h=>l({title:"Payment Error",description:h,variant:"destructive"})}):s.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto",children:s.jsxs(R,{className:"border-none shadow-xl rounded-2xl overflow-hidden bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[s.jsx(Z,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6",children:s.jsxs(ee,{className:"flex flex-col gap-2 text-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-white/20",children:s.jsx(lr,{className:"h-6 w-6"})}),s.jsx("span",{className:"text-2xl font-bold",children:"KIC Membership"})]}),s.jsx("p",{className:"text-sm font-normal opacity-90",children:e?"Renew or upgrade your membership":"Join our innovation community"})]})}),s.jsx(L,{className:"p-6",children:s.jsx(zs,{mode:"wait",children:n?s.jsx(jLe,{selectedOption:i}):s.jsx(_Le,{selectedOption:i,setSelectedOption:o,setShowPaymentForm:r,isRegistered:e})})}),s.jsx(oi,{className:"bg-gray-50 dark:bg-gray-800/50 p-4 border-t",children:s.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:["Karatina Innovation Club - Semester ",new Date().getMonth()<6?"1":"2"," ",new Date().getFullYear()]})})]})})},kLe=()=>{const{user:e}=ye(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(null);x.useEffect(()=>{e?l():a(!1)},[e]);const l=async()=>{try{a(!0),o(null);const{data:d,error:h}=await A.from("mpesa_payments").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1}).limit(5);if(h)throw h;r(d||[])}catch(d){console.error("Error fetching payments:",d),o("Failed to load payment history. Please try again.")}finally{a(!1)}},c=d=>{switch(d.status){case"completed":return{color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",icon:s.jsx(see,{className:"h-4 w-4"}),label:"Completed"};case"failed":return{color:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",icon:s.jsx(An,{className:"h-4 w-4"}),label:"Failed"};case"pending":return{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",icon:s.jsx(vt,{className:"h-4 w-4"}),label:"Pending"};default:return{color:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400",icon:s.jsx(lc,{className:"h-4 w-4 animate-spin"}),label:"Processing"}}},u=d=>{switch(d.toLowerCase()){case"membership":return s.jsx(aa,{className:"h-5 w-5 text-blue-500"});case"event":return s.jsx(Ae,{className:"h-5 w-5 text-purple-500"});default:return s.jsx(aa,{className:"h-5 w-5 text-gray-500"})}};return s.jsxs(R,{className:"border-none shadow-sm rounded-xl overflow-hidden",children:[s.jsx(Z,{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 border-b",children:s.jsxs(ee,{className:"flex items-center gap-3",children:[s.jsx(aa,{className:"h-6 w-6 text-blue-600"}),s.jsx("span",{className:"text-lg font-semibold",children:"Payment History"})]})}),s.jsx(L,{className:"p-0",children:i?s.jsxs("div",{className:"p-6 text-center text-red-500",children:[s.jsx("p",{children:i}),s.jsx(M,{variant:"ghost",className:"mt-2 text-blue-600 dark:text-blue-400",onClick:l,children:"Retry"})]}):n?s.jsx("div",{className:"space-y-4 p-6",children:[...Array(3)].map((d,h)=>s.jsxs("div",{className:"flex items-center justify-between p-3",children:[s.jsxs("div",{className:"flex items-center gap-3 w-full",children:[s.jsx(Ua,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Ua,{className:"h-4 w-[100px]"}),s.jsx(Ua,{className:"h-3 w-[80px]"})]})]}),s.jsx(Ua,{className:"h-6 w-[80px]"})]},h))}):t.length===0?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:s.jsx(aa,{className:"h-5 w-5 text-gray-400"})}),s.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300",children:"No recent payments"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Your payment history will appear here"})]}):s.jsx(ve.ul,{className:"divide-y divide-gray-100 dark:divide-gray-800",children:s.jsx(zs,{children:t.map(d=>{const h=c(d);return s.jsx(ve.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:"hover:bg-gray-50 dark:hover:bg-gray-900/30 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-gray-100 dark:bg-gray-800",children:u(d.payment_type)}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium flex items-center gap-1",children:["KSh ",d.amount,s.jsxs("span",{className:"text-xs font-normal text-gray-500 dark:text-gray-400",children:[" ",d.payment_type]})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:ui(new Date(d.created_at),"MMM d, yyyy  h:mm a")})]})]}),s.jsxs(H,{className:`${h.color} px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1`,children:[h.icon,h.label]})]})},d.id)})})})}),t.length>0&&s.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800 text-center",children:s.jsx(M,{variant:"ghost",className:"text-blue-600 dark:text-blue-400",onClick:l,children:"Refresh Payment History"})})]})},CLe=()=>{const{user:e,loading:t}=ye();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-kic-lightGray",children:s.jsx(R,{children:s.jsxs(L,{className:"p-6 text-center",children:[s.jsx(lc,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-kic-green-500"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})})}):e?s.jsx("div",{className:"min-h-screen bg-kic-lightGray",children:s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-kic-gray mb-6",children:"Payments"}),s.jsxs(Mr,{defaultValue:"membership",className:"space-y-4",children:[s.jsxs(Yt,{className:"grid w-full grid-cols-3",children:[s.jsx(te,{value:"membership",children:"Membership"}),s.jsx(te,{value:"status",children:"Payment Status"}),s.jsx(te,{value:"history",children:"Payment History"})]}),s.jsx(de,{value:"membership",children:s.jsx(SLe,{})}),s.jsx(de,{value:"status",children:s.jsx(kLe,{})}),s.jsx(de,{value:"history",children:s.jsx(eF,{payments:[]})})]})]})}):s.jsx($f,{to:"/login",replace:!0})},PLe=x.createContext(void 0),ALe=({children:e})=>{const{user:t}=ye(),{toast:r}=xe(),[n,a]=x.useState([]),i=async()=>{if(t)try{const{data:d,error:h}=await A.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(h)throw h;const f=(d||[]).map(m=>({id:m.id,title:m.title,message:m.message,type:m.type,is_read:m.is_read,created_at:m.created_at,priority:m.priority||void 0,action_url:m.action_url||void 0,expires_at:m.expires_at||void 0}));a(f)}catch(d){console.error("Error fetching notifications:",d)}},o=async d=>{try{const{error:h}=await A.from("notifications").update({is_read:!0}).eq("id",d);if(h)throw h;a(f=>f.map(m=>m.id===d?{...m,is_read:!0}:m))}catch(h){console.error("Error marking notification as read:",h)}},l=async()=>{if(t)try{const{error:d}=await A.from("notifications").update({is_read:!0}).eq("user_id",t.id).eq("is_read",!1);if(d)throw d;a(h=>h.map(f=>({...f,is_read:!0}))),r({title:"All notifications marked as read",description:"Your notification list has been cleared"})}catch(d){console.error("Error marking all notifications as read:",d)}};x.useEffect(()=>{if(!t)return;i();const d=A.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},h=>{const f=h.new,m={id:f.id,title:f.title,message:f.message,type:f.type,is_read:f.is_read,created_at:f.created_at,priority:f.priority||void 0,action_url:f.action_url||void 0,expires_at:f.expires_at||void 0};a(g=>[m,...g]),m.priority==="high"&&r({title:m.title,description:m.message})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},h=>{const f=h.new,m={id:f.id,title:f.title,message:f.message,type:f.type,is_read:f.is_read,created_at:f.created_at,priority:f.priority||void 0,action_url:f.action_url||void 0,expires_at:f.expires_at||void 0};a(g=>g.map(p=>p.id===m.id?m:p))}).subscribe();return()=>{A.removeChannel(d)}},[t]);const c=n.filter(d=>!d.is_read).length,u={notifications:n,unreadCount:c,markAsRead:o,markAllAsRead:l,refreshNotifications:i};return s.jsx(PLe.Provider,{value:u,children:e})};var KC="ToastProvider",[GC,ELe,TLe]=Jy("Toast"),[kV,k8e]=gs("Toast",[TLe]),[OLe,ib]=kV(KC),CV=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=x.useState(null),[u,d]=x.useState(0),h=x.useRef(!1),f=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${KC}\`. Expected non-empty \`string\`.`),s.jsx(GC.Provider,{scope:t,children:s.jsx(OLe,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>d(m=>m+1),[]),onToastRemove:x.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};CV.displayName=KC;var PV="ToastViewport",MLe=["F8"],F_="toast.viewportPause",B_="toast.viewportResume",AV=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=MLe,label:a="Notifications ({hotkey})",...i}=e,o=ib(PV,r),l=ELe(r),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),h=x.useRef(null),f=Ke(t,h,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;x.useEffect(()=>{const y=b=>{var w;n.length!==0&&n.every(j=>b[j]||b.code===j)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),x.useEffect(()=>{const y=c.current,b=h.current;if(g&&y&&b){const v=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(F_);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(B_);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!y.contains(S.relatedTarget)&&w()},N=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",v),y.addEventListener("focusout",j),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",j),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=x.useCallback(({tabbingDirection:y})=>{const v=l().map(w=>{const j=w.ref.current,N=[j,...HLe(j)];return y==="forwards"?N:N.reverse()});return(y==="forwards"?v.reverse():v).flat()},[l]);return x.useEffect(()=>{const y=h.current;if(y){const b=v=>{var N,S,_;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const k=document.activeElement,C=v.shiftKey;if(v.target===y&&C){(N=u.current)==null||N.focus();return}const T=p({tabbingDirection:C?"backwards":"forwards"}),F=T.findIndex(D=>D===k);nj(T.slice(F+1))?v.preventDefault():C?(S=u.current)==null||S.focus():(_=d.current)==null||_.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[l,p]),s.jsxs(yae,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(U_,{ref:u,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"forwards"});nj(y)}}),s.jsx(GC.Slot,{scope:r,children:s.jsx(ke.ol,{tabIndex:-1,...i,ref:f})}),g&&s.jsx(U_,{ref:d,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"backwards"});nj(y)}})]})});AV.displayName=PV;var EV="ToastFocusProxy",U_=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=ib(EV,r);return s.jsx(a0,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});U_.displayName=EV;var ob="Toast",RLe="toast.swipeStart",DLe="toast.swipeMove",$Le="toast.swipeCancel",ILe="toast.swipeEnd",TV=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=ja({prop:n,defaultProp:a,onChange:i});return s.jsx(Ur,{present:r||l,children:s.jsx(BLe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Lt(e.onPause),onResume:Lt(e.onResume),onSwipeStart:he(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:he(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});TV.displayName=ob;var[LLe,FLe]=kV(ob,{onClose(){}}),BLe=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...g}=e,p=ib(ob,r),[y,b]=x.useState(null),v=Ke(t,D=>b(D)),w=x.useRef(null),j=x.useRef(null),N=a||p.duration,S=x.useRef(0),_=x.useRef(N),k=x.useRef(0),{onToastAdd:C,onToastRemove:P}=p,E=Lt(()=>{var $;(y==null?void 0:y.contains(document.activeElement))&&(($=p.viewport)==null||$.focus()),o()}),T=x.useCallback(D=>{!D||D===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(E,D))},[E]);x.useEffect(()=>{const D=p.viewport;if(D){const $=()=>{T(_.current),u==null||u()},U=()=>{const q=new Date().getTime()-S.current;_.current=_.current-q,window.clearTimeout(k.current),c==null||c()};return D.addEventListener(F_,U),D.addEventListener(B_,$),()=>{D.removeEventListener(F_,U),D.removeEventListener(B_,$)}}},[p.viewport,N,c,u,T]),x.useEffect(()=>{i&&!p.isClosePausedRef.current&&T(N)},[i,N,p.isClosePausedRef,T]),x.useEffect(()=>(C(),()=>P()),[C,P]);const F=x.useMemo(()=>y?LV(y):null,[y]);return p.viewport?s.jsxs(s.Fragment,{children:[F&&s.jsx(ULe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),s.jsx(LLe,{scope:r,onClose:E,children:ac.createPortal(s.jsx(GC.ItemSlot,{scope:r,children:s.jsx(vae,{asChild:!0,onEscapeKeyDown:he(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||E(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:he(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:he(e.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:he(e.onPointerMove,D=>{if(!w.current)return;const $=D.clientX-w.current.x,U=D.clientY-w.current.y,q=!!j.current,I=["left","right"].includes(p.swipeDirection),V=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Y=I?V(0,$):0,se=I?0:V(0,U),ie=D.pointerType==="touch"?10:2,je={x:Y,y:se},Ee={originalEvent:D,delta:je};q?(j.current=je,Ag(DLe,h,Ee,{discrete:!1})):u5(je,p.swipeDirection,ie)?(j.current=je,Ag(RLe,d,Ee,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs($)>ie||Math.abs(U)>ie)&&(w.current=null)}),onPointerUp:he(e.onPointerUp,D=>{const $=j.current,U=D.target;if(U.hasPointerCapture(D.pointerId)&&U.releasePointerCapture(D.pointerId),j.current=null,w.current=null,$){const q=D.currentTarget,I={originalEvent:D,delta:$};u5($,p.swipeDirection,p.swipeThreshold)?Ag(ILe,m,I,{discrete:!0}):Ag($Le,f,I,{discrete:!0}),q.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),ULe=e=>{const{__scopeToast:t,children:r,...n}=e,a=ib(ob,t),[i,o]=x.useState(!1),[l,c]=x.useState(!1);return qLe(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Bd,{asChild:!0,children:s.jsx(a0,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},zLe="ToastTitle",OV=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ke.div,{...n,ref:t})});OV.displayName=zLe;var VLe="ToastDescription",MV=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ke.div,{...n,ref:t})});MV.displayName=VLe;var RV="ToastAction",DV=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(IV,{altText:r,asChild:!0,children:s.jsx(YC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${RV}\`. Expected non-empty \`string\`.`),null)});DV.displayName=RV;var $V="ToastClose",YC=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=FLe($V,r);return s.jsx(IV,{asChild:!0,children:s.jsx(ke.button,{type:"button",...n,ref:t,onClick:he(e.onClick,a.onClose)})})});YC.displayName=$V;var IV=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function LV(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),WLe(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...LV(n))}}),t}function Ag(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?FS(a,i):a.dispatchEvent(i)}var u5=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function qLe(e=()=>{}){const t=Lt(e);Nr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function WLe(e){return e.nodeType===e.ELEMENT_NODE}function HLe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function nj(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var KLe=CV,FV=AV,BV=TV,UV=OV,zV=MV,VV=DV,qV=YC;const GLe=KLe,WV=x.forwardRef(({className:e,...t},r)=>s.jsx(FV,{ref:r,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));WV.displayName=FV.displayName;const YLe=Zm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),HV=x.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(BV,{ref:n,className:ne(YLe({variant:t}),e),...r}));HV.displayName=BV.displayName;const XLe=x.forwardRef(({className:e,...t},r)=>s.jsx(VV,{ref:r,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));XLe.displayName=VV.displayName;const KV=x.forwardRef(({className:e,...t},r)=>s.jsx(qV,{ref:r,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Kn,{className:"h-4 w-4"})}));KV.displayName=qV.displayName;const GV=x.forwardRef(({className:e,...t},r)=>s.jsx(UV,{ref:r,className:ne("text-sm font-semibold",e),...t}));GV.displayName=UV.displayName;const YV=x.forwardRef(({className:e,...t},r)=>s.jsx(zV,{ref:r,className:ne("text-sm opacity-90",e),...t}));YV.displayName=zV.displayName;function QLe(){const{toasts:e}=xe();return s.jsxs(GLe,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(HV,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(GV,{children:r}),n&&s.jsx(YV,{children:n})]}),a,s.jsx(KV,{})]},t)}),s.jsx(WV,{})]})}const JLe=new VK;function ZLe(){return s.jsx(u6,{children:s.jsx(GK,{client:JLe,children:s.jsx(Jre,{children:s.jsx(ALe,{children:s.jsxs(SK,{children:[s.jsx(pse,{children:s.jsxs(vK,{children:[s.jsx(qr,{path:"/",element:s.jsx(Wse,{})}),s.jsx(qr,{path:"/about",element:s.jsx(iIe,{})}),s.jsx(qr,{path:"/login",element:s.jsx(TIe,{})}),s.jsx(qr,{path:"/register",element:s.jsx(RIe,{})}),s.jsx(qr,{path:"/projects",element:s.jsx(lIe,{})}),s.jsx(qr,{path:"/leaderboard",element:s.jsx(EIe,{})}),s.jsx(qr,{path:"/blogs",element:s.jsx(UIe,{})}),s.jsx(qr,{path:"/events",element:s.jsx(VIe,{})}),s.jsx(qr,{path:"/careers",element:s.jsx(WIe,{})}),s.jsx(qr,{path:"/dashboard",element:s.jsx(sl,{requireApproval:!1,children:s.jsx(tIe,{})})}),s.jsx(qr,{path:"/elections",element:s.jsx(sl,{requireApproval:!0,children:s.jsx(pLe,{})})}),s.jsx(qr,{path:"/payments",element:s.jsx(sl,{requireApproval:!1,children:s.jsx(CLe,{})})}),s.jsx(qr,{path:"/community/:communityId",element:s.jsx(sl,{requireApproval:!0,children:s.jsx(c5,{})})}),s.jsx(qr,{path:"/community-dashboard/:communityId",element:s.jsx(sl,{requireApproval:!0,children:s.jsx(c5,{})})}),s.jsx(qr,{path:"/test-notifications",element:s.jsx(sl,{requireApproval:!1,requiredRole:"super_admin",children:s.jsx(wLe,{})})})]})}),s.jsx(QLe,{})]})})})})})}const XV=document.getElementById("root");if(!XV)throw new Error('Root container not found. Make sure your index.html has a div with id="root"');const e8e=RD(XV);e8e.render(s.jsx(O.StrictMode,{children:s.jsx(ZLe,{})}));export{ot as g};
